<ld:data-definition xmlns:ld="http://github.com/peterix/dfhack/lowered-data-definition">
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ui_advmode_menu" base-type="int16_t">
        <enum-item name="Default" value="0"/>
        <enum-item name="Look"/>
        <enum-item name="Talk"/>
        <enum-item name="Inventory"/>
        <enum-item name="Drop"/>

        <enum-item name="ThrowItem"/>
        <enum-item name="Wear"/>
        <enum-item name="Remove"/>
        <enum-item name="Interact"/>
        <enum-item name="Put"/>

        <enum-item name="Unk10"/>
        <enum-item name="Eat"/>
        <enum-item name="ThrowAim"/>
        <enum-item name="Unk13"/>
        <enum-item name="Get"/>

        <enum-item name="Fire"/>
        <enum-item name="CombatPrefs"/>
        <enum-item name="Companions"/>
        <enum-item name="Unk18"/>
        <enum-item name="Unk19"/>

        <enum-item name="Unk20"/>
        <enum-item name="Announcements"/>
        <enum-item name="Attack"/>
        <enum-item name="UseBuilding"/>
        <enum-item name="Travel"/>

        <enum-item name="Unk25"/>
        <enum-item name="Unk26"/>
        <enum-item name="Unk27"/>
        <enum-item name="Unk28"/>
        <enum-item name="Sleep"/>

        <enum-item name="Unk30"/>
        <enum-item name="Unk31"/>
        <enum-item name="Unk32"/>
        <enum-item name="Unk33"/>
        <enum-item name="Unk34"/>

        <enum-item name="Unk35"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="conversation">
        <ld:field name="conv_title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="state" ld:level="1" ld:meta="compound" ld:typedef-name="T_state">
            <enum-item name="started"/>
            <enum-item name="active"/>
            <enum-item name="finished"/>
            <enum-item name="quit"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="talk_choices" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="unk_30" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_34" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_38" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_3c" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_40" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_44" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_48" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_4c" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_50" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_54" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="nemesis_record"><ld:item ld:level="3" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_64" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_entity"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
        <ld:field name="unk_74" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_78" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_7c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_80" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_84" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_94" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_a4" ld:is-container="true"/>
        <ld:field ld:level="1" ld:meta="pointer" name="location" type-name="building" comment="civzone" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field name="unk_b8" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_bc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_speech">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="text" pointer-type="stl-string" comment="wordwrap" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
                <ld:field name="speaker" ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_14" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_18" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="fg" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="bg" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="bright" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_advmode">
        <ld:field ld:subtype="enum" base-type="int16_t" name="menu" type-name="ui_advmode_menu" ld:level="1" ld:meta="global"/>

        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="travel_clouds" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:subtype="enum" base-type="int8_t" name="travel_right_map" ld:level="1" ld:meta="compound" ld:typedef-name="T_travel_right_map">
            <enum-item name="MapNone"/>
            <enum-item name="MapSite"/>
            <enum-item name="MapWorld"/>
        </ld:field>
        <ld:field name="unk4a" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="travel_not_moved" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="unk4b" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="travel_move_countdown" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field size="2" ld:level="1" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>
        <ld:field name="tick_counter" comment="goes up to XXX" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="frame_counter" comment="goes up to 10000 (ticks?)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk6" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sleeping" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="bogeymen_timer" comment="initialized to 4-7 when the cackling starts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="bogeymen_killed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk9" comment="initialized to 60 when the cackling starts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk11" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk12" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk13" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk14" ld:is-container="true"/>

        <ld:field name="unk15" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk16" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk17" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk18" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk19" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk20" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk21" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk22" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="unk23" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk24" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk25" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk26" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="player_id" refers-to="$global.world.nemesis.all[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="talk_targets" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_talk_targets">
                <ld:field name="unit_id" ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="histfig_id" ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            </ld:item>
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="conversations" pointer-type="conversation" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="conversation"><ld:item ld:level="3" ld:meta="global" type-name="conversation"/></ld:item></ld:field>

        <ld:field name="unk_e0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_e4" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_e8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_ec" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_f0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_f4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_f8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_fc" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_100" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_104" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_108" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk28" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk29" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk30" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="actions" pointer-type="adventure_movement_option" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="adventure_movement_option"><ld:item ld:level="3" ld:meta="global" type-name="adventure_movement_option"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk31" comment="v0.34.08" ld:is-container="true"/>

        <ld:field name="unk32" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk33" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk34" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk35a" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk35b" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk35c" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk35d" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk36" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="companions" ld:level="1" ld:meta="compound" ld:typedef-name="T_companions">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unit" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="unit_visible" ld:is-container="true"/>
            <ld:field name="unit_position" type-name="coord_path" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all_histfigs" comment="includes dead" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk37" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk38" ld:is-container="true"/>

        <ld:field name="unk_1e4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1e8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1ec" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1f0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1f4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1f8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1fc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_200" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk39" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="unk_220" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_224" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="quest_list_link">
        <code-helper name="describe">(describe-obj $.item)</code-helper>
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="adv_task" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="adv_task"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="adv_task_type" base-type="int32_t">
        <enum-item name="KillNemesis"/>
        <enum-item name="SeekNemesis"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="adv_task" original-name="taskst" key-field="id">
        <ld:field ld:level="1" ld:meta="pointer" name="link" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="quest_giver_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="giver_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="adventurer_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="target_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="giver_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        -- 1/16 fraction of target_pos
        <ld:field name="target_x1" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="target_x2" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="target_y1" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="target_y2" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <virtual-methods>
            <vmethod ld:level="1" name="getType" ret-type="adv_task_type"><ret-type ld:level="2" ld:meta="global" type-name="adv_task_type"/></vmethod>
            <vmethod ld:level="1" name="getStatus" ret-type="int32_t" comment="0 done, 1 not found, 2 not killed?"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="getDescription"> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="onKill"> <ld:field name="histfig_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="updateTargetPos"/>

            <vmethod ld:level="1" name="getGoalSite" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="getTargetHistFig" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="task_kill_nemesisst" inherits-from="adv_task">
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target_hfid" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="is_killed" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="task_seek_nemesisst" inherits-from="adv_task">
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target_hfid" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="adventure_movement_option" original-name="adventure_movement_optionst">
        ...
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="announcement_type" base-type="int16_t">
        <enum-item name="REACHED_PEAK"/>
        <enum-item name="ERA_CHANGE"/>
        <enum-item name="FEATURE_DISCOVERY"/>
        <enum-item name="STRUCK_DEEP_METAL"/>
        <enum-item name="STRUCK_MINERAL"/>
        <enum-item name="STRUCK_ECONOMIC_MINERAL"/>
        <enum-item name="COMBAT_TWIST_WEAPON"/>
        <enum-item name="COMBAT_LET_ITEM_DROP"/>
        <enum-item name="COMBAT_START_CHARGE"/>
        <enum-item name="COMBAT_SURPRISE_CHARGE"/>
        <enum-item name="COMBAT_JUMP_DODGE_PROJ"/>
        <enum-item name="COMBAT_JUMP_DODGE_STRIKE"/>
        <enum-item name="COMBAT_DODGE"/>
        <enum-item name="COMBAT_COUNTERSTRIKE"/>
        <enum-item name="COMBAT_BLOCK"/>
        <enum-item name="COMBAT_PARRY"/>
        <enum-item name="COMBAT_CHARGE_COLLISION"/>
        <enum-item name="COMBAT_CHARGE_DEFENDER_TUMBLES"/>
        <enum-item name="COMBAT_CHARGE_DEFENDER_KNOCKED_OVER"/>
        <enum-item name="COMBAT_CHARGE_ATTACKER_TUMBLES"/>
        <enum-item name="COMBAT_CHARGE_ATTACKER_BOUNCE_BACK"/>
        <enum-item name="COMBAT_CHARGE_TANGLE_TOGETHER"/>
        <enum-item name="COMBAT_CHARGE_TANGLE_TUMBLE"/>
        <enum-item name="COMBAT_CHARGE_RUSH_BY"/>
        <enum-item name="COMBAT_CHARGE_MANAGE_STOP"/>
        <enum-item name="COMBAT_CHARGE_OBSTACLE_SLAM"/>
        <enum-item name="COMBAT_WRESTLE_LOCK"/>
        <enum-item name="COMBAT_WRESTLE_CHOKEHOLD"/>
        <enum-item name="COMBAT_WRESTLE_TAKEDOWN"/>
        <enum-item name="COMBAT_WRESTLE_THROW"/>
        <enum-item name="COMBAT_WRESTLE_RELEASE_LOCK"/>
        <enum-item name="COMBAT_WRESTLE_RELEASE_CHOKE"/>
        <enum-item name="COMBAT_WRESTLE_RELEASE_GRIP"/>
        <enum-item name="COMBAT_WRESTLE_STRUGGLE"/>
        <enum-item name="COMBAT_WRESTLE_RELEASE_LATCH"/>
        <enum-item name="COMBAT_WRESTLE_STRANGLE_KO"/>
        <enum-item name="COMBAT_WRESTLE_ADJUST_GRIP"/>
        <enum-item name="COMBAT_GRAB_TEAR"/>
        <enum-item name="COMBAT_STRIKE_DETAILS"/>
        <enum-item name="COMBAT_STRIKE_DETAILS_2"/>
        <enum-item name="COMBAT_EVENT_ENRAGED"/>
        <enum-item name="COMBAT_EVENT_STUCKIN"/>
        <enum-item name="COMBAT_EVENT_LATCH_BP"/>
        <enum-item name="COMBAT_EVENT_LATCH_GENERAL"/>
        <enum-item name="COMBAT_EVENT_PROPELLED_AWAY"/>
        <enum-item name="COMBAT_EVENT_KNOCKED_OUT"/>
        <enum-item name="COMBAT_EVENT_STUNNED"/>
        <enum-item name="COMBAT_EVENT_WINDED"/>
        <enum-item name="COMBAT_EVENT_NAUSEATED"/>
        <enum-item name="MIGRANT_ARRIVAL_NAMED"/>
        <enum-item name="MIGRANT_ARRIVAL"/>
        <enum-item name="DIG_CANCEL_WARM"/>
        <enum-item name="DIG_CANCEL_DAMP"/>
        <enum-item name="AMBUSH_DEFENDER"/>
        <enum-item name="AMBUSH_RESIDENT"/>
        <enum-item name="AMBUSH_THIEF"/>
        <enum-item name="AMBUSH_THIEF_SUPPORT_SKULKING"/>
        <enum-item name="AMBUSH_THIEF_SUPPORT_NATURE"/>
        <enum-item name="AMBUSH_THIEF_SUPPORT"/>
        <enum-item name="AMBUSH_MISCHIEVOUS"/>
        <enum-item name="AMBUSH_SNATCHER"/>
        <enum-item name="AMBUSH_SNATCHER_SUPPORT"/>
        <enum-item name="AMBUSH_AMBUSHER_NATURE"/>
        <enum-item name="AMBUSH_AMBUSHER"/>
        <enum-item name="AMBUSH_INJURED"/>
        <enum-item name="AMBUSH_OTHER"/>
        <enum-item name="AMBUSH_INCAPACITATED"/>
        <enum-item name="CARAVAN_ARRIVAL"/>
        <enum-item name="NOBLE_ARRIVAL"/>
        <enum-item name="D_MIGRANTS_ARRIVAL"/>
        <enum-item name="D_MIGRANT_ARRIVAL"/>
        <enum-item name="D_MIGRANT_ARRIVAL_DISCOURAGED"/>
        <enum-item name="D_NO_MIGRANT_ARRIVAL"/>
        <enum-item name="ANIMAL_TRAP_CATCH"/>
        <enum-item name="ANIMAL_TRAP_ROBBED"/>
        <enum-item name="MISCHIEF_LEVER"/>
        <enum-item name="MISCHIEF_PLATE"/>
        <enum-item name="MISCHIEF_CAGE"/>
        <enum-item name="MISCHIEF_CHAIN"/>
        <enum-item name="DIPLOMAT_ARRIVAL"/>
        <enum-item name="LIAISON_ARRIVAL"/>
        <enum-item name="TRADE_DIPLOMAT_ARRIVAL"/>
        <enum-item name="CAVE_COLLAPSE"/>
        <enum-item name="BIRTH_CITIZEN"/>
        <enum-item name="BIRTH_ANIMAL"/>
        <enum-item name="STRANGE_MOOD"/>
        <enum-item name="MADE_ARTIFACT"/>
        <enum-item name="NAMED_ARTIFACT"/>
        <enum-item name="ITEM_ATTACHMENT"/>
        <enum-item name="VERMIN_CAGE_ESCAPE"/>
        <enum-item name="TRIGGER_WEB"/>
        <enum-item name="MOOD_BUILDING_CLAIMED"/>
        <enum-item name="ARTIFACT_BEGUN"/>
        <enum-item name="MEGABEAST_ARRIVAL"/>
        <enum-item name="BERSERK_CITIZEN"/>
        <enum-item name="MAGMA_DEFACES_ENGRAVING"/>
        <enum-item name="ENGRAVING_MELTS"/>
        <enum-item name="MASTERPIECE_ARCHITECTURE"/>
        <enum-item name="MASTERPIECE_CONSTRUCTION"/>
        <enum-item name="MASTER_ARCHITECTURE_LOST"/>
        <enum-item name="MASTER_CONSTRUCTION_LOST"/>
        <enum-item name="ADV_AWAKEN"/>
        <enum-item name="ADV_SLEEP_INTERRUPTED"/>
        <enum-item name="CANCEL_JOB"/>
        <enum-item name="ADV_CREATURE_DEATH"/>
        <enum-item name="CITIZEN_DEATH"/>
        <enum-item name="PET_DEATH"/>
        <enum-item name="ENDGAME_EVENT_1"/>
        <enum-item name="ENDGAME_EVENT_2"/>
        <enum-item name="FALL_OVER"/>
        <enum-item name="CAUGHT_IN_FLAMES"/>
        <enum-item name="CAUGHT_IN_WEB"/>
        <enum-item name="UNIT_PROJECTILE_SLAM_BLOW_APART"/>
        <enum-item name="UNIT_PROJECTILE_SLAM"/>
        <enum-item name="UNIT_PROJECTILE_SLAM_INTO_UNIT"/>
        <enum-item name="VOMIT"/>
        <enum-item name="LOSE_HOLD_OF_ITEM"/>
        <enum-item name="REGAIN_CONSCIOUSNESS"/>
        <enum-item name="FREE_FROM_WEB"/>
        <enum-item name="PARALYZED"/>
        <enum-item name="OVERCOME_PARALYSIS"/>
        <enum-item name="NOT_STUNNED"/>
        <enum-item name="EXHAUSTION"/>
        <enum-item name="PAIN_KO"/>
        <enum-item name="BREAK_GRIP"/>
        <enum-item name="NO_BREAK_GRIP"/>
        <enum-item name="BLOCK_FIRE"/>
        <enum-item name="BREATHE_FIRE"/>
        <enum-item name="SHOOT_WEB"/>
        <enum-item name="PULL_OUT_DROP"/>
        <enum-item name="STAND_UP"/>
        <enum-item name="MARTIAL_TRANCE"/>
        <enum-item name="MAT_BREATH"/>
        <enum-item name="ADV_REACTION_PRODUCTS"/>
        <enum-item name="NIGHT_ATTACK_STARTS"/>
        <enum-item name="NIGHT_ATTACK_ENDS"/>
        <enum-item name="NIGHT_ATTACK_TRAVEL"/>
        <enum-item name="GHOST_ATTACK"/>
        <enum-item name="LAIR_HUNTER"/>
        <enum-item name="TRAVEL_SITE_DISCOVERY"/>
        <enum-item name="TRAVEL_SITE_BUMP"/>
        <enum-item name="ADVENTURE_INTRO"/>
        <enum-item name="CREATURE_SOUND"/>
        <enum-item name="CREATURE_STEALS_OBJECT"/>
        <enum-item name="FOUND_TRAP"/>
        <enum-item name="BODY_TRANSFORMATION"/>
        <enum-item name="INTERACTION_ACTOR"/>
        <enum-item name="INTERACTION_TARGET"/>
        <enum-item name="UNDEAD_ATTACK"/>
        <enum-item name="CITIZEN_MISSING"/>
        <enum-item name="PET_MISSING"/>
        <enum-item name="MARKET_CHATTER"/>
        <enum-item name="STRANGE_RAIN_SNOW"/>
        <enum-item name="STRANGE_CLOUD"/>
        <enum-item name="SIMPLE_ANIMAL_ACTION"/>
        <enum-item name="FLOUNDER_IN_LIQUID"/>
        <enum-item name="TRAINING_DOWN_TO_SEMI_WILD"/>
        <enum-item name="TRAINING_FULL_REVERSION"/>
        <enum-item name="ANIMAL_TRAINING_KNOWLEDGE"/>
        <enum-item name="SKIP_ON_LIQUID"/>
        <enum-item name="DODGE_FLYING_OBJECT"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="announcement_flags">
        <ld:field name="DO_MEGA" comment="BOX" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="PAUSE" comment="P" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="RECENTER" comment="R" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="A_DISPLAY" comment="A_D" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="D_DISPLAY" comment="D_D" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="UNIT_COMBAT_REPORT" comment="UCR" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="UNIT_COMBAT_REPORT_ALL_ACTIVE" comment="UCR_A" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="announcements">
        <ld:field ld:level="1" ld:meta="static-array" name="flags" type-name="announcement_flags" count="161" index-enum="announcement_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="announcement_flags"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="report" instance-vector="$global.world.status.reports" key-field="id">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="announcement_type" comment="valid only if coordinates are" ld:level="1" ld:meta="global"/>

        <ld:field name="text" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.text</code-helper>

        <ld:field name="color" init-value="7" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bright" init-value="true" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="duration" init-value="100" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" base-type="uint8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="continuation" comment="When split into multiple lines, set on all but the first" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unconscious" comment="units.active[0]" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="announcement" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="repeat_count" comment="100 =&gt; displays: x101" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="popup_message">
        <ld:field name="text" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="color" init-value="7" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bright" init-value="true" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_image_element_type">
        <enum-item name="CREATURE"/>
        <enum-item name="PLANT"/>
        <enum-item name="TREE"/>
        <enum-item name="SHAPE"/>
        <enum-item name="ITEM"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element" original-name="art_image_elementst">
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="art_image_element_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="art_image_element_type"/></vmethod>
            <vmethod ld:level="1" name="setID"> <ld:field name="ID" comment="race, item type, plant ID, or shape ID" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>

            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="art_image_element" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="art_image_element"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getSymbol">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int8_t" name="sym" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getName1">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
            <vmethod ld:level="1" name="getName2">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_9"/>

            <vmethod ld:level="1" name="getColorAndShape">
                <ld:field ld:level="2" ld:meta="pointer" name="colors" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="shapes" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_creaturest" inherits-from="art_image_element">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_plantst" inherits-from="art_image_element">
        <ld:field name="plant_id" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_treest" inherits-from="art_image_element">
        <ld:field name="plant_id" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_shapest" inherits-from="art_image_element">
        <ld:field name="shape_id" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_element_itemst" inherits-from="art_image_element">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="flags" type-name="item_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_image_property_type">
        <enum-item name="transitive_verb"/>
        <enum-item name="intransitive_verb"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_property" original-name="art_image_propertyst">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="art_image_property_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="art_image_property_type"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="art_image_element" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="art_image_element"/></ret-type>
            </vmethod>

            <vmethod ld:level="1" name="getName">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_image_property_verb" base-type="int16_t">
        <enum-item name="Withering"/>
        <enum-item name="SurroundedBy"/>
        <enum-item name="Massacring"/>
        <enum-item name="Fighting"/>
        <enum-item name="Laboring"/>
        <enum-item name="Greeting"/>
        <enum-item name="Refusing"/>
        <enum-item name="Speaking"/>
        <enum-item name="Embracing"/>
        <enum-item name="StrikingDown"/>
        <enum-item name="MenacingPose"/>
        <enum-item name="Traveling"/>
        <enum-item name="Raising"/>
        <enum-item name="Hiding"/>
        <enum-item name="LookingConfused"/>
        <enum-item name="LookingTerrified"/>
        <enum-item name="Devouring"/>
        <enum-item name="Admiring"/>
        <enum-item name="Burning"/>
        <enum-item name="Weeping"/>
        <enum-item name="LookingDejected"/>
        <enum-item name="Cringing"/>
        <enum-item name="Screaming"/>
        <enum-item name="SubmissiveGesture"/>
        <enum-item name="FetalPosition"/>
        <enum-item name="SmearedIntoSpiral"/>
        <enum-item name="Falling"/>
        <enum-item name="Dead"/>
        <enum-item name="Laughing"/>
        <enum-item name="LookingOffended"/>
        <enum-item name="BeingShot"/>
        <enum-item name="PlaintiveGesture"/>
        <enum-item name="Melting"/>
        <enum-item name="Shooting"/>
        <enum-item name="Torturing"/>
        <enum-item name="CommittingDepravedAct"/>
        <enum-item name="Praying"/>
        <enum-item name="Contemplating"/>
        <enum-item name="Cooking"/>
        <enum-item name="Engraving"/>
        <enum-item name="Prostrating"/>
        <enum-item name="Suffering"/>
        <enum-item name="BeingImpaled"/>
        <enum-item name="BeingContorted"/>
        <enum-item name="BeingFlayed"/>
        <enum-item name="HangingFrom"/>
        <enum-item name="BeingMutilated"/>
        <enum-item name="TriumphantPose"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_property_transitive_verbst" inherits-from="art_image_property">
        <ld:field name="subject" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="object" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="verb" type-name="art_image_property_verb" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="art_image_property_intransitive_verbst" inherits-from="art_image_property">
        <ld:field comment="subject" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="verb" type-name="art_image_property_verb" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="art_facet_type">
        <enum-item name="OWN_RACE"/>
        <enum-item name="FANCIFUL"/>
        <enum-item name="GOOD"/>
        <enum-item name="EVIL"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="art_image">
        <code-helper name="find-instance">$(find-instance $art_image_chunk $$).images[$]</code-helper>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="elements" pointer-type="art_image_element" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="art_image_element"><ld:item ld:level="3" ld:meta="global" type-name="art_image_element"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="properties" pointer-type="art_image_property" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="art_image_property"><ld:item ld:level="3" ld:meta="global" type-name="art_image_property"/></ld:item></ld:field>

        <ld:field name="event" ref-target="history_event" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="spec_ref_type" type-name="specific_ref_type" ld:level="1" ld:meta="global"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field name="artist" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="general_ref" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="global" type-name="general_ref"/></ld:field>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="subid" ref-target="art_image" aux-value="$$.id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="art_image_chunk" instance-vector="$global.world.art_image_chunks" key-field="id">
        <ld:field name="id" comment="art_image_*.dat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="images" count="500" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="art_image" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="art_image_ref">
        <ld:field name="id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="subid" ref-target="art_image" aux-value="$$.id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="civ_id" ref-target="historical_entity" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site_id" ref-target="world_site" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_def" original-name="building_defst" instance-vector="$global.world.raws.buildings.all" key-field="id">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.code</code-helper>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:subtype="enum" base-type="int32_t" name="building_type" type-name="building_type" ld:level="1" ld:meta="global"/>
        <ld:field name="building_subtype" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="name_color" count="3" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="tile" count="4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="31" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="tile_color" count="3" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="4" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="31" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="static-array" count="31" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
                </ld:item>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="tile_block" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>

        <ld:field name="build_key" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="needs_magma" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="build_items" pointer-type="building_def_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building_def_item"><ld:item ld:level="3" ld:meta="global" type-name="building_def_item"/></ld:item></ld:field>

        <ld:field name="dim_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dim_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="workloc_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="workloc_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="build_labors" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int32_t" type-name="unit_labor" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="labor_description" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="build_stages" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" name="parseRaws">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
            <vmethod ld:level="1" name="categorize" comment="add to world.raws.buildings.whatever"/>
            <vmethod ld:level="1" name="finalize"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_def_item">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="reaction_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="has_material_reaction_product" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="flags1" type-name="job_item_flags1" ld:level="1" ld:meta="global"/>
        <ld:field name="flags2" type-name="job_item_flags2" ld:level="1" ld:meta="global"/>
        <ld:field name="flags3" type-name="job_item_flags3" ld:level="1" ld:meta="global"/>
        <ld:field name="flags4" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="flags5" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field name="metal_ore" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_dimension" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="quantity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="has_tool_use" type-name="tool_uses" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="item_str" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="material_str" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="metal_ore_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
     </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_def_workshopst" inherits-from="building_def"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_def_furnacest" inherits-from="building_def"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="buildings_other_id">
        <enum-attr name="building" type-name="building_type" default-value="NONE"/>
        <enum-attr name="generic_building" type-name="building_type" is-list="true"/>
        <enum-attr name="workshop" type-name="workshop_type" is-list="true"/>
        <enum-attr name="furnace" type-name="furnace_type" is-list="true"/>
        <enum-attr name="civzone" type-name="civzone_type" is-list="true"/>

        <enum-item name="ANY" value="-1"/>

        -- 0

        <enum-item name="IN_PLAY" comment="actually on the map, as opposed to in an offloaded fortress elsewhere"/>
        <enum-item name="STOCKPILE">
            <item-attr name="building" value="Stockpile"/>
        </enum-item>
        <enum-item name="ANY_ZONE">
            <item-attr name="building" value="Civzone"/>
        </enum-item>
        <enum-item name="ACTIVITY_ZONE">
            <item-attr name="building" value="Civzone"/>
            <item-attr name="civzone" value="ActivityZone"/>
        </enum-item>
        <enum-item name="ANY_ACTUAL">
            -- everything but stockpile and civzone
        </enum-item>

        <enum-item name="ANY_MACHINE">
            <item-attr name="generic_building" value="ScrewPump"/>
            <item-attr name="generic_building" value="GearAssembly"/>
            <item-attr name="generic_building" value="AxleHorizontal"/>
            <item-attr name="generic_building" value="AxleVertical"/>
            <item-attr name="generic_building" value="WaterWheel"/>
            <item-attr name="generic_building" value="Windmill"/>

            <item-attr name="generic_building" value="Workshop"/>
            <item-attr name="workshop" value="Millstone"/>
        </enum-item>
        <enum-item name="ANY_HOSPITAL_STORAGE">
            -- speculated
            <item-attr name="generic_building" value="Box"/>
            <item-attr name="generic_building" value="Cabinet"/>
        </enum-item>
        <enum-item name="ANY_STORAGE">
            -- speculated
            <item-attr name="generic_building" value="Box"/>
            <item-attr name="generic_building" value="Cabinet"/>
            <item-attr name="generic_building" value="Weaponrack"/>
            <item-attr name="generic_building" value="Armorstand"/>
        </enum-item>
        <enum-item name="ANY_BARRACKS">
            <item-attr name="generic_building" value="Bed"/>
            <item-attr name="generic_building" value="Box"/>
            <item-attr name="generic_building" value="Cabinet"/>
            <item-attr name="generic_building" value="Weaponrack"/>
            <item-attr name="generic_building" value="Armorstand"/>
        </enum-item>
        <enum-item name="ANY_NOBLE_ROOM">
            <item-attr name="generic_building" value="Chair"/>
            <item-attr name="generic_building" value="Bed"/>
            <item-attr name="generic_building" value="Table"/>
            <item-attr name="generic_building" value="Coffin"/>
        </enum-item>

        -- 10

        <enum-item name="ANY_HOSPITAL">
            <item-attr name="generic_building" value="Bed"/>
            <item-attr name="generic_building" value="TractionBench"/>
        </enum-item>
        <enum-item name="BOX">
            <item-attr name="building" value="Box"/>
        </enum-item>
        <enum-item name="CABINET">
            <item-attr name="building" value="Cabinet"/>
        </enum-item>
        <enum-item name="TRAP">
            <item-attr name="building" value="Trap"/>
        </enum-item>
        <enum-item name="DOOR">
            <item-attr name="building" value="Door"/>
        </enum-item>

        <enum-item name="FLOODGATE">
            <item-attr name="building" value="Floodgate"/>
        </enum-item>
        <enum-item name="HATCH">
            <item-attr name="building" value="Hatch"/>
        </enum-item>
        <enum-item name="GRATE_WALL">
            <item-attr name="building" value="GrateWall"/>
        </enum-item>
        <enum-item name="GRATE_FLOOR">
            <item-attr name="building" value="GrateFloor"/>
        </enum-item>
        <enum-item name="BARS_VERTICAL">
            <item-attr name="building" value="BarsVertical"/>
        </enum-item>

        -- 20

        <enum-item name="BARS_FLOOR">
            <item-attr name="building" value="BarsFloor"/>
        </enum-item>
        <enum-item name="WINDOW_ANY">
            <item-attr name="generic_building" value="WindowGlass"/>
            <item-attr name="generic_building" value="WindowGem"/>
        </enum-item>
        <enum-item name="WELL">
            <item-attr name="building" value="Well"/>
        </enum-item>
        <enum-item name="TABLE">
            <item-attr name="building" value="Table"/>
        </enum-item>
        <enum-item name="BRIDGE">
            <item-attr name="building" value="Bridge"/>
        </enum-item>

        <enum-item name="CHAIR">
            <item-attr name="building" value="Chair"/>
        </enum-item>
        <enum-item name="TRADE_DEPOT">
            <item-attr name="building" value="TradeDepot"/>
        </enum-item>
        <enum-item name="NEST">
            <item-attr name="building" value="Nest"/>
        </enum-item>
        <enum-item name="NEST_BOX">
            <item-attr name="building" value="NestBox"/>
        </enum-item>
        <enum-item name="HIVE">
            <item-attr name="building" value="Hive"/>
        </enum-item>

        -- 30

        <enum-item name="WAGON">
            <item-attr name="building" value="Wagon"/>
        </enum-item>
        <enum-item name="SHOP">
            <item-attr name="building" value="Shop"/>
        </enum-item>
        <enum-item name="BED">
            <item-attr name="building" value="Bed"/>
        </enum-item>
        <enum-item name="TRACTION_BENCH">
            <item-attr name="building" value="TractionBench"/>
        </enum-item>
        <enum-item name="ANY_ROAD">
            <item-attr name="generic_building" value="RoadDirt"/>
            <item-attr name="generic_building" value="RoadPaved"/>
        </enum-item>

        <enum-item name="FARM_PLOT">
            <item-attr name="building" value="FarmPlot"/>
        </enum-item>
        <enum-item name="GEAR_ASSEMBLY">
            <item-attr name="building" value="GearAssembly"/>
        </enum-item>
        <enum-item name="ROLLERS">
            <item-attr name="building" value="Rollers"/>
        </enum-item>
        <enum-item name="AXLE_HORIZONTAL">
            <item-attr name="building" value="AxleHorizontal"/>
        </enum-item>
        <enum-item name="AXLE_VERTICAL">
            <item-attr name="building" value="AxleVertical"/>
        </enum-item>
        <enum-item name="SUPPORT">
            <item-attr name="building" value="Support"/>
        </enum-item>

        -- 40

        <enum-item name="ARCHERY_TARGET">
            <item-attr name="building" value="ArcheryTarget"/>
        </enum-item>
        <enum-item name="SCREW_PUMP">
            <item-attr name="building" value="ScrewPump"/>
        </enum-item>
        <enum-item name="WATER_WHEEL">
            <item-attr name="building" value="WaterWheel"/>
        </enum-item>
        <enum-item name="WINDMILL">
            <item-attr name="building" value="Windmill"/>
        </enum-item>
        <enum-item name="CHAIN">
            <item-attr name="building" value="Chain"/>
        </enum-item>

        <enum-item name="CAGE">
            <item-attr name="building" value="Cage"/>
        </enum-item>
        <enum-item name="STATUE">
            <item-attr name="building" value="Statue"/>
        </enum-item>
        <enum-item name="SLAB">
            <item-attr name="building" value="Slab"/>
        </enum-item>
        <enum-item name="COFFIN">
            <item-attr name="building" value="Coffin"/>
        </enum-item>
        <enum-item name="WEAPON_RACK">
            <item-attr name="building" value="Weaponrack"/>
        </enum-item>

        -- 50

        <enum-item name="ARMOR_STAND">
            <item-attr name="building" value="Armorstand"/>
        </enum-item>
        <enum-item name="FURNACE_ANY">
            <item-attr name="building" value="Furnace"/>
        </enum-item>
        <enum-item name="FURNACE_WOOD">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="WoodFurnace"/>
        </enum-item>
        <enum-item name="FURNACE_SMELTER_ANY">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="Smelter"/>
            <item-attr name="furnace" value="MagmaSmelter"/>
        </enum-item>
        <enum-item name="FURNACE_SMELTER_MAGMA">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="MagmaSmelter"/>
        </enum-item>

        <enum-item name="FURNACE_KILN_ANY">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="Kiln"/>
            <item-attr name="furnace" value="MagmaKiln"/>
        </enum-item>
        <enum-item name="FURNACE_GLASS_ANY">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="GlassFurnace"/>
            <item-attr name="furnace" value="MagmaGlassFurnace"/>
        </enum-item>
        <enum-item name="FURNACE_CUSTOM">
            <item-attr name="building" value="Furnace"/>
            <item-attr name="furnace" value="Custom"/>
        </enum-item>
        <enum-item name="WORKSHOP_ANY">
            <item-attr name="building" value="Workshop"/>
        </enum-item>
        <enum-item name="WORKSHOP_BUTCHER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Butchers"/>
        </enum-item>

        -- 60

        <enum-item name="WORKSHOP_MASON">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Masons"/>
        </enum-item>
        <enum-item name="WORKSHOP_KENNEL">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Kennels"/>
        </enum-item>
        <enum-item name="WORKSHOP_FISHERY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Fishery"/>
        </enum-item>
        <enum-item name="WORKSHOP_JEWELER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Jewelers"/>
        </enum-item>
        <enum-item name="WORKSHOP_LOOM">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Loom"/>
        </enum-item>

        <enum-item name="WORKSHOP_TANNER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Tanners"/>
        </enum-item>
        <enum-item name="WORKSHOP_DYER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Dyers"/>
        </enum-item>
        <enum-item name="WORKSHOP_MILL_ANY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Quern"/>
            <item-attr name="workshop" value="Millstone"/>
        </enum-item>
        <enum-item name="WORKSHOP_QUERN">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Quern"/>
        </enum-item>
        <enum-item name="WORKSHOP_TOOL">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Tool"/>
        </enum-item>

        -- 70

        <enum-item name="WORKSHOP_MILLSTONE">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Millstone"/>
        </enum-item>
        <enum-item name="WORKSHOP_KITCHEN">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Kitchen"/>
        </enum-item>
        <enum-item name="WORKSHOP_STILL">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Still"/>
        </enum-item>
        <enum-item name="WORKSHOP_FARMER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Farmers"/>
        </enum-item>
        <enum-item name="WORKSHOP_ASHERY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Ashery"/>
        </enum-item>

        <enum-item name="WORKSHOP_CARPENTER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Carpenters"/>
        </enum-item>
        <enum-item name="WORKSHOP_CRAFTSDWARF">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Craftsdwarfs"/>
        </enum-item>
        <enum-item name="WORKSHOP_MECHANIC">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Mechanics"/>
        </enum-item>
        <enum-item name="WORKSHOP_SIEGE">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Siege"/>
        </enum-item>
        <enum-item name="WORKSHOP_CLOTHIER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Clothiers"/>
        </enum-item>

        -- 80

        <enum-item name="WORKSHOP_LEATHER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Leatherworks"/>
        </enum-item>
        <enum-item name="WORKSHOP_BOWYER">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Bowyers"/>
        </enum-item>
        <enum-item name="WORKSHOP_MAGMA_FORGE">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="MagmaForge"/>
        </enum-item>
        <enum-item name="WORKSHOP_FORGE_ANY">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="MetalsmithsForge"/>
            <item-attr name="workshop" value="MagmaForge"/>
        </enum-item>
        <enum-item name="WORKSHOP_CUSTOM">
            <item-attr name="building" value="Workshop"/>
            <item-attr name="workshop" value="Custom"/>
        </enum-item>

        <enum-item name="WEAPON_UPRIGHT">
            <item-attr name="building" value="Weapon"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="building_type">
        <enum-attr name="classname"/>

        <enum-item name="NONE" value="-1"/>

        <enum-item name="Chair">
            <item-attr name="classname" value="building_chairst"/>
        </enum-item>
        <enum-item name="Bed">
            <item-attr name="classname" value="building_bedst"/>
        </enum-item>
        <enum-item name="Table">
            <item-attr name="classname" value="building_tablest"/>
        </enum-item>
        <enum-item name="Coffin">
            <item-attr name="classname" value="building_coffinst"/>
        </enum-item>
        <enum-item name="FarmPlot">
            <item-attr name="classname" value="building_farmplotst"/>
        </enum-item>
        <enum-item name="Furnace">
            <item-attr name="classname" value="building_furnacest"/>
        </enum-item>
        <enum-item name="TradeDepot">
            <item-attr name="classname" value="building_tradedepotst"/>
        </enum-item>
        <enum-item name="Shop">
            <item-attr name="classname" value="building_shopst"/>
        </enum-item>
        <enum-item name="Door">
            <item-attr name="classname" value="building_doorst"/>
        </enum-item>
        <enum-item name="Floodgate">
            <item-attr name="classname" value="building_floodgatest"/>
        </enum-item>
        <enum-item name="Box">
            <item-attr name="classname" value="building_boxst"/>
        </enum-item>
        <enum-item name="Weaponrack">
            <item-attr name="classname" value="building_weaponrackst"/>
        </enum-item>
        <enum-item name="Armorstand">
            <item-attr name="classname" value="building_armorstandst"/>
        </enum-item>
        <enum-item name="Workshop">
            <item-attr name="classname" value="building_workshopst"/>
        </enum-item>
        <enum-item name="Cabinet">
            <item-attr name="classname" value="building_cabinetst"/>
        </enum-item>
        <enum-item name="Statue">
            <item-attr name="classname" value="building_statuest"/>
        </enum-item>
        <enum-item name="WindowGlass">
            <item-attr name="classname" value="building_window_glassst"/>
        </enum-item>
        <enum-item name="WindowGem">
            <item-attr name="classname" value="building_window_gemst"/>
        </enum-item>
        <enum-item name="Well">
            <item-attr name="classname" value="building_wellst"/>
        </enum-item>
        <enum-item name="Bridge">
            <item-attr name="classname" value="building_bridgest"/>
        </enum-item>
        <enum-item name="RoadDirt">
            <item-attr name="classname" value="building_road_dirtst"/>
        </enum-item>
        <enum-item name="RoadPaved">
            <item-attr name="classname" value="building_road_pavedst"/>
        </enum-item>
        <enum-item name="SiegeEngine">
            <item-attr name="classname" value="building_siegeenginest"/>
        </enum-item>
        <enum-item name="Trap">
            <item-attr name="classname" value="building_trapst"/>
        </enum-item>
        <enum-item name="AnimalTrap">
            <item-attr name="classname" value="building_animaltrapst"/>
        </enum-item>
        <enum-item name="Support">
            <item-attr name="classname" value="building_supportst"/>
        </enum-item>
        <enum-item name="ArcheryTarget">
            <item-attr name="classname" value="building_archerytargetst"/>
        </enum-item>
        <enum-item name="Chain">
            <item-attr name="classname" value="building_chainst"/>
        </enum-item>
        <enum-item name="Cage">
            <item-attr name="classname" value="building_cagest"/>
        </enum-item>
        <enum-item name="Stockpile">
            <item-attr name="classname" value="building_stockpilest"/>
        </enum-item>
        <enum-item name="Civzone">
            <item-attr name="classname" value="building_civzonest"/>
        </enum-item>
        <enum-item name="Weapon">
            <item-attr name="classname" value="building_weaponst"/>
        </enum-item>
        <enum-item name="Wagon">
            <item-attr name="classname" value="building_wagonst"/>
        </enum-item>
        <enum-item name="ScrewPump">
            <item-attr name="classname" value="building_screw_pumpst"/>
        </enum-item>
        <enum-item name="Construction">
            <item-attr name="classname" value="building_constructionst"/>
        </enum-item>
        <enum-item name="Hatch">
            <item-attr name="classname" value="building_hatchst"/>
        </enum-item>
        <enum-item name="GrateWall">
            <item-attr name="classname" value="building_grate_wallst"/>
        </enum-item>
        <enum-item name="GrateFloor">
            <item-attr name="classname" value="building_grate_floorst"/>
        </enum-item>
        <enum-item name="BarsVertical">
            <item-attr name="classname" value="building_bars_verticalst"/>
        </enum-item>
        <enum-item name="BarsFloor">
            <item-attr name="classname" value="building_bars_floorst"/>
        </enum-item>
        <enum-item name="GearAssembly">
            <item-attr name="classname" value="building_gear_assemblyst"/>
        </enum-item>
        <enum-item name="AxleHorizontal">
            <item-attr name="classname" value="building_axle_horizontalst"/>
        </enum-item>
        <enum-item name="AxleVertical">
            <item-attr name="classname" value="building_axle_verticalst"/>
        </enum-item>
        <enum-item name="WaterWheel">
            <item-attr name="classname" value="building_water_wheelst"/>
        </enum-item>
        <enum-item name="Windmill">
            <item-attr name="classname" value="building_windmillst"/>
        </enum-item>
        <enum-item name="TractionBench">
            <item-attr name="classname" value="building_traction_benchst"/>
        </enum-item>
        <enum-item name="Slab">
            <item-attr name="classname" value="building_slabst"/>
        </enum-item>
        <enum-item name="Nest">
            <item-attr name="classname" value="building_nestst"/>
        </enum-item>
        <enum-item name="NestBox">
            <item-attr name="classname" value="building_nest_boxst"/>
        </enum-item>
        <enum-item name="Hive">
            <item-attr name="classname" value="building_hivest"/>
        </enum-item>
        <enum-item name="Rollers">
            <item-attr name="classname" value="building_rollersst"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="building_flags">
        <ld:field name="exists" comment="actually built, not just ordered" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="site_blocked" comment="items on ground on site" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="room_collision" comment="major intersection with another room?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="justice" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="almost_deleted" comment="when requesting delete while in_update" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_update" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="from_worldgen" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="door_flags" base-type="uint16_t">
        <ld:field name="forbidden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="internal" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="taken_by_invaders" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="used_by_intruder" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="closed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="operated_by_mechanisms" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pet_passable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="gate_flags" base-type="uint16_t">
        <ld:field name="closed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="closing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="opening" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="collapsing" comment="?; bridge" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_support" comment="bridge" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_extents">
        <ld:field ld:level="1" ld:meta="pointer" name="extents" type-name="uint8_t" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <comment>0 - not room; 1 in stockpile; 2 wall; 3 inner; 4 distance boundary.</comment>
        </ld:field>
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_drawbuffer">
        <ld:field ld:level="1" ld:meta="static-array" name="tile" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="fore" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="back" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="bright" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="31" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building" original-name="buildingst" instance-vector="$global.world.buildings.all" key-field="id">

        <ld:field name="x1" comment="top left" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="centerx" comment="work location" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x2" comment="bottom right" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="centery" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags" type-name="building_flags" ld:level="1" ld:meta="global"/>

        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="room" type-name="building_extents" ld:level="1" ld:meta="global"/>

        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="id" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="jobs" pointer-type="job" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="job"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" pointer-type="specific_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="specific_ref"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>

        <ld:field name="is_room" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="children" pointer-type="building" comment="other buildings within this room" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parents" pointer-type="building" comment="rooms this building belongs to" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="owner" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="job_claim_suppress" comment="after Remv Cre, prevents unit from taking jobs at building" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_job_claim_suppress">
                <ld:field ld:level="3" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="timer" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="activities" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_activities">
                <ld:field name="activity_id" ref-target="activity_entry" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="event_id" ref-target="activity_event" aux-value="$$.activity_id" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field name="world_data_id" ref-target="world_object_data" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="world_data_subid" init-value="-1" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="int32_t" name="getCustomType"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setCustomType"> <ld:field name="type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="countHospitalSupplies">
                <ld:field ld:level="2" ld:meta="pointer" name="supplies" type-name="hospital_supplies" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="hospital_supplies"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getStockpileLinks">
                <ret-type ld:level="3" ld:meta="pointer" type-name="stockpile_links" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="stockpile_links"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="detachWorldData" comment="?"/>
            <vmethod ld:level="1" ret-type="bool" name="canLinkToStockpile" comment="used by the give to building ui of stockpile"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getUsers">
                <ret-type ld:level="3" ld:meta="pointer" type-name="building_users" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building_users"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="moveBuilding">
                <ld:field name="delta_x" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="delta_y" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="delta_z" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>

            <vmethod ld:level="1" name="initOccupancy">
                <ld:field name="abs_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="abs_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="setFillTimer">
                <ld:field ld:subtype="enum" base-type="int32_t" type-name="job_type" ld:level="2" ld:meta="global"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isOnFire"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isUnpowered" comment="from magma OR machine power"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canCollapse"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 13

            <vmethod ld:level="1" ret-type="uint32_t" name="getPassableOccupancy"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="uint32_t" name="getImpassableOccupancy"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isPowerSource"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="updateFromWeather"/>
            <vmethod ld:level="1" name="updateTemperature"/>

            <vmethod ld:level="1" name="updateItems"/>
            <vmethod ld:level="1" name="updateTempFromTile"><ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/><ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/><ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isNormalFurniture"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isFarmPlot"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getWorkshopProfile">
                <ret-type ld:level="3" ld:meta="pointer" type-name="workshop_profile" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="workshop_profile"/></ret-type>
            </vmethod>

            -- 23

            <vmethod ld:level="1" name="getMachineInfo">
                <ret-type ld:level="3" ld:meta="pointer" type-name="machine_info" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="machine_info"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getPowerInfo">
                <ld:field ld:level="2" ld:meta="pointer" name="power_info" type-name="power_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="power_info"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canConnectToMachine">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="machine_tile_set" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="machine_tile_set"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="building_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="building_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getSubtype"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            <vmethod ld:level="1" name="setSubtype"> <ld:field name="subtype" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isActual"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCoffin2"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="updateAction"/>
            <vmethod ld:level="1" ret-type="bool" name="isStatueOrRestraint"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 33

            <vmethod ld:level="1" name="setMaterialAmount"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="setBuildStage"> <ld:field name="stage" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getBuildStage"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMaxBuildStage"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getArchitectureValue" comment="bridge: material*10 rough, material*30 smooth"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isSettingOccupancy"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isActual2"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isExtentShaped"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="updateOccupancy">
                <ld:field name="abs_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="abs_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getRoomValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>

            -- 43

            <vmethod ld:level="1" ret-type="int32_t" name="getPersonalValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canBeRoom"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getConstructionValue" comment="bridge: material*10"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="queueDestroy" comment="same as querying and pressing X"/>
            <vmethod ld:level="1" ret-type="bool" name="isImpassableTile">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="rel_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="rel_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getFreeCapacity">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="subtract_pending_jobs" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canStoreItem">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field> <ld:field name="subtract_pending_jobs" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="getName"> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="name" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="getNameColor"/>
            <vmethod ld:level="1" name="initFarmSeasons"/>

            -- 53

            <vmethod ld:level="1" name="initBurialFlags"/>
            <vmethod ld:level="1" name="clearBurialFlags"/>
            <vmethod ld:level="1" name="clearBurialFlags2"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getClutterLevel" comment="1..10"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="needsDesign"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="canUseForMood">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_type" ld:level="2" ld:meta="global"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canBeRoomSubset"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCoffin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canUseSpouseRoom"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canMakeRoom" comment="false if already, or cannot be"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 63

            <vmethod ld:level="1" ret-type="bool" name="isJusticeRestraint"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="detachRestrainedUnit"> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isImpassableAtCreation" comment="the true set looks like things where the unit should stand aside"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" name="categorize" comment="Add to world.buildings.other.*"> <ld:field name="in_play" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="uncategorize" comment="Remove from world.buildings.other.*"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getBaseValue"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setTriggerState"> <ld:field name="new_state" comment="0 = active/open, 1 = inactive/closed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="checkAdvmodeLocked"/>

            -- 73

            <vmethod ld:level="1" name="drawAdvmodeUnlockUI"/>
            <vmethod ld:level="1" name="advmodeUnlock"><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="needsMagma"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="removeUses"> <ld:field name="noscatter" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="lost" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="deconstructItems"> <ld:field name="noscatter" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="lost" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>

            <vmethod ld:level="1" name="cleanupMap"/>
            <vmethod ld:level="1" ret-type="bool" name="isFireSafe" comment="checks contained_items[0] for FIREIMMUNE"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/><ld:field name="fire_type" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="fillSidebarMenu"/>
            <vmethod ld:level="1" ret-type="bool" name="isForbidden"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isHidden"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 83

            <vmethod ld:level="1" ret-type="bool" name="isVisibleInUI" comment="not hidden, or hide/unhide UI mode"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isVisibleInViewport" comment="checks coordinates, calls isVisibleInUI and checks window_xy">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" name="viewport" type-name="map_viewport" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="map_viewport"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getDrawExtents">
                <ld:field ld:level="2" ld:meta="pointer" name="buffer" type-name="building_drawbuffer" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building_drawbuffer"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="drawBuilding">
                <ld:field ld:level="2" ld:meta="pointer" name="buffer" type-name="building_drawbuffer" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building_drawbuffer"/></ld:field>
                <ld:field name="z_offset" comment="building_wellst only" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" name="setSquadUse">
                <ld:field name="squad" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field comment="squad_use_flags.whole" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" name="getSquads">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="building_squad_use" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="building_squad_use"><ld:item ld:level="6" ld:meta="global" type-name="building_squad_use"/></ld:item></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getSpecificSquad" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="getSpecificPosition" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setSpecificSquadPos"><ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/><ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="clearSpecificSquad"/>

            -- 93

            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="stockpile_links">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="give_to_pile" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="take_from_pile" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="give_to_workshop" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="take_from_workshop" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_stockpilest" inherits-from="building">
        <ld:field type-name="stockpile_settings" name="settings" ld:level="1" ld:meta="global"/>

        <ld:field name="max_barrels" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_bins" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_wheelbarrows" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="container_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="container_item_id" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="container_x" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="container_y" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="links" type-name="stockpile_links" ld:level="1" ld:meta="global"/>

        <ld:field name="use_links_only" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="stockpile_number" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="linked_stops" pointer-type="hauling_stop" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="hauling_stop"><ld:item ld:level="3" ld:meta="global" type-name="hauling_stop"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="hospital_supplies">
        <ld:field ld:subtype="bitfield" name="supplies_needed" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_supplies_needed">
            <ld:field name="splints" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="thread" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="cloth" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="crutches" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="plaster" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="buckets" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="soap" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="max_splints" init-value="5" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_thread" init-value="75000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_cloth" init-value="50000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_crutches" init-value="5" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_plaster" init-value="750" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_buckets" init-value="2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_soap" init-value="750" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_splints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_thread" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_cloth" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_crutches" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_plaster" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_buckets" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_soap" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="supply_recheck_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="civzone_type" base-type="int16_t">
        <enum-item name="Home"/>
        <enum-item name="CraftShop"/>
        <enum-item name="Basement"/>
        <enum-item name="WeaponsmithsShop"/>
        <enum-item name="ArmorsmithsShop"/>
        <enum-item name="GeneralStore"/>
        <enum-item name="FoodShop"/>
        <enum-item name="MeadHall"/>
        <enum-item name="ThroneRoom"/>
        <enum-item name="ActivityZone"/>
        <enum-item name="Temple"/>
        <enum-item name="Kitchen"/>
        <enum-item name="CaptiveRoom"/>
        <enum-item name="TowerTop"/>
        <enum-item name="Courtyard"/>
        <enum-item name="Treasury"/>
        <enum-item name="GuardPost"/>
        <enum-item name="Entrance"/>
        <enum-item name="SecretLibrary"/>
        <enum-item name="Library"/>
        <enum-item name="Plot"/>
        <enum-item name="MarketStall"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_civzonest" inherits-from="building">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_units" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_items" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="civzone_type" comment="only saved as int16" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:subtype="bitfield" name="zone_flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_zone_flags">
            <ld:field name="water_source" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="garbage_dump" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="sand" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="active" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="fishing" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="pit_pond" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="meeting_area" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="hospital" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="pen_pasture" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="clay" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="animal_training" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="abstract_building_id" init-value="-1" ref-target="abstract_building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field name="zone_num" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:subtype="bitfield" name="pit_flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_pit_flags">
            <ld:field name="is_pond" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="fill_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field type-name="hospital_supplies" name="hospital" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_actual" inherits-from="building" original-name="building_actualst">
        <ld:field name="construction_stage" comment="0 not started, then 1 or 3 max depending on type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contained_items" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_contained_items">
                <ld:field ld:level="3" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:field>
                <ld:field name="use_mode" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="design" type-name="building_design" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_design"/></ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="bool" name="isDestroyedByItemRemoval"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" comment="default false" ld:anon-name="anon_vmethod_95"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" comment="default false" ld:anon-name="anon_vmethod_96"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_design">
        <ld:field name="architect" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk2" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="design_skill" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="builder1" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk5" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="build_skill" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="build_timer1" comment="+1 per 10 frames while building" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="builder2" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="build_timer2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality1" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality2" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="rough" comment="rough gabbro road" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="built" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="designed" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="hitpoints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_hitpoints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="furnace_type" base-type="int16_t">
        <enum-item name="WoodFurnace"/>
        <enum-item name="Smelter"/>
        <enum-item name="GlassFurnace"/>
        <enum-item name="Kiln"/>
        <enum-item name="MagmaSmelter"/>
        <enum-item name="MagmaGlassFurnace"/>
        <enum-item name="MagmaKiln"/>
        <enum-item name="Custom"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_furnacest" inherits-from="building_actual">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="melt_remainder" type-name="int32_t" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="unk_108" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="furnace_type" ld:level="1" ld:meta="global"/>

        <ld:field name="profile" type-name="workshop_profile" ld:level="1" ld:meta="global"/>
        <ld:field name="links" type-name="stockpile_links" ld:level="1" ld:meta="global"/>

        <ld:field name="custom_type" ref-target="building_def" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="workshop_type" base-type="int16_t">
        <enum-item name="Carpenters"/>
        <enum-item name="Farmers"/>
        <enum-item name="Masons"/>
        <enum-item name="Craftsdwarfs"/>
        <enum-item name="Jewelers"/>
        <enum-item name="MetalsmithsForge"/>
        <enum-item name="MagmaForge"/>
        <enum-item name="Bowyers"/>
        <enum-item name="Mechanics"/>
        <enum-item name="Siege"/>
        <enum-item name="Butchers"/>
        <enum-item name="Leatherworks"/>
        <enum-item name="Tanners"/>
        <enum-item name="Clothiers"/>
        <enum-item name="Fishery"/>
        <enum-item name="Still"/>
        <enum-item name="Loom"/>
        <enum-item name="Quern"/>
        <enum-item name="Kennels"/>
        <enum-item name="Kitchen"/>
        <enum-item name="Ashery"/>
        <enum-item name="Dyers"/>
        <enum-item name="Millstone"/>
        <enum-item name="Custom"/>
        <enum-item name="Tool"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="workshop_profile">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="permitted_workers" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="min_level" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_level" init-value="3000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_workshopst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="workshop_type" ld:level="1" ld:meta="global"/>

        <ld:field name="profile" type-name="workshop_profile" ld:level="1" ld:meta="global"/>
        <ld:field name="links" type-name="stockpile_links" ld:level="1" ld:meta="global"/>

        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>

        <ld:field name="custom_type" ref-target="building_def" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_animaltrapst" inherits-from="building_actual">
        <ld:field name="bait_type" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="fill_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_archerytargetst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" name="archery_direction" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_archery_direction">
            <enum-item name="TopToBottom"/>
            <enum-item name="BottomToTop"/>
            <enum-item name="LeftToRight"/>
            <enum-item name="RightToLeft"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_armorstandst" inherits-from="building_actual">
        <ld:field name="unk_c0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="squads" pointer-type="building_squad_use" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building_squad_use"><ld:item ld:level="3" ld:meta="global" type-name="building_squad_use"/></ld:item></ld:field>
        <ld:field name="specific_squad" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="specific_position" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_bars_verticalst" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_bars_floorst" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_users">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mode" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_bedst" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:anon-name="anon_1" ld:typedef-name="T_anon_1">
            <ld:field name="barracks" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="dormitory" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="squads" pointer-type="building_squad_use" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building_squad_use"><ld:item ld:level="3" ld:meta="global" type-name="building_squad_use"/></ld:item></ld:field>
        <ld:field name="specific_squad" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="specific_position" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="users" type-name="building_users" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_boxst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="squads" pointer-type="building_squad_use" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building_squad_use"><ld:item ld:level="3" ld:meta="global" type-name="building_squad_use"/></ld:item></ld:field>
        <ld:field name="specific_squad" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="specific_position" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_bridgest" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:subtype="enum" name="direction" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_direction">
            <enum-item name="Retracting" value="-1"/>
            <enum-item name="Left"/>
            <enum-item name="Right"/>
            <enum-item name="Up"/>
            <enum-item name="Down"/>
        </ld:field>
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_cabinetst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="squads" pointer-type="building_squad_use" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building_squad_use"><ld:item ld:level="3" ld:meta="global" type-name="building_squad_use"/></ld:item></ld:field>
        <ld:field name="specific_squad" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="specific_position" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_cagest" inherits-from="building_actual">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_units" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_items" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="cage_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_cage_flags">
            <ld:field name="triggered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="fill_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_chainst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="pointer" name="assigned" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="chained" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="chain_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_chain_flags">
            <ld:field name="triggered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_chairst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="users" type-name="building_users" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_coffinst" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" name="burial_mode" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_burial_mode">
            <ld:field name="allow_burial" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="no_pets" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="no_citizens" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="construction_type" base-type="int16_t">
        <enum-item name="Fortification"/>
        <enum-item name="Wall"/>
        <enum-item name="Floor"/>
        <enum-item name="UpStair"/>
        <enum-item name="DownStair"/>
        <enum-item name="UpDownStair"/>
        <enum-item name="Ramp"/>
        <enum-item name="TrackN"/>
        <enum-item name="TrackS"/>
        <enum-item name="TrackE"/>
        <enum-item name="TrackW"/>
        <enum-item name="TrackNS"/>
        <enum-item name="TrackNE"/>
        <enum-item name="TrackNW"/>
        <enum-item name="TrackSE"/>
        <enum-item name="TrackSW"/>
        <enum-item name="TrackEW"/>
        <enum-item name="TrackNSE"/>
        <enum-item name="TrackNSW"/>
        <enum-item name="TrackNEW"/>
        <enum-item name="TrackSEW"/>
        <enum-item name="TrackNSEW"/>
        <enum-item name="TrackRampN"/>
        <enum-item name="TrackRampS"/>
        <enum-item name="TrackRampE"/>
        <enum-item name="TrackRampW"/>
        <enum-item name="TrackRampNS"/>
        <enum-item name="TrackRampNE"/>
        <enum-item name="TrackRampNW"/>
        <enum-item name="TrackRampSE"/>
        <enum-item name="TrackRampSW"/>
        <enum-item name="TrackRampEW"/>
        <enum-item name="TrackRampNSE"/>
        <enum-item name="TrackRampNSW"/>
        <enum-item name="TrackRampNEW"/>
        <enum-item name="TrackRampSEW"/>
        <enum-item name="TrackRampNSEW"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_constructionst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" name="type" type-name="construction_type" base-type="int16_t" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_doorst" inherits-from="building_actual">
        <ld:field name="door_flags" type-name="door_flags" init-value="0x50" ld:level="1" ld:meta="global"/>
        <ld:field name="close_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_farmplotst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="static-array" name="plant_id" count="4" ld:is-container="true">
            <ld:item ref-target="plant_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="seasonal_fertilize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field name="current_fertilization" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_fertilization" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="terrain_purge_timer" init-value="500" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_floodgatest" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_grate_floorst" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_grate_wallst" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_hatchst" inherits-from="building_actual">
        <ld:field name="door_flags" type-name="door_flags" init-value="0x50" ld:level="1" ld:meta="global"/>
        <ld:field name="close_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="hive_flags" base-type="uint32_t">
        <ld:field name="do_install" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="do_gather" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ready_split" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_hivest" inherits-from="building_actual">
        <ld:field name="hive_flags" type-name="hive_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="split_timer" comment="up to 100800" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="activity_timer" comment="up to 100800000; checks timer%hive_product.time[i]==0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="install_timer" comment="down from 1200" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="gather_timer" comment="down from 1200" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_nestst" inherits-from="building_actual"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_nest_boxst" inherits-from="building_actual">
        <ld:field name="claimed_by" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_roadst" inherits-from="building_actual">
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_road_dirtst" inherits-from="building_roadst">
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_road_pavedst" inherits-from="building_roadst">
        <ld:field name="material_amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="terrain_purge_timer" init-value="500" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="shop_type" base-type="int16_t">
        <enum-item name="GeneralStore"/>
        <enum-item name="CraftsMarket"/>
        <enum-item name="ClothingShop"/>
        <enum-item name="ExoticClothingShop"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_shopst" inherits-from="building_actual">
        <ld:field name="has_owner" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="shop_owner" comment="type uncertain - not a unit ID or unit pointer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="shop_flags" base-type="int16_t" init-value="1" ld:level="1" ld:meta="compound" ld:typedef-name="T_shop_flags">
            <ld:field name="for_sale" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="shop_type" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="siegeengine_type" base-type="int16_t">
        <enum-item name="Catapult"/>
        <enum-item name="Ballista"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_siegeenginest" inherits-from="building_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="siegeengine_type" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="facing" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_facing">
            <enum-item name="Left"/>
            <enum-item name="Up"/>
            <enum-item name="Right"/>
            <enum-item name="Down"/>
        </ld:field>
        <ld:field ld:subtype="enum" name="action" base-type="int8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_action">
            <enum-item name="NotInUse"/>
            <enum-item name="PrepareToFire"/>
            <enum-item name="FireAtWill"/>
        </ld:field>
        <ld:field name="fire_timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="fill_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_slabst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_statuest" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_supportst" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="support_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_support_flags">
            <ld:field name="triggered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_tablest" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" name="table_flags" base-type="int16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_table_flags">
            <ld:field name="meeting_hall" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="users" type-name="building_users" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_traction_benchst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="users" type-name="building_users" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_tradedepotst" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" name="trade_flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_trade_flags">
            <ld:field name="trader_requested" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="anyone_can_trade" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field comment="uninitialized" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="trap_type" base-type="int16_t">
        <enum-item name="Lever"/>
        <enum-item name="PressurePlate"/>
        <enum-item name="CageTrap"/>
        <enum-item name="StoneFallTrap"/>
        <enum-item name="WeaponTrap"/>
        <enum-item name="TrackStop"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="pressure_plate_info">
        <ld:field name="unit_min" init-value="50000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_max" init-value="200000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="water_min" init-value="1" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="water_max" init-value="7" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="magma_min" init-value="1" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="magma_max" init-value="7" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="track_min" init-value="1" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="track_max" init-value="2000" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" init-value="0x10" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="units" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="water" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="magma" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="citizens" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="resets" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="track" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_trapst" inherits-from="building_actual">
        <ld:field ld:subtype="enum" base-type="int16_t" name="trap_type" type-name="trap_type" ld:level="1" ld:meta="global"/>
        <ld:field name="state" comment="!=0 = pulled, tripped/needs reloading" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="ready_timeout" comment="plate not active if &gt; 0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="fill_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="stop_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_stop_flags">
            <ld:field name="disabled" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="disabling" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="enabling" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="linked_mechanisms" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="observed_by_civs" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="profile" type-name="workshop_profile" ld:level="1" ld:meta="global"/>
        <ld:field name="links" type-name="stockpile_links" ld:level="1" ld:meta="global"/>

        <ld:field name="plate_info" type-name="pressure_plate_info" ld:level="1" ld:meta="global"/>

        <ld:field name="friction" init-value="50000" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="use_dump" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dump_x_shift" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dump_y_shift" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="stop_trigger_timer" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_wagonst" inherits-from="building_actual">
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_weaponst" inherits-from="building_actual">
        <ld:field name="gate_flags" type-name="gate_flags" init-value="1" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="building_squad_use">
        <ld:field name="squad_id" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mode" type-name="squad_use_flags" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_weaponrackst" inherits-from="building_actual">
        <ld:field name="unk_c0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="squads" pointer-type="building_squad_use" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building_squad_use"><ld:item ld:level="3" ld:meta="global" type-name="building_squad_use"/></ld:item></ld:field>
        <ld:field name="specific_squad" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_wellst" inherits-from="building_actual">
        <ld:field ld:subtype="bitfield" name="well_flags" base-type="int16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_well_flags">
            <ld:field name="lowering" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="just_raised" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field name="bucket_z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bucket_timer" comment="0-9; counts up when raising, down when lowering" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="check_water_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_windowst" inherits-from="building_actual">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_window_glassst" inherits-from="building_windowst">
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_window_gemst" inherits-from="building_windowst">
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="creature_raw_flags">
        <enum-item name="unk_wagon"/>
        <enum-item name="EQUIPMENT_WAGON"/>
        <enum-item name="MUNDANE"/>
        <enum-item name="VERMIN_EATER"/>
        <enum-item name="VERMIN_GROUNDER"/>
        <enum-item name="VERMIN_ROTTER"/>
        <enum-item name="VERMIN_SOIL"/>
        <enum-item name="VERMIN_SOIL_COLONY"/>

        <enum-item name="LARGE_ROAMING"/>
        <enum-item name="VERMIN_FISH"/>
        <enum-item name="LOOSE_CLUSTERS"/>
        <enum-item name="FANCIFUL"/>
        <enum-item name="BIOME_MOUNTAIN"/>
        <enum-item name="BIOME_GLACIER"/>
        <enum-item name="BIOME_TUNDRA"/>
        <enum-item name="BIOME_SWAMP_TEMPERATE_FRESHWATER"/>

        <enum-item name="BIOME_SWAMP_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_MANGROVE"/>
        <enum-item name="BIOME_MARSH_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TROPICAL_SALTWATER"/>

        <enum-item name="BIOME_FOREST_TAIGA"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_CONIFER"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_CONIFER"/>
        <enum-item name="BIOME_FOREST_TROPICAL_DRY_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_MOIST_BROADLEAF"/>
        <enum-item name="BIOME_GRASSLAND_TEMPERATE"/>
        <enum-item name="BIOME_SAVANNA_TEMPERATE"/>

        <enum-item name="BIOME_SHRUBLAND_TEMPERATE"/>
        <enum-item name="BIOME_GRASSLAND_TROPICAL"/>
        <enum-item name="BIOME_SAVANNA_TROPICAL"/>
        <enum-item name="BIOME_SHRUBLAND_TROPICAL"/>
        <enum-item name="BIOME_DESERT_BADLAND"/>
        <enum-item name="BIOME_DESERT_ROCK"/>
        <enum-item name="BIOME_DESERT_SAND"/>
        <enum-item name="BIOME_OCEAN_TROPICAL"/>

        <enum-item name="BIOME_OCEAN_TEMPERATE"/>
        <enum-item name="BIOME_OCEAN_ARCTIC"/>
        <enum-item name="BIOME_SUBTERRANEAN_WATER"/>
        <enum-item name="BIOME_SUBTERRANEAN_CHASM"/>
        <enum-item name="BIOME_SUBTERRANEAN_LAVA"/>
        <enum-item name="BIOME_POOL_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_POOL_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="BIOME_POOL_TEMPERATE_SALTWATER"/>

        <enum-item name="BIOME_POOL_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_POOL_TROPICAL_BRACKISHWATER"/>
        <enum-item name="BIOME_POOL_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_LAKE_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_LAKE_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="BIOME_LAKE_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_LAKE_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_LAKE_TROPICAL_BRACKISHWATER"/>

        <enum-item name="BIOME_LAKE_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_RIVER_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_RIVER_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="BIOME_RIVER_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_RIVER_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_RIVER_TROPICAL_BRACKISHWATER"/>
        <enum-item name="BIOME_RIVER_TROPICAL_SALTWATER"/>
        <enum-item name="GOOD"/>

        <enum-item name="EVIL"/>
        <enum-item name="SAVAGE"/>
        <enum-item name="NOT_ASEXUAL"/>
        <enum-item name="unk_43"/>
        <enum-item name="unk_44"/>
        <enum-item name="unk_45"/>
        <enum-item name="any_vermin"/>
        <enum-item name="CASTE_CAN_LEARN"/>

        <enum-item name="CASTE_VERMIN_HATEABLE"/>
        <enum-item name="unk_49"/>
        <enum-item name="CASTE_LARGE_PREDATOR"/>
        <enum-item name="CASTE_CURIOUSBEAST"/>
        <enum-item name="CASTE_BENIGN"/>
        <enum-item name="CASTE_NATURAL"/>
        <enum-item name="CASTE_MEGABEAST"/>
        <enum-item name="CASTE_SEMIMEGABEAST"/>

        <enum-item name="CASTE_POWER"/>
        <enum-item name="CASTE_VERMIN_MICRO"/>
        <enum-item name="CASTE_NOT_FIREIMMUNE"/>
        <enum-item name="CASTE_MUST_BREATHE_AIR"/>
        <enum-item name="CASTE_MUST_BREATHE_WATER"/>
        <enum-item name="unk_55"/>
        <enum-item name="CASTE_SWIMS_LEARNED"/>
        <enum-item name="CASTE_COMMON_DOMESTIC"/>

        <enum-item name="CASTE_UTTERANCES"/>
        <enum-item name="CASTE_CAN_SPEAK"/>
        <enum-item name="CASTE_FEATURE_BEAST"/>
        <enum-item name="GENERATED"/>
        <enum-item name="CASTE_TITAN"/>
        <enum-item name="CASTE_UNIQUE_DEMON"/>
        <enum-item name="DOES_NOT_EXIST"/>
        <enum-item name="CASTE_unk_9e"/>

        <enum-item name="CASTE_MISCHIEVOUS"/>
        <enum-item name="CASTE_FLIER"/>
        <enum-item name="CASTE_DEMON"/>
        <enum-item name="CASTE_NIGHT_CREATURE_ANY"/>
        <enum-item name="CASTE_NIGHT_CREATURE_HUNTER"/>
        <enum-item name="CASTE_NIGHT_CREATURE_BOGEYMAN"/>
        <enum-item name="CASTE_CARNIVORE"/>
        <enum-item name="ARTIFICIAL_HIVEABLE"/>

        <enum-item name="UBIQUITOUS"/>
        <enum-item name="unk_69"/>
        <enum-item name="CASTE_unk_2b"/>
        <enum-item name="CASTE_BLOOD"/>
        <enum-item name="CASTE_GRAZER"/>
        <enum-item name="CASTE_unk_31"/>
        <enum-item name="unk_6e"/>
        <enum-item name="unk_6f"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="caste_raw_flags">
        <enum-item name="AMPHIBIOUS"/>
        <enum-item name="AQUATIC"/>
        <enum-item name="LOCKPICKER"/>
        <enum-item name="MISCHIEVOUS"/>
        <enum-item name="PATTERNFLIER"/>
        <enum-item name="CURIOUSBEAST_ANY"/>
        <enum-item name="CURIOUSBEAST_ITEM"/>
        <enum-item name="CURIOUSBEAST_GUZZLER"/>

        <enum-item name="FLEEQUICK"/>
        <enum-item name="AT_PEACE_WITH_WILDLIFE"/>
        <enum-item name="SWIMS_LEARNED"/>
        <enum-item name="OPPOSED_TO_LIFE"/>
        <enum-item name="CURIOUSBEAST_EATER"/>
        <enum-item name="NO_EAT"/>
        <enum-item name="NO_DRINK"/>
        <enum-item name="NO_SLEEP"/>

        <enum-item name="COMMON_DOMESTIC"/>
        <enum-item name="WAGON_PULLER"/>
        <enum-item name="PACK_ANIMAL"/>
        <enum-item name="FLIER"/>
        <enum-item name="LARGE_PREDATOR"/>
        <enum-item name="MAGMA_VISION"/>
        <enum-item name="FIREIMMUNE"/>
        <enum-item name="FIREIMMUNE_SUPER"/>

        <enum-item name="WEBBER"/>
        <enum-item name="WEBIMMUNE"/>
        <enum-item name="FISHITEM"/>
        <enum-item name="IMMOBILE_LAND"/>
        <enum-item name="IMMOLATE"/>
        <enum-item name="MILKABLE"/>
        <enum-item name="NO_SPRING"/>
        <enum-item name="NO_SUMMER"/>

        <enum-item name="NO_AUTUMN"/>
        <enum-item name="NO_WINTER"/>
        <enum-item name="BENIGN"/>
        <enum-item name="VERMIN_NOROAM"/>
        <enum-item name="VERMIN_NOTRAP"/>
        <enum-item name="VERMIN_NOFISH"/>
        <enum-item name="HAS_NERVES"/>
        <enum-item name="NO_DIZZINESS"/>

        <enum-item name="NO_FEVERS"/>
        <enum-item name="NO_PROFESSION_COLOR" comment="guessed from use"/>
        <enum-item name="NO_CONNECTIONS_FOR_MOVEMENT"/>
        <enum-item name="unk_2b"/>
        <enum-item name="AMBUSHPREDATOR"/>
        <enum-item name="unk_2d"/>
        <enum-item name="NOT_BUTCHERABLE"/>
        <enum-item name="COOKABLE_LIVE"/>

        <enum-item name="SECRETION"/>
        <enum-item name="IMMOBILE"/>
        <enum-item name="unk_32"/>
        <enum-item name="MEANDERER"/>
        <enum-item name="THICKWEB"/>
        <enum-item name="TRAINABLE_HUNTING"/>
        <enum-item name="PET"/>
        <enum-item name="PET_EXOTIC"/>

        <enum-item name="unk_38"/>
        <enum-item name="CAN_SPEAK"/>
        <enum-item name="CAN_LEARN"/>
        <enum-item name="UTTERANCES"/>
        <enum-item name="BONECARN"/>
        <enum-item name="CARNIVORE"/>
        <enum-item name="UNDERSWIM"/>
        <enum-item name="NOEXERT"/>

        <enum-item name="NOPAIN"/>
        <enum-item name="EXTRAVISION"/>
        <enum-item name="NOBREATHE"/>
        <enum-item name="NOSTUN"/>
        <enum-item name="NONAUSEA"/>
        <enum-item name="BLOOD"/>
        <enum-item name="TRANCES"/>
        <enum-item name="NOEMOTION"/>

        <enum-item name="SLOW_LEARNER"/>
        <enum-item name="NOSTUCKINS"/>
        <enum-item name="PUS"/>
        <enum-item name="NOSKULL"/>
        <enum-item name="NOSKIN"/>
        <enum-item name="NOBONES"/>
        <enum-item name="NOMEAT"/>
        <enum-item name="PARALYZEIMMUNE"/>

        <enum-item name="NOFEAR"/>
        <enum-item name="CANOPENDOORS"/>
        <enum-item name="ITEMCORPSE" comment="set if the tag is present; corpse parts go to map_renderer.cursor_other"/>
        <enum-item name="GETS_WOUND_INFECTIONS"/>
        <enum-item name="NOSMELLYROT"/>
        <enum-item name="REMAINS_UNDETERMINED"/>
        <enum-item name="HASSHELL"/>
        <enum-item name="PEARL"/>

        <enum-item name="TRAINABLE_WAR"/>
        <enum-item name="NO_THOUGHT_CENTER_FOR_MOVEMENT"/>
        <enum-item name="ARENA_RESTRICTED"/>
        <enum-item name="LAIR_HUNTER"/>
        <enum-item name="LIKES_FIGHTING"/>
        <enum-item name="VERMIN_HATEABLE"/>
        <enum-item name="VEGETATION"/>
        <enum-item name="MAGICAL"/>

        <enum-item name="NATURAL"/>
        <enum-item name="BABY"/>
        <enum-item name="CHILD"/>
        <enum-item name="MULTIPLE_LITTER_RARE"/>
        <enum-item name="MOUNT"/>
        <enum-item name="MOUNT_EXOTIC"/>
        <enum-item name="FEATURE_ATTACK_GROUP"/>
        <enum-item name="VERMIN_MICRO"/>

        <enum-item name="EQUIPS"/>
        <enum-item name="LAYS_EGGS"/>
        <enum-item name="GRAZER"/>
        <enum-item name="NOTHOUGHT"/>
        <enum-item name="TRAPAVOID"/>
        <enum-item name="CAVE_ADAPT"/>
        <enum-item name="MEGABEAST"/>
        <enum-item name="SEMIMEGABEAST"/>

        <enum-item name="ALL_ACTIVE"/>
        <enum-item name="DIURNAL"/>
        <enum-item name="NOCTURNAL"/>
        <enum-item name="CREPUSCULAR"/>
        <enum-item name="MATUTINAL"/>
        <enum-item name="VESPERTINE"/>
        <enum-item name="LIGHT_GEN"/>
        <enum-item name="LISP"/>

        <enum-item name="GETS_INFECTIONS_FROM_ROT"/>
        <enum-item name="unk_79"/>
        <enum-item name="ALCOHOL_DEPENDENT"/>
        <enum-item name="SWIMS_INNATE"/>
        <enum-item name="POWER"/>
        <enum-item name="unk_7d"/>
        <enum-item name="unk_7e"/>
        <enum-item name="CASTE_TILE"/>

        <enum-item name="CASTE_COLOR"/>
        <enum-item name="unk_81"/>
        <enum-item name="unk_82"/>
        <enum-item name="FEATURE_BEAST"/>
        <enum-item name="TITAN"/>
        <enum-item name="UNIQUE_DEMON"/>
        <enum-item name="DEMON"/>
        <enum-item name="MANNERISM_LAUGH"/>

        <enum-item name="MANNERISM_SMILE"/>
        <enum-item name="MANNERISM_WALK"/>
        <enum-item name="MANNERISM_SIT"/>
        <enum-item name="MANNERISM_BREATH"/>
        <enum-item name="MANNERISM_POSTURE"/>
        <enum-item name="MANNERISM_STRETCH"/>
        <enum-item name="MANNERISM_EYELIDS"/>
        <enum-item name="NIGHT_CREATURE_ANY"/>

        <enum-item name="NIGHT_CREATURE_HUNTER"/>
        <enum-item name="NIGHT_CREATURE_BOGEYMAN"/>
        <enum-item name="CONVERTED_SPOUSE"/>
        <enum-item name="SPOUSE_CONVERTER"/>
        <enum-item name="SPOUSE_CONVERSION_TARGET"/>
        <enum-item name="DIE_WHEN_VERMIN_BITE"/>
        <enum-item name="REMAINS_ON_VERMIN_BITE_DEATH"/>
        <enum-item name="COLONY_EXTERNAL"/>

        <enum-item name="LAYS_UNUSUAL_EGGS"/>
        <enum-item name="RETURNS_VERMIN_KILLS_TO_OWNER"/>
        <enum-item name="HUNTS_VERMIN"/>
        <enum-item name="ADOPTS_OWNER"/>
        <enum-item name="SOUND_ALERT"/>
        <enum-item name="SOUND_PEACEFUL_INTERMITTENT"/>
        <enum-item name="unk_9e"/>
        <enum-item name="unk_9f"/>

        <enum-item name="unk_a0"/>
        <enum-item name="CRAZED"/>
        <enum-item name="BLOODSUCKER"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_raw_flags">
        <enum-item name="HEAD"/>
        <enum-item name="UPPERBODY"/>
        <enum-item name="LOWERBODY"/>
        <enum-item name="SIGHT"/>
        <enum-item name="EMBEDDED"/>
        <enum-item name="INTERNAL"/>
        <enum-item name="CIRCULATION"/>
        <enum-item name="SKELETON"/>

        <enum-item name="LIMB"/>
        <enum-item name="GRASP"/>
        <enum-item name="STANCE"/>
        <enum-item name="GUTS"/>
        <enum-item name="BREATHE"/>
        <enum-item name="SMALL"/>
        <enum-item name="THROAT"/>
        <enum-item name="JOINT"/>

        <enum-item name="THOUGHT"/>
        <enum-item name="NERVOUS"/>
        <enum-item name="RIGHT"/>
        <enum-item name="LEFT"/>
        <enum-item name="HEAR"/>
        <enum-item name="SMELL"/>
        <enum-item name="FLIER"/>
        <enum-item name="DIGIT"/>

        <enum-item name="MOUTH"/>
        <enum-item name="APERTURE"/>
        <enum-item name="SOCKET"/>
        <enum-item name="TOTEMABLE"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="UNDER_PRESSURE"/>
        <enum-item/>
        <enum-item name="VERMIN_BUTCHER_ITEM"/>
        <enum-item name="CONNECTOR"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="appearance_modifier_type" base-type="int16_t">
        <enum-item name="HEIGHT"/>
        <enum-item name="BROADNESS"/>
        <enum-item name="LENGTH"/>
        <enum-item name="CLOSE_SET"/>
        <enum-item name="DEEP_SET"/>
        <enum-item name="HIGH_POSITION"/>
        <enum-item name="LARGE_IRIS"/>
        <enum-item name="WRINKLY"/>

        <enum-item name="CURLY"/>
        <enum-item name="CONVEX"/>
        <enum-item name="DENSE"/>
        <enum-item name="THICKNESS"/>
        <enum-item name="UPTURNED"/>
        <enum-item name="SPLAYED_OUT"/>
        <enum-item name="HANGING_LOBES"/>
        <enum-item name="GAPS"/>

        <enum-item name="HIGH_CHEEKBONES"/>
        <enum-item name="BROAD_CHIN"/>
        <enum-item name="JUTTING_CHIN"/>
        <enum-item name="SQUARE_CHIN"/>
        <enum-item name="ROUND_VS_NARROW"/>
        <enum-item name="GREASY"/>
        <enum-item name="DEEP_VOICE"/>
        <enum-item name="RASPY_VOICE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_layer_flags">
        <enum-item name="CONNECTS"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_part_layer_raw">
        <ld:field name="layer_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.layer_name</code-helper>

        <ld:field name="tissue_id" refers-to="$$._upglobal._upglobal._upglobal._upglobal._upglobal.tissue[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="body_part_layer_flags" ld:is-container="true"/>

        <ld:field name="part_fraction" comment="total 1000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="healing_rate" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="vascular" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pain_receptors" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk6" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk7" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_modifiers" type-name="int32_t" refers-to="$$._global._upglobal._upglobal._upglobal.bp_appearance.modifier_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._global._upglobal._upglobal._upglobal.bp_appearance.modifier_idx[$].refers-to" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="layer_id" comment="across all body parts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        For subordinate layers:
        <ld:field name="parent_idx" refers-to="$$._global._upglobal.layers[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="parent_layer_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="layer_depth" comment="-1 for skin and internal organs" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="leak_barrier_id" comment="layer that stops TISSUE_LEAKS, but unused and broken" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="nonsolid_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="styleable_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_part_raw">
        <ld:field name="token" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="category" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.token</code-helper>

        <ld:field name="con_part_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="body_part_raw_flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layers" pointer-type="body_part_layer_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="body_part_layer_raw"><ld:item ld:level="3" ld:meta="global" type-name="body_part_layer_raw"/></ld:item></ld:field>

        <ld:field name="fraction_total" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_base" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_fat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_muscle" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="relsize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk7b" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="name_singular" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="name_plural" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="bp_relation_part_id" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="bp_relation_code" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item> // 0 around of, 1 around by
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="bp_relation_coverage" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>

        <ld:field name="min_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="max_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="temp_factor" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field name="numbered_idx" comment="defined only if number field nonzero" refers-to="$$._global._upglobal.numbered_masks[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="insulation_fat" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="insulation_muscle" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="insulation_base" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="clothing_item_id" init-value="-1" comment="v0.34.06" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="color_modifier_raw" key-field="id">
        <code-helper name="describe"> $.part </code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="pattern_index" ref-target="descriptor_pattern" ld:is-container="true"><ld:item ref-target="descriptor_pattern" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="pattern_frequency" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_part_id" type-name="int16_t" refers-to="$$._global._upglobal.body_info.body_parts[$]" ld:is-container="true"><ld:item refers-to="$$._global._upglobal.body_info.body_parts[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue_layer_id" type-name="int16_t" refers-to="$$._global.body_part_id[$$._key].refers-to.layers[$]" index-refers-to="$$._global.body_part_id[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._global.body_part_id[$$._key].refers-to.layers[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="unk5" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="start_date" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_date" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk6" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="part" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_6c" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_6e" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_70" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_78" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_88" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_appearance_modifier" key-field="id">
        <code-helper name="describe"> $.type </code-helper>
        <ld:field ld:subtype="enum" type-name="appearance_modifier_type" base-type="int16_t" name="type" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" count="7" name="ranges" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" count="6" name="desc_range" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field comment="0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field comment="10000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field comment="0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field comment="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field name="importance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="noun" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_8"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id2" comment="same as id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="bp_appearance_modifier" key-field="id">
        <code-helper name="describe"> $.type </code-helper>
        <ld:field ld:subtype="enum" type-name="appearance_modifier_type" base-type="int16_t" name="type" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" count="7" name="ranges" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" count="6" name="desc_range" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field comment="0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field comment="10000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field comment="0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field comment="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field name="importance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="noun" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="single_plural" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="id1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_parts" ld:is-container="true">
            <ld:item refers-to="$$._global._parent._global.body_info.body_parts[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue_layer" ld:is-container="true">
            <ld:item refers-to="$$._parent._parent.body_parts[$$._key].refers-to.layers[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="caste_clothing_item">
        <ld:field name="body_part_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        
        <ld:field ld:level="1" ld:meta="static-array" name="item" count="3" comment="under, over, cover" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unk_14" count="3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="size" count="3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="permit" count="3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unk_38" count="3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="caste_attack">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="verb_3rd" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="verb_2nd" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="with" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="latch" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="main" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="edge" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_type" comment="0 = inject extract, 1 = suck blood, 2 = perform interaction" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="specialattack_mat_type" comment="extract injected" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_mat_index" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="matter_state" name="specialattack_mat_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="matter_state"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="4" name="specialattack_temp_mat" comment="parsed during second pass" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_min" comment="amount of extract injected or blood sucked" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_max" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="contact_perc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="penetration_perc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="body_part_idx" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="tissue_layer_idx" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="skill" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="specialattack_interaction_tmp_name" comment="parsed during second pass" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="specialattack_interaction_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="caste_body_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_parts" pointer-type="body_part_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="body_part_raw"><ld:item ld:level="3" ld:meta="global" type-name="body_part_raw"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacks" pointer-type="caste_attack" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="caste_attack"><ld:item ld:level="3" ld:meta="global" type-name="caste_attack"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="interactions" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="extra_butcher_objects" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>

        <ld:field name="total_relsize" comment="unless INTERNAL or EMBEDDED" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_part" index-refers-to="$$._global.layer_idx[$].refers-to" ld:is-container="true">
            <ld:item refers-to="$$._global.body_parts[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_idx" ld:is-container="true">
            <ld:item refers-to="$$._global.layer_part[$$._key].refers-to.layers[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="uint32_t" name="numbered_masks" comment="1 bit per instance of a numbered body part" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_nonsolid" index-refers-to="$$._global.layer_part[$].refers-to" ld:is-container="true">
            Index in nonsolid_layers if applicable
            <ld:item refers-to="$$._global.nonsolid_layers[$].refers-to" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nonsolid_layers" ld:is-container="true">
            For blood, magma, iron men etc, lists BLOOD/MAGMA/GAS layers.
            For other titans and FBs, lists all layers. For ordinary, empty.
            <ld:item refers-to="$$._global.layer_idx[$].refers-to" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:subtype="bitfield" name="flags" comment="v0.34.01" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="unk0" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="materials" type-name="material_vec_ref" ld:level="1" ld:meta="global"/>

        Sums of values in the parts:
        <ld:field name="fraction_total" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_base" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_fat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_muscle" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" name="clothing_items" comment="v0.34.06" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="caste_clothing_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="caste_clothing_item"><ld:item ld:level="4" ld:meta="global" type-name="caste_clothing_item"/></ld:item></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="caste_raw">
        <ld:field name="caste_id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">(fmt "~:(~A ~A~)" $.caste_id $.caste_name[0])</code-helper>
        <code-helper name="find-instance">$global.world.raws.creatures.all[$$].caste[$]</code-helper>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="caste_name" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="vermin_bite_txt" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="gnawer_txt" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="baby_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="child_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="itemcorpse_str" count="5" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> // temporary
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="remains" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="description" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="mannerisms" count="17" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <comment>fingers[2], nose, ear, head, eyes, mouth, hair, knuckles, lips, cheek, nails, f eet, arms, hands, tongue, leg</comment>
        </ld:field>

        <ld:field name="caste_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="caste_soldier_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="caste_alttile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="caste_soldier_alttile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="caste_glowtile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field name="homeotherm" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="min_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="max_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fixed_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="caste_color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="misc" ld:level="1" ld:meta="compound" ld:typedef-name="T_misc">
            <ld:field name="litter_size_min" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="litter_size_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="penetratepower" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="vermin_bite_chance" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="grasstrample" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="buildingdestroyer" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="itemcorpse_itemtype" type-name="item_type" ld:level="2" ld:meta="global"/>
            <ld:field name="itemcorpse_itemsubtype" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="itemcorpse_materialtype" ref-target="material" aux-value="$$.itemcorpse_materialindex" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="itemcorpse_materialindex" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> // NOT 32-bit!
            <ld:field name="itemcorpse_quality" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" name="remains_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field name="difficulty" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" name="caste_glowcolor" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field name="beach_frequency" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="clutch_size_min" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="clutch_size_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="speed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="modvalue" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="petvalue" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="milkable" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="viewrange" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="maxage_min" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="maxage_max" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="baby_age" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="child_age" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="swim_speed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="trade_capacity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk4" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="pop_ratio" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="adult_size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="bone_mat" ref-target="material" aux-value="$$.bone_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="bone_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="fish_mat_index" refers-to="(food-mat-by-idx $Fish $)" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="egg_mat_index" refers-to="(food-mat-by-idx $Eggs $)" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="attack_trigger" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="egg_size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="grazer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="petvalue_divisor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="prone_to_rage" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="unk6" count="29" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="personality" ld:level="1" ld:meta="compound" ld:typedef-name="T_personality">
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" name="a" count="30" index-enum="personality_facet_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" name="b" count="30" index-enum="personality_facet_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" name="c" count="30" index-enum="personality_facet_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="caste_raw_flags" ld:is-container="true"/>

        <ld:field name="index" comment="global across creatures" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="body_info" type-name="caste_body_info" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caste_speech_1" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caste_speech_2" ld:is-container="true"/>

        <ld:field ld:level="1" ld:meta="static-array" name="skill_rates" count="4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="int32_t" count="116" index-enum="job_skill" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field name="attributes" ld:level="1" ld:meta="compound" ld:typedef-name="T_attributes">
            <ld:field ld:level="2" ld:meta="static-array" name="phys_att_range" count="6" index-enum="physical_attribute_type" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="7" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="ment_att_range" count="13" index-enum="mental_attribute_type" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="7" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="phys_att_rates" count="6" index-enum="physical_attribute_type" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="4" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="ment_att_rates" count="13" index-enum="mental_attribute_type" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="4" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="phys_att_cap_perc" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="ment_att_cap_perc" count="13" index-enum="mental_attribute_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="gender" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="body_size_1" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="body_size_2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_appearance_modifiers" pointer-type="body_appearance_modifier" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="body_appearance_modifier"><ld:item ld:level="3" ld:meta="global" type-name="body_appearance_modifier"/></ld:item></ld:field>

        <ld:field name="bp_appearance" ld:level="1" ld:meta="compound" ld:typedef-name="T_bp_appearance">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="modifiers" pointer-type="bp_appearance_modifier" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="bp_appearance_modifier"><ld:item ld:level="4" ld:meta="global" type-name="bp_appearance_modifier"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="modifier_idx" type-name="int32_t" refers-to="$$._parent._parent.modifiers[$]" index-refers-to="$$._parent.part_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._parent._parent.modifiers[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="part_idx" type-name="int16_t" refers-to="$$._global.body_info.body_parts[$]" ld:is-container="true"><ld:item refers-to="$$._global.body_info.body_parts[$]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="layer_idx" type-name="int16_t" refers-to="$$._parent._parent.part_idx[$$._key].refers-to.layers[$]" index-refers-to="$$._parent.part_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._parent._parent.part_idx[$$._key].refers-to.layers[$]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            -- Subset of modifiable layers, i.e. where layer_idx != -1
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="style_part_idx" type-name="int16_t" refers-to="$$._global.body_info.body_parts[$]" ld:is-container="true"><ld:item refers-to="$$._global.body_info.body_parts[$]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="style_layer_idx" type-name="int16_t" refers-to="$$._parent._parent.style_part_idx[$$._key].refers-to.layers[$]" index-refers-to="$$._parent.style_part_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._parent._parent.style_part_idx[$$._key].refers-to.layers[$]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="style_list_idx" type-name="int32_t" refers-to="$$._parent._parent.modifier_idx[$].refers-to" index-refers-to="$$._parent.style_layer_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._parent._parent.modifier_idx[$].refers-to" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="color_modifiers" pointer-type="color_modifier_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="color_modifier_raw"><ld:item ld:level="3" ld:meta="global" type-name="color_modifier_raw"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue_styles" pointer-type="tissue_style_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="tissue_style_raw"><ld:item ld:level="3" ld:meta="global" type-name="tissue_style_raw"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="shearable_tissue_layer" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_shearable_tissue_layer">
                <ld:field name="unk_0" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="unk_1" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="unk_2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="length" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="part_idx" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="layer_idx" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="bp_modifiers_idx" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                -- unit can be sheared at farmers if it has one u.appearance.bp_modifiers[$.bp_modifiers_idx[i]] &gt;= $.length
            </ld:item>
                
                
                
                

                
                
                
                -- unit can be sheared at farmers if it has one u.appearance.bp_modifiers[$.bp_modifiers_idx[i]] &gt;= $.length
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="unk16a" count="4" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unk16b" count="4" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="unk18" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="natural_skill_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="natural_skill_exp" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="natural_skill_lvl" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="caste_profession_name" ld:level="1" ld:meta="compound" ld:typedef-name="T_caste_profession_name">
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="singular" count="106" index-enum="profession" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="plural" count="106" index-enum="profession" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        </ld:field>

        <ld:field name="extracts" ld:level="1" ld:meta="compound" ld:typedef-name="T_extracts">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="extract_mat" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="extract_matidx" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="extract_str" count="3" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>

            <ld:field name="milkable_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="milkable_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="milkable_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>

            <ld:field name="webber_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="webber_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="webber_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>

            <ld:field name="vermin_bite_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="vermin_bite_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="vermin_bite_chance" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="static-array" name="vermin_bite_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>

            <ld:field name="tendons_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="tendons_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="tendons_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>
            <ld:field name="tendons_heal" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="ligaments_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="ligaments_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="ligaments_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>
            <ld:field name="ligaments_heal" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="blood_state" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="blood_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="blood_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="blood_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>

            <ld:field name="pus_state" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="pus_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="pus_matidx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="pus_str" count="3" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="egg_material_mattype" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="egg_material_matindex" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="egg_material_str" count="3" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="lays_unusual_eggs_itemtype" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="lays_unusual_eggs_itemsubtype" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="lays_unusual_eggs_mattype" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="lays_unusual_eggs_matindex" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="lays_unusual_eggs_str" count="5" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="secretion" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_secretion">
                <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" type-name="matter_state" base-type="int16_t" name="mat_state" ld:level="3" ld:meta="global"/>
                <ld:field name="mat_type_str" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="mat_index_str" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="unk_44" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="body_part_id" type-name="int16_t" refers-to="$$._upglobal.body_info.body_parts[$]" ld:is-container="true"><ld:item refers-to="$$._upglobal.body_info.body_parts[$]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="layer_id" type-name="int16_t" refers-to="$$._parent._parent.body_part_id[$$._key].refers-to.layers[$]" ld:is-container="true"><ld:item refers-to="$$._parent._parent.body_part_id[$$._key].refers-to.layers[$]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creature_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field name="unknown2" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown2">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk23a" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk23b" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk23c" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="infect_all" type-name="int32_t" ref-target="syndrome" comment="v0.34.01; for spatter applied to all bp" ld:is-container="true"><ld:item ref-target="syndrome" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="infect_local" type-name="int32_t" ref-target="syndrome" comment="v0.34.01; for spatter applied to one bp" ld:is-container="true"><ld:item ref-target="syndrome" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk23f" type-name="int32_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk23g" type-name="int32_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="df-flagarray" name="unk24_flags" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="df-flagarray" name="unk25_flags" ld:is-container="true"/>

            <ld:field ld:level="2" ld:meta="static-array" name="armor_sizes" count="4" comment="index by UBSTEP" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int32_t" count="4" comment="index by LBSTEP" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="pants_sizes" count="4" comment="index by LBSTEP" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="helm_size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="shield_sizes" count="4" comment="index by UPSTEP" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="shoes_sizes" count="4" comment="index by UPSTEP" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="gloves_sizes" count="4" comment="index by UPSTEP" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="materials" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_2f20" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_2f30" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_2f40" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_2f50" type-name="int16_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            muscle:
            <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="habit_num" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="habit" count="2" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="lair" count="2" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="lair_characteristic" count="2" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="lair_hunter_speech" count="2" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unk29" count="2" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="specific_food" count="2" ld:is-container="true"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sound" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="sound_alert" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="sound_peaceful_intermittent" refers-to="$$._global.sound[$]" ld:is-container="true"><ld:item refers-to="$$._global.sound[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="creature_graphics_role">
        <enum-item name="DEFAULT"/>
        <enum-item name="ADVENTURER"/>
        <enum-item name="GUARD"/>
        <enum-item name="ROYALGUARD"/>
        <enum-item name="ANIMATED"/>
        <enum-item name="GHOST"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_graphics_appointment" key-field="token">
        <ld:field name="token" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" name="texpos" type-name="int32_t" count="6" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="texpos_gs" type-name="int32_t" count="6" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="add_color" type-name="bool" count="6" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tissue_style_raw" key-field="id">
        <ld:field name="token" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.token</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="part_idx" type-name="int16_t" refers-to="$$._global._upglobal.body_info.body_parts[$]" ld:is-container="true"><ld:item refers-to="$$._global._upglobal.body_info.body_parts[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_idx" type-name="int16_t" refers-to="$$._parent._parent.part_idx[$$._key].refers-to.layers[$]" index-refers-to="$$._parent.part_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._parent._parent.part_idx[$$._key].refers-to.layers[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="styles" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="list_idx" type-name="int32_t" refers-to="$$._global._upglobal.bp_appearance.style_layer_idx[$].refers-to" ld:is-container="true"><ld:item refers-to="$$._global._upglobal.bp_appearance.style_layer_idx[$].refers-to" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="noun" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="part_of_speech" name="word_type" comment="0 singular, 1 plural" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_raw" instance-vector="$global.world.raws.creatures.all">
        <ld:field name="creature_id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.creature_id</code-helper>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="general_baby_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="general_child_name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="creature_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="creature_soldier_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="alttile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="soldier_alttile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="glowtile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field name="temperature1" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="temperature2" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field name="frequency" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="population_number" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="cluster_number" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="triggerable_group" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="glowcolor" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="adultsize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="prefstring" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="sphere" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caste" pointer-type="caste_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="caste_raw"><ld:item ld:level="3" ld:meta="global" type-name="caste_raw"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="pop_ratio" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="creature_raw_flags" ld:is-container="true"/>

        <ld:field name="graphics" ld:level="1" ld:meta="compound" ld:typedef-name="T_graphics">
            <ld:field ld:level="2" ld:meta="static-array" name="texpos" type-name="int32_t" count="6" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="texpos_gs" type-name="int32_t" count="6" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="entity_link_texpos" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="13" type-name="int32_t" index-enum="histfig_entity_link_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="entity_link_texpos_gs" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="13" type-name="int32_t" index-enum="histfig_entity_link_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="site_link_texpos" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="7" type-name="int32_t" index-enum="histfig_site_link_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="site_link_texpos_gs" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="7" type-name="int32_t" index-enum="histfig_site_link_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="profession_texpos" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="106" type-name="int32_t" index-enum="profession" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="profession_texpos_gs" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="106" type-name="int32_t" index-enum="profession" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="add_color" type-name="bool" count="6" index-enum="creature_graphics_role" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="entity_link_add_color" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="13" type-name="bool" index-enum="histfig_entity_link_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="site_link_add_color" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="7" type-name="bool" index-enum="histfig_site_link_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="profession_add_color" count="6" index-enum="creature_graphics_role" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="106" type-name="bool" index-enum="profession" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="appointments" pointer-type="creature_graphics_appointment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="creature_graphics_appointment"><ld:item ld:level="4" ld:meta="global" type-name="creature_graphics_appointment"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech1" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech2" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="speech3" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="material" pointer-type="material" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="material"><ld:item ld:level="3" ld:meta="global" type-name="material"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue" pointer-type="tissue" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="tissue"><ld:item ld:level="3" ld:meta="global" type-name="tissue"/></ld:item></ld:field>

        <ld:field name="profession_name" ld:level="1" ld:meta="compound" ld:typedef-name="T_profession_name">
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="singular" count="106" index-enum="profession" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="plural" count="106" index-enum="profession" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        </ld:field>

        <ld:field name="underground_layer_min" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="underground_layer_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="modifier_class" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32">
                <code-helper name="refers-to">
                    (let* ((castes $$._global.caste.*)
                           (id $$._key)
                           (vectors (case $
                                      (0 $castes.body_appearance_modifiers)
                                      (1 $castes.bp_appearance.modifiers)
                                      (2 $castes.color_modifiers)
                                      (3 $castes.tissue_styles))))
                      (dolist (v vectors)
                        (awhen (find-by-id v $id id)
                          (return it))))
                </code-helper>
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="modifier_num_patterns" comment="for color modifiers, == number of items in their pattern_* vectors" index-refers-to="$$._parent.modifier_class[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="hive_product" ld:level="1" ld:meta="compound" ld:typedef-name="T_hive_product">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="number" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="time" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="item_subtype" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field name="material" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>

            <ld:field ld:level="2" ld:meta="static-array" name="tmpstr" count="5" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="next_modifier_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="raws" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_variation_convert_tag">
        <ld:field name="cvct_master" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="cvct_target" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="cvct_replacement" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_variation" instance-vector="$global.world.raws.creature_variations">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cv_convert_tag" pointer-type="creature_variation_convert_tag" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="creature_variation_convert_tag"><ld:item ld:level="3" ld:meta="global" type-name="creature_variation_convert_tag"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cv_new_tag" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cv_remove_tag" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_template_flags">
        <enum-item name="HEAD"/>
        <enum-item name="UPPERBODY"/>
        <enum-item name="LOWERBODY"/>
        <enum-item name="SIGHT"/>
        <enum-item name="EMBEDDED"/>
        <enum-item name="INTERNAL"/>
        <enum-item name="CIRCULATION"/>
        <enum-item name="SKELETON"/>

        <enum-item name="LIMB"/>
        <enum-item name="GRASP"/>
        <enum-item name="STANCE"/>
        <enum-item name="GUTS"/>
        <enum-item name="BREATHE"/>
        <enum-item name="SMALL"/>
        <enum-item name="THROAT"/>
        <enum-item name="JOINT"/>

        <enum-item name="THOUGHT"/>
        <enum-item name="NERVOUS"/>
        <enum-item name="RIGHT"/>
        <enum-item name="LEFT"/>
        <enum-item name="HEAR"/>
        <enum-item name="SMELL"/>
        <enum-item name="FLIER"/>
        <enum-item name="DIGIT"/>

        <enum-item name="MOUTH"/>
        <enum-item name="APERTURE"/>
        <enum-item name="SOCKET"/>
        <enum-item name="TOTEMABLE"/>
        <enum-item name="UNDER_PRESSURE"/>
        <enum-item name="VERMIN_BUTCHER_ITEM"/>
        <enum-item name="CONNECTOR"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="body_part_template_contype" base-type="int16_t">
        <enum-item name="UPPERBODY"/>
        <enum-item name="LOWERBODY"/>
        <enum-item name="HEAD"/>
        <enum-item name="GRASP"/>
        <enum-item name="STANCE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_part_template">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="con" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="category" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="con_cat" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" type-name="body_part_template_contype" base-type="int16_t" name="contype" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="body_part_template_flags" ld:is-container="true"/>

        <ld:field name="default_relsize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="name_singular" pointer-type="stl-string" comment="first comes from BP, rest come from INDIVIDUAL_NAME" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="name_plural" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_template" instance-vector="$global.world.raws.body_templates">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parts" pointer-type="body_part_template" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="body_part_template"><ld:item ld:level="3" ld:meta="global" type-name="body_part_template"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tissue_flags">
        <enum-item name="THICKENS_ON_STRENGTH"/>
        <enum-item name="THICKENS_ON_ENERGY_STORAGE"/>
        <enum-item name="ARTERIES"/>
        <enum-item name="SCARS"/>
        <enum-item name="STRUCTURAL"/>
        <enum-item name="NERVOUS"/>
        <enum-item name="THOUGHT"/>
        <enum-item name="MUSCULAR"/>

        <enum-item name="SMELL"/>
        <enum-item name="HEAR"/>
        <enum-item name="FLIGHT"/>
        <enum-item name="BREATHE"/>
        <enum-item name="SIGHT"/>
        <enum-item name="COSMETIC"/>
        <enum-item name="CONNECTS"/>
        <enum-item name="FUNCTIONAL"/>

        <enum-item name="MAJOR_ARTERIES"/>
        <enum-item name="TISSUE_LEAKS"/>
        <enum-item name="STYLEABLE"/>
        <enum-item name="CONNECTIVE_TISSUE_ANCHOR"/>
        <enum-item name="SETTABLE"/>
        <enum-item name="SPLINTABLE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tissue_template" instance-vector="$global.world.raws.tissue_templates">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="tissue_flags" ld:is-container="true"/>
        <ld:field name="tissue_name_singular" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="tissue_name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="static-array" name="tissue_material_str" type-name="stl-string" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="relative_thickness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="healing_rate" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="vascular" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pain_receptors" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tissue_shape" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk1" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="insulation" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="subordinate_to_tissue" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="tissue_mat_state" type-name="matter_state" ld:level="1" ld:meta="global"/>
        <ld:field name="tissue_shape_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tissue" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="tissue_flags" ld:is-container="true"/>
        <ld:field name="tissue_name_singular" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="tissue_name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="static-array" name="tissue_material_str" type-name="stl-string" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="relative_thickness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="healing_rate" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="vascular" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pain_receptors" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tissue_shape" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk1" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="insulation" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="subordinate_to_tissue" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parent_tissue" refers-to="$$._global._upglobal.tissue[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="tissue_mat_state" type-name="matter_state" ld:level="1" ld:meta="global"/>
        <ld:field name="heatdam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="colddam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="ignite_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="melting_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="boiling_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="spec_heat" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="tissue_shape_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_detail_plan" instance-vector="$global.world.raws.body_detail_plans">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="add_material_name" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="add_material_template" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="add_tissue_name" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="add_tissue_template" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk5c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk6c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk7c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_layers_selection" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_layers_criteria" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_layers_tissue" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_layers_thickness" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_layers_position" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_layers_over_under" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relsize_selection" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relsize_criteria" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relsize_value" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_position_selection" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_position_criteria" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_position_value" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relation_selection_1" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relation_criteria_1" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relation_value_1" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relation_selection_2" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relation_criteria_2" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_relation_extent" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_nickname">
        <enum-item name="REPLACE_FIRST"/>
        <enum-item name="CENTRALIZE"/>
        <enum-item name="REPLACE_ALL"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_z_view">
        <enum-item name="OFF"/>
        <enum-item name="UNHIDDEN"/>
        <enum-item name="CREATURE"/>
        <enum-item name="ON"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_idlers" base-type="int16_t">
        <enum-item name="OFF" value="-1"/>
        <enum-item name="TOP"/>
        <enum-item name="BOTTOM"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_tunnel" base-type="int16_t">
        <enum-item name="NO"/>
        <enum-item name="FINDER"/>
        <enum-item name="ALWAYS"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_flags1">
        <enum-item name="VARIED_GROUND_TILES"/>
        <enum-item name="ENGRAVINGS_START_OBSCURED"/>
        <enum-item name="SHOW_IMP_QUALITY"/>
        <enum-item name="SHOW_FLOW_AMOUNTS"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_flags2">
        <enum-item name="MORE"/>
        <enum-item name="ADVENTURER_TRAPS"/>
        <enum-item name="ADVENTURER_ALWAYS_CENTER"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_flags3">
        <enum-item name="COFFIN_NO_PETS_DEFAULT"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="d_init_flags4">
        <enum-item name="TEMPERATURE"/>
        <enum-item name="WEATHER"/>
        <enum-item name="ECONOMY"/>
        <enum-item name="ZERO_RENT"/>
        <enum-item name="AUTOSAVE_SEASONAL"/>
        <enum-item name="AUTOSAVE_YEARLY"/>
        <enum-item name="AUTOSAVE_PAUSE"/>
        <enum-item name="AUTOBACKUP"/>
        <enum-item name="INITIAL_SAVE"/>
        <enum-item name="INVADERS"/>
        <enum-item name="CAVEINS"/>
        <enum-item name="ARTIFACTS"/>
        <enum-item name="LOG_MAP_REJECTS"/>
        <enum-item name="PAUSE_ON_LOAD"/>
        <enum-item name="EMBARK_WARNING_ALWAYS"/>
        <enum-item name="SHOW_ALL_HISTORY_IN_DWARF_MODE"/>
        <enum-item name="TESTING_ARENA"/>
        <enum-item name="WALKING_SPREADS_SPATTER_DWF"/>
        <enum-item name="WALKING_SPREADS_SPATTER_ADV"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="d_init">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags1" index-enum="d_init_flags1" ld:is-container="true"/>

        <ld:field ld:subtype="enum" name="nickname_dwarf" type-name="d_init_nickname" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="nickname_adventure" type-name="d_init_nickname" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="nickname_legends" type-name="d_init_nickname" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="nickname_dwarf2" type-name="d_init_nickname" ld:level="1" ld:meta="global"/>

        <ld:field name="unk_18" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="sky_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="static-array" name="sky_color" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="chasm_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="pillar_tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        N S E W NS NE NW SE SW EW NSE NSW NEW SEW NSEW
        <ld:field ld:level="1" ld:meta="static-array" name="track_tiles" type-name="uint8_t" count="15" comment="v0.34.08" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="track_tile_invert" type-name="uint8_t" count="15" comment="v0.34.08" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="track_ramp_tiles" type-name="uint8_t" count="15" comment="v0.34.08" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="track_ramp_invert" type-name="uint8_t" count="15" comment="v0.34.08" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="chasm_color" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="wound_color" ld:level="1" ld:meta="compound" ld:typedef-name="T_wound_color">
            <ld:field ld:level="2" ld:meta="static-array" name="none" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="minor" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="inhibited" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="function_loss" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="broken" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="missing" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:subtype="enum" name="idlers" base-type="int16_t" type-name="d_init_idlers" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="show_embark_tunnel" base-type="int16_t" type-name="d_init_tunnel" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags2" index-enum="d_init_flags2" ld:is-container="true"/>

        <ld:field name="display_length" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" name="adventurer_z_view" type-name="d_init_z_view" ld:level="1" ld:meta="global"/>
        <ld:field name="adventurer_z_view_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags3" index-enum="d_init_flags3" ld:is-container="true"/>

        <ld:field name="population_cap" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="baby_cap_absolute" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="baby_cap_percent" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="static-array" name="path_cost" type-name="int32_t" count="4" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="embark_rect" type-name="int16_t" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="store_dist" ld:level="1" ld:meta="compound" ld:typedef-name="T_store_dist">
            <ld:field name="item_decrease" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="seed_combine" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="bucket_combine" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="barrel_combine" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="bin_combine" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="set_labor_lists" comment="v0.34.03" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field comment="v0.34.07" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags4" index-enum="d_init_flags4" ld:is-container="true"/>
        85266c0
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="pattern_type" base-type="int16_t">
        <enum-item name="MONOTONE"/>
        <enum-item name="STRIPES"/>
        <enum-item name="IRIS_EYE"/>
        <enum-item name="SPOTS"/>
        <enum-item name="PUPIL_EYE"/>
        <enum-item name="MOTTLED"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="descriptor_color" instance-vector="$global.world.raws.language.colors">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="word_unk" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" type-name="int32_t" ref-target="language_word" ld:is-container="true"><ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_58" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="red" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="green" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="blue" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="descriptor_shape" instance-vector="$global.world.raws.language.shapes">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="word_unk" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" type-name="int32_t" ref-target="language_word" ld:is-container="true"><ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="adj" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:subtype="bitfield" name="gems_use" ld:level="1" ld:meta="compound" ld:typedef-name="T_gems_use">
            <ld:field name="noun" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="adj" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="adj_noun" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="descriptor_pattern" instance-vector="$global.world.raws.language.patterns">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.id</code-helper>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="colors" type-name="int16_t" ref-target="descriptor_color" ld:is-container="true"><ld:item ref-target="descriptor_color" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="pattern_type" name="pattern" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cp_color" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_activity_statistics">
        <ld:field name="food" ld:level="1" ld:meta="compound" ld:typedef-name="T_food">
            <ld:field name="total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="meat" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="fish" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="other" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="seeds" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="plant" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="drink" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unit_counts" type-name="int16_t" count="152" index-enum="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="population" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field name="trained_animals" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="other_animals" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="static-array" name="item_counts" type-name="int32_t" count="112" index-enum="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="created_weapons" type-name="int32_t" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="wealth" ld:level="1" ld:meta="compound" ld:typedef-name="T_wealth">
            <ld:field name="total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="weapons" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="armor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="furniture" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="other" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="architecture" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="displayed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="held" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="imported" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field name="exported" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="recent_jobs" count="7" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="260" type-name="int32_t" index-enum="job_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>
        <ld:field name="excavated_tiles" comment="unhidden, subterranean, and excluding map features" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="death_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="insanity_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="execution_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" name="noble_death_history" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="total_deaths" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_insanities" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_executions" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_artifacts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_creature_foods" type-name="bool" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_creatures" type-name="bool" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_plant_foods" type-name="bool" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="discovered_plants" type-name="bool" index-refers-to="(find-plant-raw $)" comment="allows planting of seeds" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field name="discovered_water_features" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="discovered_subterranean_features" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="discovered_chasm_features" comment="unused since 40d" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="discovered_magma_features" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="discovered_feaure_layers" comment="back in 40d, this counted HFS" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="migrant_wave_idx" comment="when &gt;= 2, no migrants" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="found_minerals" type-name="int32_t" ref-target="inorganic_raw" comment="Added after 'you have struck' announcement" ld:is-container="true"><ld:item ref-target="inorganic_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:subtype="bitfield" name="found_misc" ld:level="1" ld:meta="compound" ld:typedef-name="T_found_misc">
            <ld:field name="deep_special" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="caravan_state">
        <ld:field name="total_capacity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="trade_state" comment="1 = approaching depot; 2 = at depot; 3 = leaving" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="depot_notified" comment="has it warned you that you need a depot" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="time_remaining" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="activity_stats" type-name="entity_activity_statistics" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="check_cleanup" comment="set each time a merchant leaves the map or dies" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="casualty" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="hardship" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="communicate" comment="send data to mountainhomes" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="seized" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="offended" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="announce" comment="display merchantintro and merchantexit" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="import_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="export_value_total" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="export_value_personal" comment="excluding foreign-produced items" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="offer_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animals" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_prices" name="sell_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_prices"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_prices" name="buy_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_prices"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="goods" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_buy_prices">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_requests" name="items" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_requests"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="price" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_buy_requests">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_type" comment="guess" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_subtype" comment="guess" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._global.item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_20" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_30" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mat_cats" type-name="job_material_category" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_material_category"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" name="priority" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_sell_category">
        <enum-item name="Leather"/>
        <enum-item name="ClothPlant"/>
        <enum-item name="ClothSilk"/>
        <enum-item name="Crafts"/>
        <enum-item name="Wood"/>
        <enum-item name="MetalBars"/>
        <enum-item name="SmallCutGems"/>
        <enum-item name="LargeCutGems"/>
        <enum-item name="StoneBlocks"/>
        <enum-item name="Seeds"/>
        <enum-item name="Anvils"/>
        <enum-item name="Weapons"/>
        <enum-item name="TrainingWeapons"/>
        <enum-item name="Ammo"/>
        <enum-item name="TrapComponents"/>
        <enum-item name="DiggingImplements"/>
        <enum-item name="Bodywear"/>
        <enum-item name="Headwear"/>
        <enum-item name="Handwear"/>
        <enum-item name="Footwear"/>
        <enum-item name="Legwear"/>
        <enum-item name="Shields"/>
        <enum-item name="Toys"/>
        <enum-item name="Instruments"/>
        <enum-item name="Pets"/>
        <enum-item name="Drinks"/>
        <enum-item name="Cheese"/>
        <enum-item name="Powders"/>
        <enum-item name="Extracts"/>
        <enum-item name="Meat"/>
        <enum-item name="Fish"/>
        <enum-item name="Plants"/>
        <enum-item name="MeatFishRecipes"/>
        <enum-item name="OtherRecipes"/>
        <enum-item name="Stone"/>
        <enum-item name="Cages"/>
        <enum-item name="BagsLeather"/>
        <enum-item name="BagsPlant"/>
        <enum-item name="BagsSilk"/>
        <enum-item name="ThreadPlant"/>
        <enum-item name="ThreadSilk"/>
        <enum-item name="RopesPlant"/>
        <enum-item name="RopesSilk"/>
        <enum-item name="Barrels"/>
        <enum-item name="FlasksWaterskins"/>
        <enum-item name="Quivers"/>
        <enum-item name="Backpacks"/>
        <enum-item name="Sand"/>
        <enum-item name="Glass"/>
        <enum-item name="Miscellaneous"/>
        <enum-item name="Buckets"/>
        <enum-item name="Splints"/>
        <enum-item name="Crutches"/>
        <enum-item name="Eggs"/>
        <enum-item name="BagsYarn"/>
        <enum-item name="RopesYarn"/>
        <enum-item name="ClothYarn"/>
        <enum-item name="ThreadYarn"/>
        <enum-item name="Tools"/>
        <enum-item name="Clay"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_sell_prices">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_requests" name="items" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_requests"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="105" index-enum="entity_sell_category" name="price" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_sell_requests">
        <ld:field ld:level="1" ld:meta="static-array" count="105" index-enum="entity_sell_category" name="priority" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="historical_entity_type">
        <enum-item name="Civilization"/>
        <enum-item name="SiteGovernment"/>
        <enum-item name="VesselCrew"/>
        <enum-item name="MigratingGroup"/>
        <enum-item name="NomadicGroup"/>
        <enum-item name="Religion"/>
        <enum-item name="MilitaryUnit"/>
        <enum-item name="Outcast"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="historical_entity" key-field="id" instance-vector="$global.world.entities.all">
        <ld:field ld:subtype="enum" name="type" base-type="int16_t" type-name="historical_entity_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="id" comment="index in the array" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" name="entity_raw" type-name="entity_raw" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_raw"/></ld:field>

        <ld:field name="save_file_id" comment="changes once has 100 entries" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_member_idx" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            $.type
            (describe-obj (find-creature $.race))
            (describe-obj $.name)
        </code-helper>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="foreign_civ" comment="?" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="named_civ" comment="?" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unk2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unk3" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unk4" comment="?" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="worshipping" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entity_links" pointer-type="entity_entity_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_entity_link"><ld:item ld:level="3" ld:meta="global" type-name="entity_entity_link"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="site_links" pointer-type="entity_site_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_site_link"><ld:item ld:level="3" ld:meta="global" type-name="entity_site_link"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfig_ids" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="populations" type-name="int32_t" ref-target="entity_population" comment="1st entry copies to unit.population_id for Adventurer?" ld:is-container="true"><ld:item ref-target="entity_population" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis_ids" type-name="int32_t" ref-target="nemesis_record" ld:is-container="true"><ld:item ref-target="nemesis_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="resources" ld:level="1" ld:meta="compound" ld:typedef-name="T_resources">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="digger_type" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapon_type" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="training_weapon_type" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_type" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_type" type-name="int16_t" ref-target="itemdef_ammost" ld:is-container="true"><ld:item ref-target="itemdef_ammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_type" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_type" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_type" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_type" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shield_type" type-name="int16_t" ref-target="itemdef_shieldst" ld:is-container="true"><ld:item ref-target="itemdef_shieldst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomp_type" type-name="int16_t" ref-target="itemdef_trapcompst" ld:is-container="true"><ld:item ref-target="itemdef_trapcompst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toy_type" type-name="int16_t" ref-target="itemdef_toyst" ld:is-container="true"><ld:item ref-target="itemdef_toyst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instrument_type" type-name="int16_t" ref-target="itemdef_instrumentst" ld:is-container="true"><ld:item ref-target="itemdef_instrumentst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo_type" type-name="int16_t" ref-target="itemdef_siegeammost" ld:is-container="true"><ld:item ref-target="itemdef_siegeammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tool_type" type-name="int16_t" ref-target="itemdef_toolst" ld:is-container="true"><ld:item ref-target="itemdef_toolst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="metal" ld:level="2" ld:meta="compound" ld:typedef-name="T_metal">
                <ld:field name="pick" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="weapon" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="ranged" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="ammo" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="ammo2" type-name="material_vec_ref" comment="maybe intended for siege ammo" ld:level="3" ld:meta="global"/>
                <ld:field name="armor" type-name="material_vec_ref" comment="also instruments, toys, and tools" ld:level="3" ld:meta="global"/>
                <ld:field name="anvil" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field name="organic" ld:level="2" ld:meta="compound" ld:typedef-name="T_organic">
                <ld:field name="leather" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="fiber" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="silk" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="wool" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="wood" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="metals" type-name="int32_t" ref-target="inorganic_raw" comment="bars" ld:is-container="true"><ld:item ref-target="inorganic_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="stones" type-name="int32_t" ref-target="inorganic_raw" comment="boulders and blocks" ld:is-container="true"><ld:item ref-target="inorganic_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gems" type-name="int32_t" ref-target="inorganic_raw" comment="small and large cut" ld:is-container="true"><ld:item ref-target="inorganic_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="refuse" ld:level="2" ld:meta="compound" ld:typedef-name="T_refuse">
                <ld:field name="bone" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="shell" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="pearl" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="ivory" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="horn" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field name="misc_mat" ld:level="2" ld:meta="compound" ld:typedef-name="T_misc_mat">
                <ld:field name="others" type-name="material_vec_ref" comment="amber and coral" ld:level="3" ld:meta="global"/>
                <ld:field name="glass" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="sand" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="clay" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="crafts" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="glass_unused" type-name="material_vec_ref" comment="used for vial extracts on embark" ld:level="3" ld:meta="global"/>
                <ld:field name="barrels" type-name="material_vec_ref" comment="also buckets, splints, and crutches" ld:level="3" ld:meta="global"/>
                <ld:field name="flasks" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="quivers" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="backpacks" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="cages" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="wood2" type-name="material_vec_ref" comment="v0.34.01" ld:level="3" ld:meta="global"/>
                <ld:field name="rock_metal" type-name="material_vec_ref" comment="v0.34.01" ld:level="3" ld:meta="global"/>
                <ld:field name="booze" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="cheese" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="powders" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="extracts" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field name="meat" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="fish_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="fish_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.fish_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.fish_races[$._key]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="egg_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="egg_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.egg_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.egg_races[$._key]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="plants" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="seeds" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>

            <ld:field name="wood_products" comment="lye, charcoal, potash, pearlash, and coke" ld:level="2" ld:meta="compound" ld:typedef-name="T_wood_products">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" name="item_subtype" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field name="material" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field name="animals" ld:level="2" ld:meta="compound" ld:typedef-name="T_animals">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pet_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="wagon_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pack_animal_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="wagon_puller_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="mount_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="minion_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="exotic_pet_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pet_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.pet_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.pet_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="wagon_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.wagon_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.wagon_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pack_animal_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.pack_animal_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.pack_animal_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="wagon_puller_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.wagon_puller_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.wagon_puller_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="mount_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.mount_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.mount_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="minion_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.minion_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.minion_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="exotic_pet_castes" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.unk728_races[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.unk728_races[$._key]" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="meat_fish_recipes" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_meat_fish_recipes">
                    <ld:field name="subtype" ref-target="itemdef_foodst" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_types" ld:is-container="true">
                        <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="5" ld:meta="global"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_subtypes" ld:is-container="true">
                        <ld:item name="item_subtype" refers-to="(item-subtype-target $$._parent._parent.item_types[$$._key] $)" ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="mat_types" ld:is-container="true">
                        <ld:item ref-target="material" aux-value="$$._parent.mat_indices[$._key]" ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="mat_indices" type-name="int16_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                </ld:item>
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="other_recipes" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_other_recipes">
                    <ld:field name="subtype" ref-target="itemdef_foodst" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_types" ld:is-container="true">
                        <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="5" ld:meta="global"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_subtypes" ld:is-container="true">
                        <ld:item name="item_subtype" refers-to="(item-subtype-target $$._parent._parent.item_types[$$._key] $)" ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="mat_types" ld:is-container="true">
                        <ld:item ref-target="material" aux-value="$$._parent.mat_indices[$._key]" ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="mat_indices" type-name="int16_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                </ld:item>
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="unk13" count="3" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk13">
                <ld:field name="unk1" init-value="-1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk14" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>

            <ld:field name="unk15a" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk15b" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:level="2" ld:meta="static-array" name="ethic" count="22" index-enum="ethic_type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="ethic_response" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="art_image_types" comment="0 = civilization symbol" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="art_image_ids" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="art_image_subids" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_creature_foods" type-name="bool" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_creatures" type-name="bool" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_plant_foods" type-name="bool" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="discovered_plants" type-name="bool" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk23" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk24" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="uniforms" pointer-type="entity_uniform" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_uniform"><ld:item ld:level="3" ld:meta="global" type-name="entity_uniform"/></ld:item></ld:field>
        <ld:field name="next_uniform_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unknown1b" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown1b">
            <ld:field name="unk27" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk28" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk29" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk30a" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk30b" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk31a" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk31b" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk32a" type-name="int32_t" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk32b" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="worship" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk32d" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk32e" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_unk32e">
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_7"/>
                </ld:item>
                    
                    
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="diplomacy" ld:is-container="true"> sorted by group_id
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_diplomacy">
                    <ld:field name="group_id" ref-target="historical_entity" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="relation" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> only 1 and 5 are 'hostile' (from viewscreen_unitlistst::render)
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                </ld:item>
                    
                     only 1 and 5 are 'hostile' (from viewscreen_unitlistst::render)
                    
                    
                    
                    
                </ld:item>
            </ld:field>

            <ld:field name="unk33" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk34a" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk34b" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk34c" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk34d" type-name="int32_t" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk34e" type-name="int32_t" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="positions" ld:level="1" ld:meta="compound" ld:typedef-name="T_positions">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="own" pointer-type="entity_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position"><ld:item ld:level="4" ld:meta="global" type-name="entity_position"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="site" pointer-type="entity_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position"><ld:item ld:level="4" ld:meta="global" type-name="entity_position"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="conquered_site" pointer-type="entity_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position"><ld:item ld:level="4" ld:meta="global" type-name="entity_position"/></ld:item></ld:field>

            <ld:field name="next_position_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="assignments" pointer-type="entity_position_assignment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position_assignment"><ld:item ld:level="4" ld:meta="global" type-name="entity_position_assignment"/></ld:item></ld:field>

            <ld:field name="next_assignment_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="tissue_styles" ld:level="1" ld:meta="compound" ld:typedef-name="T_tissue_styles">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="entity_tissue_style" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_tissue_style"><ld:item ld:level="4" ld:meta="global" type-name="entity_tissue_style"/></ld:item></ld:field>
            <ld:field name="next_style_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="unknown1c" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown1c">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk40" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_unk40">
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
                </ld:item>
                    
                    
                </ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="squads" type-name="int32_t" ref-target="squad" ld:is-container="true"><ld:item ref-target="squad" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="unknown1d" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown1d">
            <ld:field name="unk42" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk43" type-name="int32_t" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="unk44" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk44a" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="unk44b" count="15" type-name="int32_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="training_knowledge" comment="v0.34.06" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_training_knowledge">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="level" index-refers-to="(find-instance $creature_raw $)" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="training_knowledge_level" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_10" index-refers-to="(find-instance $creature_raw $)" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
        </ld:item>
            
            
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="meeting_events" pointer-type="meeting_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_event"><ld:item ld:level="3" ld:meta="global" type-name="meeting_event"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="activity_stats" type-name="entity_activity_statistics" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_activity_statistics"/></ld:field>

        <ld:field name="unknown1e" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown1e">
            <ld:field name="unk47" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk48" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="unk49a" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk49b" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk49c" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="unk49d" count="10" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="unk49e" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk49f" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk50" type-name="pointer" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="hist_figures" pointer-type="historical_figure" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_figure"><ld:item ld:level="3" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="nemesis_record"><ld:item ld:level="3" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>

        <ld:field name="derived_resources" ld:level="1" ld:meta="compound" ld:typedef-name="T_derived_resources">
            <ld:field name="mill_cookable" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>
            <ld:field name="mill_dye" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_leather" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_chain" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_plate" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_under" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_over" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_cover" ld:is-container="true">
                <ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_leather" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_chain" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_plate" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_under" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_over" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_cover" ld:is-container="true">
                <ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_leather" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_chain" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_plate" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_under" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_over" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_cover" ld:is-container="true">
                <ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_leather" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_chain" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_plate" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_under" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_over" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_cover" ld:is-container="true">
                <ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_leather" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_chain" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_plate" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_under" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_over" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_cover" ld:is-container="true">
                <ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="assignments_by_type" count="25" index-enum="entity_position_responsibility" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="entity_position_assignment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position_assignment"><ld:item ld:level="4" ld:meta="global" type-name="entity_position_assignment"/></ld:item></ld:item>
        </ld:field>

        <ld:field name="claims" ld:level="1" ld:meta="compound" ld:typedef-name="T_claims">
            <ld:field name="areas" type-name="coord2d_path" comment="in world_data.entity_claims1" ld:level="2" ld:meta="global"/>

            <ld:field name="unk1" type-name="coord2d_path" ld:level="2" ld:meta="global"/>
            <ld:field name="unk2" type-name="coord2d_path" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="children" type-name="int32_t" ref-target="historical_entity" comment="includes self" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="unknown2" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown2">
            <ld:field name="metal_proficiency" comment="best IMPACT_FRACTURE/10000 + MAX_EDGE/1000 for weapon mats plus best IMPACT_FRACTURE/10000 for armor mats" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk10" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field ld:level="2" ld:meta="pointer" name="unk11" ld:is-container="true"/>
            <ld:field name="unk12a" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk12b" comment="uninitialized" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk13" comment="0" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="unk14" comment="0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk15" comment="uninitialized" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk16" comment="uninitialized" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk17" comment="0" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk18" type-name="pointer" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk19" type-name="pointer" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>

            <ld:field name="unk20" comment="0" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk21" comment="0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk22" comment="0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk23" comment="0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk24" type-name="pointer" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk25" type-name="pointer" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="unk26" count="177" type-name="int32_t" comment="Uninitialized" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk28" type-name="pointer" comment="empty" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk29" type-name="pointer" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_tissue_style" key-field="id">
        <code-helper name="describe">$.name</code-helper>
        <code-helper name="find-instance">
            (find-by-id $(find-instance $historical_entity $$).tissue_styles.all $id $)
        </code-helper>

        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="preferred_shapings" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" comment="maybe probability?" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="maintain_length_min" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="maintain_length_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="training_knowledge_level" base-type="int32_t">
        <enum-item name="None"/>
        <enum-item name="FewFacts"/>
        <enum-item name="GeneralFamiliarity"/>
        <enum-item name="Knowledgeable"/>
        <enum-item name="Expert"/>
        <enum-item name="Domesticated"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_position_flags">
        <enum-item name="IS_LAW_MAKER"/>
        <enum-item name="ELECTED"/>
        <enum-item name="DUTY_BOUND"/>
        <enum-item name="MILITARY_SCREEN_ONLY"/>
        <enum-item name="GENDER_MALE"/>
        <enum-item name="GENDER_FEMALE"/>
        <enum-item name="SUCCESSION_BY_HEIR"/>
        <enum-item name="HAS_RESPONSIBILITIES"/>

        <enum-item name="FLASHES"/>
        <enum-item name="BRAG_ON_KILL"/>
        <enum-item name="CHAT_WORTHY"/>
        <enum-item name="DO_NOT_CULL"/>
        <enum-item name="KILL_QUEST"/>
        <enum-item name="IS_LEADER"/>
        <enum-item name="IS_DIPLOMAT"/>
        <enum-item name="EXPORTED_IN_LEGENDS"/>

        <enum-item name="DETERMINES_COIN_DESIGN"/>
        <enum-item name="ACCOUNT_EXEMPT"/>
        <enum-item name="unk_12"/>
        <enum-item name="unk_13"/>
        <enum-item name="COLOR"/>
        <enum-item name="RULES_FROM_LOCATION"/>
        <enum-item name="MENIAL_WORK_EXEMPTION"/>
        <enum-item name="MENIAL_WORK_EXEMPTION_SPOUSE"/>

        <enum-item name="SLEEP_PRETENSION"/>
        <enum-item name="PUNISHMENT_EXEMPTION"/>
        <enum-item name="unk_1a"/>
        <enum-item name="unk_1b"/>
        <enum-item name="QUEST_GIVER"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_position" key-field="id">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">$.code</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="entity_position_flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="allowed_creature" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="allowed_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rejected_creature" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rejected_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name_female" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name_male" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spouse" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spouse_female" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spouse_male" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="squad" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="land_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="squad_size" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="commander_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="commander_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="commander_types" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="land_holder" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="requires_population" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>

        <ld:field name="precedence" init-value="30001" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="replaced_by" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number" init-value="1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="appointed_by" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="appointed_by_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="succession_by_position" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="bool" name="responsibilities" count="25" index-enum="entity_position_responsibility" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="required_boxes" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_cabinets" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_racks" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_stands" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_office" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_bedroom" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_dining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_tomb" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mandate_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="demand_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_position_assignment" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">
            (describe-obj $.position_id.refers-to)
            (awhen $.histfig.ref-target
              (describe-obj it))
        </code-helper>

        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="position_id" refers-to="(find-by-id $$._global._parent._global.positions.own $id $)" comment="position within relevant entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <ld:field name="squad_id" ref-target="squad" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_material_category" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="Clothing" comment="cloth or leather"/>
        <enum-item name="Leather" comment="organic.leather"/>
        <enum-item name="Cloth" comment="any cloth"/>
        <enum-item name="Wood" comment="organic.wood, used for training weapons"/>
        <enum-item name="Crafts" comment="misc_mat.crafts"/>
        <enum-item name="Stone" comment="stones"/>
        <enum-item name="Improvement" comment="misc_mat.crafts"/>
        <enum-item name="Glass" comment="misc_mat.glass_unused, used for extract vials"/>
        <enum-item name="Wood2" comment="misc_mat.barrels, also used for buckets"/>
        <enum-item name="Bag" comment="cloth/leather"/>
        <enum-item name="Cage" comment="misc_mat.cages"/>
        <enum-item name="WeaponMelee" comment="metal.weapon"/>
        <enum-item name="WeaponRanged" comment="metal.ranged"/>
        <enum-item name="Ammo" comment="metal.ammo"/>
        <enum-item name="Ammo2" comment="metal.ammo2"/>
        <enum-item name="Pick" comment="metal.pick"/>
        <enum-item name="Armor" comment="metal.armor, also used for shields, tools, instruments, and toys"/>
        <enum-item name="Gem" comment="gems"/>
        <enum-item name="Bone" comment="refuse.bone"/>
        <enum-item name="Shell" comment="refuse.shell"/>
        <enum-item name="Pearl" comment="refuse.pearl"/>
        <enum-item name="Ivory" comment="refuse.ivory"/>
        <enum-item name="Horn" comment="refuse.horn"/>
        <enum-item name="Other" comment="misc_mat.others"/>
        <enum-item name="Anvil" comment="metal.anvil"/>
        <enum-item name="Booze" comment="misc_mat.booze"/>
        <enum-item name="Metal" comment="metals with ITEMS_HARD, used for chains"/>
        <enum-item name="PlantFiber" comment="organic.fiber"/>
        <enum-item name="Silk" comment="organic.silk"/>
        <enum-item name="Wool" comment="organic.wool"/>
        <enum-item name="Furniture" comment="misc_mat.rock_metal"/>
        <enum-item name="MiscWood2" comment="misc_mat.wood2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_uniform_item">
        <ld:field name="random_dye" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="item_color" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="art_image_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_image_subid" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="image_thread_color" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="image_material_class" type-name="entity_material_category" ld:level="1" ld:meta="global"/>
        <ld:field name="maker_race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="indiv_choice" type-name="uniform_indiv_choice" ld:level="1" ld:meta="global"/>
        <ld:field name="mattype" ref-target="material" aux-value="$$.matindex" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="matindex" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="material_class" type-name="entity_material_category" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_uniform" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">
            (describe-obj $.name)
        </code-helper>

        <ld:field ld:level="1" ld:meta="static-array" name="uniform_item_types" count="7" index-enum="uniform_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="uniform_item_subtypes" count="7" index-enum="uniform_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item refers-to="(item-subtype-target $$._parent._parent._parent.uniform_item_types[$$._parent._key][$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="uniform_item_info" count="7" index-enum="uniform_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="entity_uniform_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_uniform_item"><ld:item ld:level="4" ld:meta="global" type-name="entity_uniform_item"/></ld:item></ld:item>
        </ld:field>

        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="flags" type-name="uniform_flags" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_raw_flags">
        <enum-item name="CIV_CONTROLLABLE"/>
        <enum-item name="INDIV_CONTROLLABLE"/>
        <enum-item name="LAYER_LINKED"/>
        <enum-item name="INDOOR_WOOD"/>
        <enum-item name="WOOD_ARMOR"/>
        <enum-item name="SIEGER"/>
        <enum-item name="AMBUSHER"/>
        <enum-item name="BABYSNATCHER"/>

        <enum-item name="ITEM_THIEF"/>
        <enum-item name="CLOTHING"/>
        <enum-item name="CURRENCY_BY_YEAR"/>
        <enum-item name="METAL_PREF"/>
        <enum-item name="GEM_PREF"/>
        <enum-item name="STONE_PREF"/>
        <enum-item name="WOOD_WEAPONS"/>
        <enum-item name="BUILDS_OUTDOOR_FORTIFICATIONS"/>

        <enum-item name="RIVER_PRODUCTS"/>
        <enum-item name="OCEAN_PRODUCTS"/>
        <enum-item name="INDOOR_FARMING"/>
        <enum-item name="OUTDOOR_FARMING"/>
        <enum-item name="USE_CAVE_ANIMALS"/>
        <enum-item name="USE_EVIL_ANIMALS"/>
        <enum-item name="USE_ANIMAL_PRODUCTS"/>
        <enum-item name="COMMON_DOMESTIC_PACK"/>

        <enum-item name="COMMON_DOMESTIC_PULL"/>
        <enum-item name="COMMON_DOMESTIC_MOUNT"/>
        <enum-item name="COMMON_DOMESTIC_PET"/>
        <enum-item name="SUBTERRANEAN_CLOTHING"/>
        <enum-item name="USE_EVIL_WOOD"/>
        <enum-item name="USE_GOOD_WOOD"/>
        <enum-item name="USE_EVIL_PLANTS"/>
        <enum-item name="USE_GOOD_PLANTS"/>

        <enum-item name="USE_GOOD_ANIMALS"/>
        <enum-item name="USE_ANY_PET_RACE"/>
        <enum-item name="USE_MISC_PROCESSED_WOOD_PRODUCTS"/>
        <enum-item name="IMPROVED_BOWS"/>
        <enum-item name="OUTDOOR_WOOD"/>
        <enum-item name="LOCAL_BANDITRY"/>
        <enum-item/>
        <enum-item name="INVADERS_IGNORE_NEUTRALS"/>

        <enum-item name="AT_PEACE_WITH_WILDLIFE"/>
        <enum-item name="EQUIPMENT_IMPROVEMENTS"/>
        <enum-item name="ABUSE_BODIES"/>
        <enum-item name="UNDEAD_CANDIDATE"/>
        <enum-item/>
        <enum-item name="SKULKING"/>
        <enum-item/>
        <enum-item name="MERCHANT_NOBILITY"/>

        <enum-item name="TREE_CAP_DIPLOMACY"/>
        <enum-item name="DIPLOMAT_BODYGUARDS"/>
        <enum-item name="MERCHANT_BODYGUARDS"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="WANDERER"/>
        <enum-item name="BEAST_HUNTER"/>
        <enum-item name="SCOUT"/>

        <enum-item name="WILL_ACCEPT_TRIBUTE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="site_type">
        <enum-item name="PLAYER_FORTRESS"/>
        <enum-item name="DARK_FORTRESS"/>
        <enum-item name="CAVE"/>
        <enum-item name="CAVE_DETAILED"/>
        <enum-item name="TREE_CITY"/>
        <enum-item name="CITY"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="FORTRESS"/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ethic_type">
        <enum-item name="KILL_ENTITY_MEMBER"/>
        <enum-item name="KILL_NEUTRAL"/>
        <enum-item name="KILL_ENEMY"/>
        <enum-item name="KILL_ANIMAL"/>
        <enum-item name="KILL_PLANT"/>
        <enum-item name="TORTURE_AS_EXAMPLE"/>
        <enum-item name="TORTURE_FOR_INFORMATION"/>
        <enum-item name="TORTURE_FOR_FUN"/>
        <enum-item name="TORTURE_ANIMALS"/>
        <enum-item name="TREASON"/>
        <enum-item name="OATH_BREAKING"/>
        <enum-item name="LYING"/>
        <enum-item name="VANDALISM"/>
        <enum-item name="TRESPASSING"/>
        <enum-item name="THEFT"/>
        <enum-item name="ASSAULT"/>
        <enum-item name="SLAVERY"/>
        <enum-item name="EAT_SAPIENT_OTHER"/>
        <enum-item name="EAT_SAPIENT_KILL"/>
        <enum-item name="MAKE_TROPHY_SAME_RACE"/>
        <enum-item name="MAKE_TROPHY_SAPIENT"/>
        <enum-item name="MAKE_TROPHY_ANIMAL"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ethic_response" base-type="int16_t">
        <enum-item name="NOT_APPLICABLE"/>
        <enum-item name="ACCEPTABLE"/>
        <enum-item name="PERSONAL_MATTER"/>
        <enum-item name="JUSTIFIED_IF_NO_REPERCUSSIONS"/>
        <enum-item name="JUSTIFIED_IF_GOOD_REASON"/>
        <enum-item name="JUSTIFIED_IF_EXTREME_REASON"/>
        <enum-item name="JUSTIFIED_IF_SELF_DEFENSE"/>
        <enum-item name="ONLY_IF_SANCTIONED"/>
        <enum-item name="MISGUIDED"/>
        <enum-item name="SHUN"/>
        <enum-item name="APPALLING"/>
        <enum-item name="PUNISH_REPRIMAND"/>
        <enum-item name="PUNISH_SERIOUS"/>
        <enum-item name="PUNISH_EXILE"/>
        <enum-item name="PUNISH_CAPITAL"/>
        <enum-item name="UNTHINKABLE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_raw" instance-vector="$global.world.raws.entities">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.translation</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creature_ids" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creatures" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field name="equipment" ld:level="1" ld:meta="compound" ld:typedef-name="T_equipment">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="digger_id" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapon_id" type-name="int16_t" ref-target="itemdef_weaponst" ld:is-container="true"><ld:item ref-target="itemdef_weaponst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_id" type-name="int16_t" ref-target="itemdef_armorst" ld:is-container="true"><ld:item ref-target="itemdef_armorst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_id" type-name="int16_t" ref-target="itemdef_ammost" ld:is-container="true"><ld:item ref-target="itemdef_ammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_id" type-name="int16_t" ref-target="itemdef_helmst" ld:is-container="true"><ld:item ref-target="itemdef_helmst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_id" type-name="int16_t" ref-target="itemdef_glovesst" ld:is-container="true"><ld:item ref-target="itemdef_glovesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_id" type-name="int16_t" ref-target="itemdef_shoesst" ld:is-container="true"><ld:item ref-target="itemdef_shoesst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_id" type-name="int16_t" ref-target="itemdef_pantsst" ld:is-container="true"><ld:item ref-target="itemdef_pantsst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shield_id" type-name="int16_t" ref-target="itemdef_shieldst" ld:is-container="true"><ld:item ref-target="itemdef_shieldst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomp_id" type-name="int16_t" ref-target="itemdef_trapcompst" ld:is-container="true"><ld:item ref-target="itemdef_trapcompst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toy_id" type-name="int16_t" ref-target="itemdef_toyst" ld:is-container="true"><ld:item ref-target="itemdef_toyst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instrument_id" type-name="int16_t" ref-target="itemdef_instrumentst" ld:is-container="true"><ld:item ref-target="itemdef_instrumentst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tool_id" type-name="int16_t" ref-target="itemdef_toolst" ld:is-container="true"><ld:item ref-target="itemdef_toolst" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo_id" type-name="int16_t" ref-target="itemdef_siegeammost" ld:is-container="true"><ld:item ref-target="itemdef_siegeammost" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_rarity" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="digger_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapon_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helm_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shield_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomp_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toy_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instrument_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siegeammo_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tool_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="currency_value" type-name="int32_t" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="entity_raw_flags" ld:is-container="true"/>
        <ld:field name="translation" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="symbols" ld:level="1" ld:meta="compound" ld:typedef-name="T_symbols">
            <ld:field ld:level="2" ld:meta="static-array" name="symbols1" type-name="language_word_table" count="14" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="language_word_table"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="symbols2" type-name="language_word_table" count="14" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="language_word_table"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="select_symbol" count="14" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="subselect_symbol" count="14" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="cull_symbol" count="14" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="habitat" ld:level="1" ld:meta="compound" ld:typedef-name="T_habitat">
            <ld:field ld:level="2" ld:meta="static-array" name="sphere_alignment" type-name="int32_t" count="130" index-enum="sphere_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="art_facet_modifier" type-name="int32_t" count="4" index-enum="art_facet_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="art_image_element_modifier" type-name="int32_t" count="5" index-enum="art_image_element_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="item_improvement_modifier" type-name="int32_t" count="11" index-enum="improvement_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="adventure_tier" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="friendly_color" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="default_site_type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" name="likes_site" type-name="int8_t" count="11" index-enum="site_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="tolerates_site" type-name="int8_t" count="11" index-enum="site_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="biome_support" type-name="int32_t" count="51" index-enum="biome_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="start_biome" type-name="int8_t" count="51" index-enum="biome_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="active_season" type-name="int8_t" count="4" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="progress_trigger" ld:level="1" ld:meta="compound" ld:typedef-name="T_progress_trigger">
            <ld:field name="population" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="production" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="trade" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="pop_siege" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="prod_siege" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="trade_siege" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="ethic" count="22" index-enum="ethic_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="ethic_response" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="max_site_pop_number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_pop_number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_starting_civ_number" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="religion" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="religion_sphere" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="sphere_type" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>

        <ld:field name="jobs" ld:level="1" ld:meta="compound" ld:typedef-name="T_jobs">
            <ld:field ld:level="2" ld:meta="static-array" name="permitted_job" type-name="bool" index-enum="profession" count="106" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="permitted_labor" type-name="bool" index-enum="unit_labor" count="94" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="permitted_skill" type-name="bool" index-enum="job_skill" count="116" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="world_construction" type-name="bool" index-enum="world_construction_type" count="4" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="positions" pointer-type="entity_position_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_position_raw"><ld:item ld:level="3" ld:meta="global" type-name="entity_position_raw"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="variable_positions" type-name="int8_t" index-enum="entity_position_responsibility" count="25" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue_styles" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_tissue_styles">
                <ld:field name="name" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="preferred_shapings" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field name="maintain_length_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="maintain_length_max" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field name="workshops" ld:level="1" ld:meta="compound" ld:typedef-name="T_workshops">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="permitted_building_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="permitted_building_id" type-name="int32_t" ref-target="building_def" ld:is-container="true"><ld:item ref-target="building_def" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="permitted_reaction_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="permitted_reaction_id" type-name="int32_t" ref-target="reaction" ld:is-container="true"><ld:item ref-target="reaction" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="land_holder_trigger" ld:level="1" ld:meta="compound" ld:typedef-name="T_land_holder_trigger">
            <ld:field ld:level="2" ld:meta="static-array" name="num" type-name="int32_t" count="10" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="population" type-name="int32_t" count="10" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="wealth" type-name="int32_t" count="10" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="banditry" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk2" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="currency" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="gem_shapes" comment="v0.34.01" type-name="int32_t" ref-target="descriptor_shape" ld:is-container="true"><ld:item ref-target="descriptor_shape" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stone_shapes" comment="v0.34.01" type-name="int32_t" ref-target="descriptor_shape" ld:is-container="true"><ld:item ref-target="descriptor_shape" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_position_raw_flags">
        <enum-item name="SITE"/>
        <enum-item name="ELECTED"/>
        <enum-item name="CONQUERED_SITE"/>
        <enum-item name="MILITARY_SCREEN_ONLY"/>
        <enum-item name="GENDER_MALE"/>
        <enum-item name="GENDER_FEMALE"/>
        <enum-item name="SUCCESSION_BY_HEIR"/>
        <enum-item name="EXPORTED_IN_LEGENDS"/>

        <enum-item name="FLASHES"/>
        <enum-item name="BRAG_ON_KILL"/>
        <enum-item name="CHAT_WORTHY"/>
        <enum-item name="DO_NOT_CULL"/>
        <enum-item name="KILL_QUEST"/>
        <enum-item name="DETERMINES_COIN_DESIGN"/>
        <enum-item name="ACCOUNT_EXEMPT"/>
        <enum-item name="DUTY_BOUND"/>

        <enum-item name="COLOR"/>
        <enum-item name="RULES_FROM_LOCATION"/>
        <enum-item name="MENIAL_WORK_EXEMPTION"/>
        <enum-item name="MENIAL_WORK_EXEMPTION_SPOUSE"/>
        <enum-item name="SLEEP_PRETENSION"/>
        <enum-item name="PUNISHMENT_EXEMPTION"/>
        <enum-item name="QUEST_GIVER"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_position_responsibility">
        <enum-item name="LAW_MAKING"/>
        <enum-item name="LAW_ENFORCEMENT"/>
        <enum-item name="RECEIVE_DIPLOMATS"/>
        <enum-item name="MEET_WORKERS"/>
        <enum-item name="MANAGE_PRODUCTION"/>
        <enum-item name="TRADE"/>
        <enum-item name="ACCOUNTING"/>
        <enum-item name="ESTABLISH_COLONY_TRADE_AGREEMENTS"/>
        <enum-item name="MAKE_INTRODUCTIONS"/>
        <enum-item name="MAKE_PEACE_AGREEMENTS"/>
        <enum-item name="MAKE_TOPIC_AGREEMENTS"/>
        <enum-item name="COLLECT_TAXES"/>
        <enum-item name="ESCORT_TAX_COLLECTOR"/>
        <enum-item name="EXECUTIONS"/>
        <enum-item name="TAME_EXOTICS"/>
        <enum-item name="RELIGION"/>
        <enum-item name="ATTACK_ENEMIES"/>
        <enum-item name="PATROL_TERRITORY"/>
        <enum-item name="MILITARY_GOALS"/>
        <enum-item name="MILITARY_STRATEGY"/>
        <enum-item name="UPGRADE_SQUAD_EQUIPMENT"/>
        <enum-item name="EQUIPMENT_MANIFESTS"/>
        <enum-item name="SORT_AMMUNITION"/>
        <enum-item name="BUILD_MORALE"/>
        <enum-item name="HEALTH_MANAGEMENT"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_position_raw">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="entity_position_raw_flags" ld:is-container="true"/>

        <ld:field ld:level="1" ld:meta="static-array" name="allowed_creature_str" count="2" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="allowed_creature" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="allowed_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="rejected_creature_str" count="2" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rejected_creature" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rejected_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name_female" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="name_male" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spouse" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spouse_female" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="spouse_male" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="squad" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="land_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="squad_size" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="commander_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="commander_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="commander_types" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="land_holder" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="number" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="requires_population" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="precedence" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="replaced_by_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="replaced_by" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="appointed_by_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="appointed_by" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="succession_by_position_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="succession_by_position" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="bool" name="responsibilities" count="25" index-enum="entity_position_responsibility" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" name="color" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="required_boxes" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_cabinets" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_racks" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_stands" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_office" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_bedroom" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_dining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="required_tomb" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mandate_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="demand_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="weather_type" base-type="int8_t">
        <enum-item name="None"/>
        <enum-item name="Rain"/>
        <enum-item name="Snow"/>
    </ld:global-type>
    <ld:global-object ld:level="0" name="cursor" ld:is-container="true">
        <ld:item ld:meta="compound" ld:level="0" ld:typedef-name="T_cursor">
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:item>
        
        
        
    </ld:global-object>
    <ld:global-object ld:level="0" name="selection_rect" ld:is-container="true">
        <ld:item ld:meta="compound" ld:level="0" ld:typedef-name="T_selection_rect">
        <ld:field name="start_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_x" comment="only valid for an instant while its being completed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:item>
        
        
        
        
        
        
    </ld:global-object>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="game_mode">
        <enum-item name="DWARF"/>
        <enum-item name="ADVENTURE"/>
        <enum-item name="num"/>
        <enum-item name="NONE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="game_type">
        <enum-item name="DWARF_MAIN"/>
        <enum-item name="ADVENTURE_MAIN"/>
        <enum-item name="VIEW_LEGENDS"/>
        <enum-item name="DWARF_RECLAIM"/>
        <enum-item name="DWARF_ARENA"/>
        <enum-item name="ADVENTURE_ARENA"/>
        <enum-item name="num"/>
        <enum-item name="NONE"/>
    </ld:global-type>
    <ld:global-object ld:level="0" name="gamemode" ld:is-container="true">
        <ld:item ld:subtype="enum" base-type="int32_t" type-name="game_mode" ld:level="1" ld:meta="global"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="gametype" ld:is-container="true">
        <ld:item ld:subtype="enum" base-type="int32_t" type-name="game_type" ld:level="1" ld:meta="global"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_area_map_width" type-name="int8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_menu_width" type-name="int8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="created_item_type" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_subtype" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $global.created_item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_mattype" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true">
            <ld:item ref-target="material" aux-value="$global.created_item_matindex[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_matindex" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="created_item_count" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="map_renderer" type-name="map_renderer" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="map_renderer"/></ld:global-object>
    <ld:global-object ld:level="0" name="d_init" type-name="d_init" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="d_init"/></ld:global-object>
    <ld:global-object ld:level="0" name="flows" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="flow_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="flow_info"><ld:item ld:level="3" ld:meta="global" type-name="flow_info"/></ld:item></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="enabler" type-name="enabler" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="enabler"/></ld:global-object>
    <ld:global-object ld:level="0" name="gps" type-name="graphic" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="graphic"/></ld:global-object>
    <ld:global-object ld:level="0" name="gview" type-name="interfacest" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="interfacest"/></ld:global-object>
    <ld:global-object ld:level="0" name="init" type-name="init" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="init"/></ld:global-object>
    <ld:global-object ld:level="0" name="texture" type-name="texture_handler" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="texture_handler"/></ld:global-object>
    <ld:global-object ld:level="0" name="timed_events" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="timed_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="timed_event"><ld:item ld:level="3" ld:meta="global" type-name="timed_event"/></ld:item></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui" type-name="ui" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_advmode" type-name="ui_advmode" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_advmode"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_build_selector" type-name="ui_build_selector" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_build_selector"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_type" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_is_marked" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_units" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_assign_items" ld:is-container="true">
        <ld:item ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_look_list" type-name="ui_look_list" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_look_list"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_sidebar_menus" type-name="ui_sidebar_menus" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_sidebar_menus"/></ld:global-object>
    <ld:global-object ld:level="0" name="world" type-name="world" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="world"/></ld:global-object>
    <ld:global-object ld:level="0" name="activity_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="art_image_chunk_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="artifact_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="building_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="crime_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="entity_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="flow_guide_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="formation_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="hist_event_collection_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="hist_event_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="hist_figure_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="identity_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="incident_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="interaction_instance_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="item_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="job_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="machine_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="nemesis_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="proj_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="schedule_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="squad_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="task_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="unit_chunk_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="unit_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="vehicle_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="written_content_next_id" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="announcements" type-name="announcements" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="announcements"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_year_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_year_tick_advmode" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_season" type-name="int8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="cur_season_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="current_weather" ld:is-container="true">
        <ld:item ld:level="1" ld:meta="static-array" count="5" ld:is-container="true" ld:typedef-name="T_current_weather">
            <ld:item ld:level="2" ld:meta="static-array" count="5" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int8_t" type-name="weather_type" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:item>
    </ld:global-object>
    <ld:global-object ld:level="0" name="pause_state" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="process_dig" type-name="bool" comment="Requests dig designations to be processed next frame." ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="process_jobs" type-name="bool" comment="Requests building jobs to be processed next frame." ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_in_assign" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_in_resize" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_building_item_cursor" ld:is-container="true">
        <ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_look_cursor" ld:is-container="true">
        <ld:item refers-to="$global.ui_look_list.items[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_selected_unit" ld:is-container="true">
        <ld:item refers-to="$global.world.units.active[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="ui_unit_view_mode" type-name="ui_unit_view_mode" ld:is-container="true"><ld:item ld:level="1" ld:meta="global" type-name="ui_unit_view_mode"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_workshop_in_add" type-name="bool" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="ui_workshop_job_cursor" ld:is-container="true">
        <ld:item refers-to="$global.world.selected_building.jobs[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-object>
    <ld:global-object ld:level="0" name="window_x" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="window_y" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="window_z" type-name="int32_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nopause" type-name="bool" comment="Prevents the game from being paused" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nomoods" type-name="bool" comment="Same as ARTIFACTS:NO" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_combat" type-name="bool" comment="Functionality unknown, combat-related" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_wildlife" type-name="bool" comment="Functionality unknown, wildlife-related" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nodrink" type-name="bool" comment="Disables thirst on everything" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_noeat" type-name="bool" comment="Disables hunger on everything" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nosleep" type-name="bool" comment="Disables drowsiness on everything" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_showambush" type-name="bool" comment="Makes hidden ambushers visible on-screen and in the units list (but not to your citizens)" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_fastmining" type-name="bool" comment="All dwarves mine as fast as a Legendary Miner" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_nothought" type-name="bool" comment="All units have happiness locked at 100" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_noberserk" type-name="bool" comment="Insanity can only result in Crazed or Melancholy, never Berserk" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="debug_turbospeed" type-name="bool" comment="All units move and work at maximum speed" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="save_on_exit" type-name="bool" comment="Ending the game saves its state back to world.dat or world.sav" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_minerals" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_wood" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_food" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_bodies" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_animals" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_furniture" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_farmer_harvest" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_job_cancel_announce" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_mix_food" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_refuse" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_refuse_outside" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_gather_vermin_remains" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_corpses" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_skulls" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_skins" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_bones" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_hair" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_shells" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_dump_other" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_forbid_used_ammo" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_forbid_other_dead_items" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_forbid_own_dead" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_forbid_other_nohunt" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_forbid_own_dead_items" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_loom" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_collect_webs" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_slaughter" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_butcher" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_tan" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_fishery" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_kitchen" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_kiln" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_smelter" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_auto_other" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_use_dyed_cloth" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_zoneonly_drink" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-object ld:level="0" name="standing_orders_zoneonly_fish" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:global-object>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="graphic">
        <ld:field name="screenx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="screeny" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="screenf" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="screenb" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="screenbright" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screen" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="screentexpos" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int8_t" name="screentexpos_addcolor" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_grayscale" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_cf" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_cbr" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="clipx" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="clipy" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="tex_pos" count="1" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="rect_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int64_t" name="print_time" count="100" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int64_t" ld:bits="64"/></ld:field>
        <ld:field name="print_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="display_frames" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="force_full_display_count" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="original_rect" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="dimx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dimy" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="mouse_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screen_limit" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="renderer">
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screen" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="screentexpos" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int8_t" name="screentexpos_addcolor" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_grayscale" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_cf" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_cbr" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screen_old" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int32_t" name="screentexpos_old" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="int8_t" name="screentexpos_addcolor_old" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_grayscale_old" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_cf_old" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" name="screentexpos_cbr_old" is-array="true" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>

        <virtual-methods>
            <vmethod ld:level="1" name="update_tile"> <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="update_all"/>
            <vmethod ld:level="1" name="render"/>
            <vmethod ld:level="1" name="set_fullscreen"/>
            <vmethod ld:level="1" name="zoom">
                <ld:field ld:subtype="enum" base-type="int32_t" type-name="zoom_commands" ld:level="2" ld:meta="global"/>
            </vmethod>

            <vmethod ld:level="1" name="resize"> <ld:field name="w" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="h" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="grid_resize"> <ld:field name="w" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="h" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" ret-type="bool" name="get_mouse_coords">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="x" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="y" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="uses_opengl"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="zoom_commands">
        <enum-item name="zoom_in"/>
        <enum-item name="zoom_out"/>
        <enum-item name="zoom_reset"/>
        <enum-item name="zoom_fullscreen"/>
        <enum-item name="zoom_resetgrid"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="enabler">
        <ld:field name="fullscreen" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-deque" name="overridden_grid_sizes" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_overridden_grid_sizes">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        </ld:item>
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="renderer" type-name="renderer" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="renderer"/></ld:field>

        <ld:field name="calculated_fps" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="calculated_gfps" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-deque" name="frame_timings" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-deque" name="gframe_timings" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="frame_sum" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="gframe_sum" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="frame_last" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="gframe_last" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fps" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="gfps" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="fps_per_gfps" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="last_tick" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="outstanding_frames" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="outstanding_gframes" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>

        <ld:field name="async_frames" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="async_paused" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="async_tobox" ld:level="1" ld:meta="compound" ld:typedef-name="T_async_tobox">
            <ld:field ld:level="2" ld:meta="pointer" name="sem" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-deque" name="queue" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_queue">
                <ld:field ld:subtype="enum" name="cmd" ld:level="3" ld:meta="compound" ld:typedef-name="T_cmd">
                    <enum-item name="pause"/>
                    <enum-item name="start"/>
                    <enum-item name="render"/>
                    <enum-item name="inc"/>
                    <enum-item name="set_fps"/>
                </ld:field>
                <ld:field name="val" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="sem_fill" ld:is-container="true"/>
        </ld:field>

        <ld:field name="async_frombox" ld:level="1" ld:meta="compound" ld:typedef-name="T_async_frombox">
            <ld:field ld:level="2" ld:meta="pointer" name="sem" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-deque" name="queue" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_queue">
                <ld:field ld:subtype="enum" name="msg" ld:level="3" ld:meta="compound" ld:typedef-name="T_msg">
                    <enum-item name="quit"/>
                    <enum-item name="complete"/>
                    <enum-item name="set_fps"/>
                    <enum-item name="set_gfps"/>
                    <enum-item name="push_resize"/>
                    <enum-item name="pop_resize"/>
                    <enum-item name="reset_textures"/>
                </ld:field>
                <ld:field ld:anon-compound="true" is-union="true" ld:level="3" ld:meta="compound">
                    <ld:field name="fps" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field ld:anon-compound="true" ld:level="3" ld:meta="compound">
                        <ld:field name="x" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:field>
                </ld:field>
            </ld:item>
                
                
            </ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="sem_fill" ld:is-container="true"/>
        </ld:field>

        <ld:field name="async_zoom" ld:level="1" ld:meta="compound" ld:typedef-name="T_async_zoom">
            <ld:field ld:level="2" ld:meta="pointer" name="sem" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-deque" name="queue" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="zoom_commands" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="sem_fill" ld:is-container="true"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="async_fromcomplete" ld:is-container="true"/>

        <ld:field name="renderer_threadid" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field name="command_line" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="static-array" name="ccolor" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="3" type-name="s-float" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="s-float" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field ld:subtype="bitfield" name="flag" ld:level="1" ld:meta="compound" ld:typedef-name="T_flag">
            <ld:field name="render" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="maxfps" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="mouse_lbut" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_rbut" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_lbut_down" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_rbut_down" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_lbut_lift" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="mouse_rbut_lift" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="tracking_on" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="textures" ld:level="1" ld:meta="compound" ld:typedef-name="T_textures">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" name="raws" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field name="uploaded" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="gl_catalog" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" name="gl_texpos" ld:is-container="true"/>
        </ld:field>

        <ld:field name="sync" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" name="text_system" ld:is-container="true"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>

        <ld:field name="simticks" ld:level="1" ld:meta="compound" ld:typedef-name="T_simticks">
            <ld:field ld:level="2" ld:meta="pointer" name="sem" ld:is-container="true"/>
            <ld:field name="value" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="gputicks" ld:level="1" ld:meta="compound" ld:typedef-name="T_gputicks">
            <ld:field ld:level="2" ld:meta="pointer" name="sem" ld:is-container="true"/>
            <ld:field name="value" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="clock" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="historical_kills">
        -- Important

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="events" type-name="int32_t" ref-target="history_event" ld:is-container="true"><ld:item ref-target="history_event" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        -- Misc

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="killed_race" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="killed_caste" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.killed_race[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.killed_race[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_30" type-name="int32_t" comment="-1" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_40" type-name="int32_t" comment="-1" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="killed_site" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="killed_undead" ld:is-container="true">
            <ld:item ld:subtype="bitfield" base-type="uint16_t" ld:level="2" ld:meta="compound" ld:typedef-name="T_killed_undead">
                <ld:field name="skeletal" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="zombie" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="ghostly" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="killed_count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="history_hit_item">
        <ld:field name="item" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="mattype" ref-target="material" aux-value="$$.matindex" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="matindex" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        -- If shot by a ranged weapon:
        <ld:field name="bow_item" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="bow_item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="bow_item_subtype" refers-to="(item-subtype-target $$._parent.bow_item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bow_mattype" ref-target="material" aux-value="$$.bow_matindex" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bow_matindex" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="historical_figure_info">
        <ld:field ld:level="1" ld:meta="pointer" name="spheres" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="sphere_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="skills" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_skills">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="skills" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="job_skill" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="points" type-name="int32_t" index-refers-to="$$._parent.skills[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_20" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_30" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_40" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_50" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field name="unk_60" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:item>
            
            
            
            
            
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="pets" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="unk_c" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_unk_c">
            <ld:field ld:level="2" ld:meta="static-array" type-name="uint16_t" name="traits" count="30" index-enum="personality_facet_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_3c" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_unk_3c">
                    <ld:field name="a" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    <ld:field name="b" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:item>
                    
                    
                </ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_4c" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_5c" comment="v0.34.01" ld:is-container="true"/>
        </ld:item>
            
            
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="masterpieces" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_masterpieces">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="events" type-name="int32_t" ref-target="history_event" ld:is-container="true"><ld:item ref-target="history_event" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="events2" type-name="int32_t" ref-target="history_event" comment="ones that were stolen??.." ld:is-container="true"><ld:item ref-target="history_event" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:item>
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="unk_14" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_unk_14">
            <ld:field name="unk_0" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="region_id" ref-target="world_region" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="beast_id" init-value="-1" comment="for FB" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="region" type-name="coord2d" ld:level="2" ld:meta="global"/>
            <ld:field name="unk_14" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="unk_18" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_1c" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:item>
            
            
            
            
            
            
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="kills" type-name="historical_kills" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_kills"/></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="wounds" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_wounds">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="events" type-name="int32_t" ref-target="history_event" ld:is-container="true"><ld:item ref-target="history_event" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="status" ld:is-container="true">
                <code-helper name="index-refers-to">
                    (let* ((info $$._parent._parent._parent)
                           (figure $info._parent._parent)
                           (caste (find-instance $caste_raw $figure.caste $figure.race)))
                      $caste.body_parts[$])
                </code-helper>
            </ld:field>
        </ld:item>
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="secret" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_secret">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interactions" pointer-type="interaction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interaction"><ld:item ld:level="4" ld:meta="global" type-name="interaction"/></ld:item></ld:field>
            <ld:field name="unk_10" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="read_books" pointer-type="written_content" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="written_content"><ld:item ld:level="4" ld:meta="global" type-name="written_content"/></ld:item></ld:field>
        </ld:item>
            
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="curse" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_curse">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="active_interactions" pointer-type="interaction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interaction"><ld:item ld:level="4" ld:meta="global" type-name="interaction"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="active_effects" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="can_do" pointer-type="interaction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interaction"><ld:item ld:level="4" ld:meta="global" type-name="interaction"/></ld:item></ld:field>
            <ld:field name="unk_30" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_32" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_34" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_38" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_3c" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_40" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="name_plural" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="name_adjective" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="race" ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_a0" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_b0" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_c0" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="unk_d0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_d4" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_d8" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_dc" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_e0" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="unk_fc" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:item>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="books" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="artifact_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="artifact_record"><ld:item ld:level="4" ld:meta="global" type-name="artifact_record"/></ld:item></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="reputation" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_reputation">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wanted" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_wanted">
                    <ld:field name="entity_id" ref-target="historical_entity" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="discovered_year" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="discovered_time" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="unsolved_murders" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                </ld:item>
                    
                    
                    
                    
                </ld:item>
            </ld:field>
            <ld:field name="cur_identity" ref-target="assumed_identity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all_identities" type-name="int32_t" ref-target="assumed_identity" ld:is-container="true"><ld:item ref-target="assumed_identity" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:item>
            
            
            
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_flags">
        <enum-item/>
        <enum-item/>
        <enum-item name="deity"/>
        <enum-item name="force"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="ghost"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_relationship_type" base-type="int16_t">
        <enum-item name="Mother"/>
        <enum-item name="Father"/>
        <enum-item name="Parent"/>
        <enum-item name="Husband"/>
        <enum-item name="Wife"/>
        <enum-item name="Spouse"/>
        <enum-item name="SonEldest"/>
        <enum-item name="SonEldest2"/>
        <enum-item name="SonEldest3"/>
        <enum-item name="SonEldest4"/>
        <enum-item name="SonEldest5"/>
        <enum-item name="SonEldest6"/>
        <enum-item name="SonEldest7"/>
        <enum-item name="SonEldest8"/>
        <enum-item name="SonEldest9"/>
        <enum-item name="SonEldest10"/>
        <enum-item name="Son"/>
        <enum-item name="SonYoungest"/>
        <enum-item name="SonOnly"/>
        <enum-item name="DaughterEldest"/>
        <enum-item name="DaughterEldest2"/>
        <enum-item name="DaughterEldest3"/>
        <enum-item name="DaughterEldest4"/>
        <enum-item name="DaughterEldest5"/>
        <enum-item name="DaughterEldest6"/>
        <enum-item name="DaughterEldest7"/>
        <enum-item name="DaughterEldest8"/>
        <enum-item name="DaughterEldest9"/>
        <enum-item name="DaughterEldest10"/>
        <enum-item name="Daughter"/>
        <enum-item name="DaughterOnly"/>
        <enum-item name="DaughterYoungest"/>
        <enum-item name="ChildEldest"/>
        <enum-item name="ChildEldest2"/>
        <enum-item name="ChildEldest3"/>
        <enum-item name="ChildEldest4"/>
        <enum-item name="ChildEldest5"/>
        <enum-item name="ChildEldest6"/>
        <enum-item name="ChildEldest7"/>
        <enum-item name="ChildEldest8"/>
        <enum-item name="ChildEldest9"/>
        <enum-item name="ChildEldest10"/>
        <enum-item name="Child"/>
        <enum-item name="ChildYoungest"/>
        <enum-item name="ChildOnly"/>
        <enum-item name="PaternalGrandmother"/>
        <enum-item name="PaternalGrandfather"/>
        <enum-item name="MaternalGrandmother"/>
        <enum-item name="MaternalGrandfather"/>
        <enum-item name="Grandmother"/>
        <enum-item name="Grandfather"/>
        <enum-item name="Grandparent"/>
        <enum-item name="OlderBrother"/>
        <enum-item name="OlderSister"/>
        <enum-item name="OlderSibling"/>
        <enum-item name="YoungerBrother"/>
        <enum-item name="YoungerSister"/>
        <enum-item name="YoungerSibling"/>
        <enum-item name="Cousin"/>
        <enum-item name="Aunt"/>
        <enum-item name="Uncle"/>
        <enum-item name="Niece"/>
        <enum-item name="Nephew"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="historical_figure" instance-vector="$global.world.history.figures" key-field="id">
        <ld:field ld:subtype="enum" base-type="int16_t" name="profession" type-name="profession" ld:level="1" ld:meta="global"/>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="sex" comment="-1 n/a, 0 female, 1 male" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="appeared_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="born_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="born_seconds" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="curse_year" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="curse_seconds" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="birth_year_bias" init-value="0" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="birth_time_bias" init-value="0" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="old_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="old_seconds" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="died_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="died_seconds" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (awhen (find-creature $.race)
              (fmt "~:(~A ~A~)" $it.caste[$.caste].caste_id $it.creature_id))
        </code-helper>

        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="population_id" ref-target="entity_population" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="breed_id" comment="from legends export" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="histfig_flags" ld:is-container="true"/>

        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entity_links" pointer-type="histfig_entity_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="histfig_entity_link"><ld:item ld:level="3" ld:meta="global" type-name="histfig_entity_link"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="site_links" pointer-type="histfig_site_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="histfig_site_link"><ld:item ld:level="3" ld:meta="global" type-name="histfig_site_link"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfig_links" pointer-type="histfig_hf_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="histfig_hf_link"><ld:item ld:level="3" ld:meta="global" type-name="histfig_hf_link"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="info" type-name="historical_figure_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_figure_info"/></ld:field>

        <ld:field name="worldgen" ld:level="1" ld:meta="compound" ld:typedef-name="T_worldgen">
            <ld:field ld:level="2" ld:meta="pointer" name="unk_0" type-name="world_site" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="unk_4" type-name="language_name" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="language_name"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="unk_8" type-name="world_underground_region" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="world_underground_region"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="unk_c" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_c">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="df-array" name="unk_0" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="df-array" name="unk_8" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            </ld:item>
                
                
            </ld:field>
            <ld:field name="unk_10" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="assumed_identity" instance-vector="$global.world.assumed_identities.all" key-field="id">
        dtor 0x8C17FA0

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (awhen (find-creature $.race)
              (fmt "~:(~A ~A~)" $it.caste[$.caste].caste_id $it.creature_id))
        </code-helper>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="histfig_id" ref-target="historical_figure" comment="when masquerading as another historical figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_4c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="birth_year" comment="the fake one, that is" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="birth_second" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_type">
        <enum-item name="WAR_ATTACKED_SITE"/>
        <enum-item name="WAR_DESTROYED_SITE"/>
        <enum-item name="CREATED_SITE"/>
        <enum-item name="HIST_FIGURE_DIED"/>
        <enum-item name="ADD_HF_ENTITY_LINK"/>
        <enum-item name="REMOVE_HF_ENTITY_LINK"/>
        <enum-item name="FIRST_CONTACT"/>
        <enum-item name="FIRST_CONTACT_FAILED"/>
        <enum-item name="TOPICAGREEMENT_CONCLUDED"/>
        <enum-item name="TOPICAGREEMENT_REJECTED"/>
        <enum-item name="TOPICAGREEMENT_MADE"/>
        <enum-item name="WAR_PEACE_ACCEPTED"/>
        <enum-item name="WAR_PEACE_REJECTED"/>
        <enum-item name="DIPLOMAT_LOST"/>
        <enum-item name="AGREEMENTS_VOIDED"/>
        <enum-item name="MERCHANT"/>
        <enum-item name="ARTIFACT_HIDDEN"/>
        <enum-item name="ARTIFACT_POSSESSED"/>
        <enum-item name="ARTIFACT_CREATED"/>
        <enum-item name="ARTIFACT_LOST"/>
        <enum-item name="ARTIFACT_FOUND"/>
        <enum-item name="ARTIFACT_RECOVERED"/>
        <enum-item name="ARTIFACT_DROPPED"/>
        <enum-item name="RECLAIM_SITE"/>
        <enum-item name="HF_DESTROYED_SITE"/>
        <enum-item name="SITE_DIED"/>
        <enum-item name="SITE_ABANDONED"/>
        <enum-item name="ENTITY_CREATED"/>
        <enum-item name="ENTITY_ACTION"/>
        <enum-item name="ENTITY_INCORPORATED"/>
        <enum-item name="CREATED_BUILDING"/>
        <enum-item name="REPLACED_BUILDING"/>
        <enum-item name="ADD_HF_SITE_LINK"/>
        <enum-item name="REMOVE_HF_SITE_LINK"/>
        <enum-item name="ADD_HF_HF_LINK"/>
        <enum-item name="REMOVE_HF_HF_LINK"/>
        <enum-item name="ENTITY_RAZED_BUILDING"/>
        <enum-item name="MASTERPIECE_CREATED_ARCH_DESIGN"/>
        <enum-item name="MASTERPIECE_CREATED_ARCH_CONSTRUCT"/>
        <enum-item name="MASTERPIECE_CREATED_ITEM"/>
        <enum-item name="MASTERPIECE_CREATED_DYE_ITEM"/>
        <enum-item name="MASTERPIECE_CREATED_ITEM_IMPROVEMENT"/>
        <enum-item name="MASTERPIECE_CREATED_FOOD"/>
        <enum-item name="MASTERPIECE_CREATED_ENGRAVING"/>
        <enum-item name="MASTERPIECE_LOST"/>
        <enum-item name="CHANGE_HF_STATE"/>
        <enum-item name="CHANGE_HF_JOB"/>
        <enum-item name="WAR_FIELD_BATTLE"/>
        <enum-item name="WAR_PLUNDERED_SITE"/>
        <enum-item name="WAR_SITE_NEW_LEADER"/>
        <enum-item name="WAR_SITE_TRIBUTE_FORCED"/>
        <enum-item name="WAR_SITE_TAKEN_OVER"/>
        <enum-item name="BODY_ABUSED"/>
        <enum-item name="HIST_FIGURE_ABDUCTED"/>
        <enum-item name="ITEM_STOLEN"/>
        <enum-item name="HF_RAZED_BUILDING"/>
        <enum-item name="CREATURE_DEVOURED"/>
        <enum-item name="HIST_FIGURE_WOUNDED"/>
        <enum-item name="HIST_FIGURE_SIMPLE_BATTLE_EVENT"/>
        <enum-item name="CREATED_WORLD_CONSTRUCTION"/>
        <enum-item name="HIST_FIGURE_REUNION"/>
        <enum-item name="HIST_FIGURE_REACH_SUMMIT"/>
        <enum-item name="HIST_FIGURE_TRAVEL"/>
        <enum-item name="HIST_FIGURE_NEW_PET"/>
        <enum-item name="ASSUME_IDENTITY"/>
        <enum-item name="CREATE_ENTITY_POSITION"/>
        <enum-item name="CHANGE_CREATURE_TYPE"/>
        <enum-item name="HIST_FIGURE_REVIVED"/>
        <enum-item name="HF_LEARNS_SECRET"/>
        <enum-item name="CHANGE_HF_BODY_STATE"/>
        <enum-item name="HF_ACT_ON_BUILDING"/>
        <enum-item name="HF_DOES_INTERACTION"/>
        <enum-item name="HF_CONFRONTED"/>
        <enum-item name="ENTITY_LAW"/>
        <enum-item name="HF_GAINS_SECRET_GOAL"/>
        <enum-item name="ARTIFACT_STORED"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="history_event_context">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="histfig_id_talker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig_id_listener" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event" original-name="history_eventst" instance-vector="$global.world.history.events" key-field="id">
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="seconds" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="history_event_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="history_event_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getWarStatus">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getAngerModifier">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getHappinessModifier">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="madeFirstContact">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="entity1" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity2" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getKilledHistfigID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="killer" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ret-type ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="wasHistfigKilled">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="victim" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="wasHistfigRevived">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="histfig" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_8"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_9"/>

            -- 10

            <vmethod ld:level="1" name="getRelatedHistfigIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedSiteIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedSiteStructureIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec1" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="vec2" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedArtifactIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="artifact_record" ld:is-container="true"><ld:item ref-target="artifact_record" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedRegionIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="world_region" ld:is-container="true"><ld:item ref-target="world_region" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>

            <vmethod ld:level="1" name="getRelatedLayerIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="world_underground_region" ld:is-container="true"><ld:item ref-target="world_underground_region" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getRelatedEntityIDs">
                <ld:field ld:level="2" ld:meta="pointer" name="vec" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToHistfigID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="histfig" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToSiteID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToSiteStructure">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="site" ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="structure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            -- 20

            <vmethod ld:level="1" ret-type="bool" name="isRelatedToArtifactID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="artifact" ref-target="artifact_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToRegionID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="region" ref-target="world_region" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToLayerID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="region" ref-target="world_underground_region" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_23"/>
            <vmethod ld:level="1" ret-type="bool" name="isRelatedToEntityID">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="entity" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_25"/>
            <vmethod ld:level="1" name="getSentence">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="str" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> "In x, some event happened"
                <ld:field ld:level="2" ld:meta="pointer" type-name="history_event_context" name="context" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="history_event_context"/></ld:field>
                <ld:field name="unk1" comment="1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk2" comment="0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getPhrase">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="str" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> "the happening of some event"
                <ld:field ld:level="2" ld:meta="pointer" type-name="history_event_context" name="context" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="history_event_context"/></ld:field>
                <ld:field name="unk1" comment="1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk2" comment="0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="populateArtImage">
                <ld:field ld:level="2" ld:meta="pointer" type-name="art_image" name="image" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="art_image"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_29"/>

            -- 30

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_30"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_31"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_32"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_33"/>
            <vmethod ld:level="1" name="generate_xml">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>

            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_37"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_attacked_sitest" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="attacker_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_destroyed_sitest" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_created_sitest" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="death_type">
        <enum-item name="OLD_AGE"/>
        <enum-item name="HUNGER"/>
        <enum-item name="THIRST"/>
        <enum-item name="SHOT"/>
        <enum-item name="BLEED"/>
        <enum-item name="DROWN"/>
        <enum-item name="SUFFOCATE"/>
        <enum-item name="STRUCK_DOWN"/>
        <enum-item name="SCUTTLE" comment="stuck wagons"/>
        <enum-item name="COLLISION"/>
        <enum-item name="MAGMA" comment="does not happen anymore?"/>
        <enum-item name="MAGMA_MIST" comment="does not happen anymore?"/>
        <enum-item name="DRAGONFIRE"/>
        <enum-item name="FIRE"/>
        <enum-item name="SCALD" comment="does not happen anymore?"/>
        <enum-item name="CAVEIN"/>
        <enum-item name="DRAWBRIDGE"/>
        <enum-item name="FALLING_ROCKS" comment="does not happen anymore?"/>
        <enum-item name="CHASM"/>
        <enum-item name="CAGE"/>
        <enum-item name="MURDER"/>
        <enum-item name="TRAP"/>
        <enum-item name="VANISH" comment="bogeyman"/>
        <enum-item name="QUIT" comment="Give in to starvation as adventurer"/>
        <enum-item name="ABANDON"/>
        <enum-item name="HEAT"/>
        <enum-item name="COLD"/>
        <enum-item name="SPIKE"/>
        <enum-item name="ENCASE_LAVA"/>
        <enum-item name="ENCASE_MAGMA"/>
        <enum-item name="ENCASE_ICE"/>
        <enum-item name="BEHEAD" comment="execution during worldgen"/>
        <enum-item name="CRUCIFY" comment="execution during worldgen"/>
        <enum-item name="BURY_ALIVE" comment="execution during worldgen"/>
        <enum-item name="DROWN_ALT" comment="execution during worldgen"/>
        <enum-item name="BURN_ALIVE" comment="execution during worldgen"/>
        <enum-item name="FEED_TO_BEASTS" comment="execution during worldgen"/>
        <enum-item name="HACK_TO_PIECES" comment="execution during worldgen"/>
        <enum-item name="LEAVE_OUT_IN_AIR" comment="execution during worldgen"/>
        <enum-item name="BOIL" comment="material state change"/>
        <enum-item name="MELT" comment="material state change"/>
        <enum-item name="CONDENSE" comment="material state change"/>
        <enum-item name="SOLIDIFY" comment="material state change"/>
        <enum-item name="INFECTION"/>
        <enum-item name="MEMORIALIZE" comment="put to rest"/>
        <enum-item name="SCARE"/>
        <enum-item name="DARKNESS" comment="died in the dark"/>
        <enum-item name="COLLAPSE" comment="used in 0.31 for undead"/>
        <enum-item name="DRAIN_BLOOD"/>
        <enum-item name="SLAUGHTER"/>
        <enum-item name="VEHICLE"/>
        <enum-item name="FALLING_OBJECT"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_diedst" inherits-from="history_event">
        <ld:field name="victim_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="slayer_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="slayer_race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="slayer_caste" ref-target="caste_raw" aux-value="$$.slayer_race" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="weapon" type-name="history_hit_item" ld:level="1" ld:meta="global"/>

        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="death_cause" type-name="death_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_add_hf_entity_linkst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="link_type" type-name="histfig_entity_link_type" ld:level="1" ld:meta="global"/>
        <ld:field name="position_id" comment="index into entity.positions.own" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_remove_hf_entity_linkst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="link_type" type-name="histfig_entity_link_type" ld:level="1" ld:meta="global"/>
        <ld:field name="position_id" comment="index into entity.positions.own" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_first_contactst" inherits-from="history_event">
        <ld:field name="contactor" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="contacted" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_first_contact_failedst" inherits-from="history_event">
        <ld:field name="contactor" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="contacted" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_topicagreement_concludedst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_topic" name="topic" ld:level="1" ld:meta="global"/>
        <ld:field name="result" comment="range from -3 to +2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_topicagreement_rejectedst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_topic" name="topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_topicagreement_madest" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_topic" name="topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_peace_acceptedst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_topic" name="topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_peace_rejectedst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_topic" name="topic" ld:level="1" ld:meta="global"/>
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_diplomat_lostst" inherits-from="history_event">
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="involved" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_agreements_voidedst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_merchantst" inherits-from="history_event">
        <ld:field name="source" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="destination" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags2" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_hiddenst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_possessedst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_createdst" inherits-from="history_event">
        <ld:field name="artifact_id" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hfid" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="flags2" comment="1 = was named, not created" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_lostst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_foundst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_recoveredst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_droppedst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags2" ld:is-container="true"/> 1=due to injury
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_reclaim_sitest" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_destroyed_sitest" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_site_diedst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_site_abandonedst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_entity_createdst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_entity_actionst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="action" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_entity_incorporatedst" inherits-from="history_event">
        <ld:field name="civ1" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ2" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_created_buildingst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_replaced_buildingst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure_old" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure_new" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_add_hf_site_linkst" inherits-from="history_event">
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="histfig_site_link_type" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_remove_hf_site_linkst" inherits-from="history_event">
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="histfig_site_link_type" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_add_hf_hf_linkst" inherits-from="history_event">
        <ld:field name="histfig1" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig2" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="histfig_hf_link_type" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_remove_hf_hf_linkst" inherits-from="history_event">
        <ld:field name="histfig1" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig2" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="histfig_hf_link_type" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_entity_razed_buildingst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_createdst" inherits-from="history_event">
        <ld:field name="maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="maker_entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_arch_designst" inherits-from="history_event_masterpiece_createdst">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="building_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_custom" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_arch_constructst" inherits-from="history_event_masterpiece_createdst">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="building_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_custom" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_itemst" inherits-from="history_event_masterpiece_createdst">
        <ld:field ld:subtype="enum" base-type="int32_t" name="skill_used" type-name="job_skill" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_dye_itemst" inherits-from="history_event_masterpiece_createdst">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="dye_mat_type" ref-target="material" aux-value="$$.dye_mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dye_mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_item_improvementst" inherits-from="history_event_masterpiece_createdst">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="improvement_type" type-name="improvement_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="improvement_subtype" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="imp_mat_type" ref-target="material" aux-value="$$.imp_mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="imp_mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_subid" ref-target="art_image" aux-value="$$.art_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_foodst" inherits-from="history_event_masterpiece_createdst">
        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item_subtype" refers-to="$global.world.raws.itemdefs.food[$]" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_created_engravingst" inherits-from="history_event_masterpiece_createdst">
        <ld:field ld:subtype="enum" base-type="int32_t" name="skill_rating" type-name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="global"/>
        <ld:field name="art_id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_subid" ref-target="art_image" aux-value="$$.art_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="masterpiece_loss_type">
        <enum-item name="MELT"/>
        <enum-item name="MAGMA"/>
        <enum-item name="FORTIFICATION"/>
        <enum-item name="MINING"/>
        <enum-item name="CAVEIN"/>
        <enum-item name="VEGETATION"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_masterpiece_lostst" inherits-from="history_event">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="method" type-name="masterpiece_loss_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_change_hf_statest" inherits-from="history_event">
        <ld:field name="hfid" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="state" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> wander, scout, hunt, settle, babysnatch, thief, flee
        <ld:field name="substate" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> wander/fled
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_change_hf_jobst" inherits-from="history_event">
        <ld:field name="hfid" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="new_job" type-name="profession" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="old_job" type-name="profession" ld:level="1" ld:meta="global"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_field_battlest" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="attacker_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_plundered_sitest" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_site_new_leaderst" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="attacker_newgroup" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="new_leaders" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_site_tribute_forcedst" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_war_site_taken_overst" inherits-from="history_event">
        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="attacker_newgroup" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_body_abusedst" inherits-from="history_event">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bodies" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="abuse_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> impaled, piled, flayed, hung, mutilated, animated
        <ld:field name="props" is-union="true" ld:level="1" ld:meta="compound" ld:typedef-name="T_props" ld:in-union="true">
            <ld:field name="item" ld:level="2" ld:meta="compound" ld:typedef-name="T_item" ld:in-union="true">
                <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="3" ld:meta="global"/>
                <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field name="structure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="pile_type" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> grisly mound, grotesque pillar, gruesome sculpture
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_abductedst" inherits-from="history_event">
        <ld:field name="target" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="snatcher" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_item_stolenst" inherits-from="history_event">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="mattype" ref-target="material" aux-value="$$.matindex" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="matindex" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="item" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_razed_buildingst" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_creature_devouredst" inherits-from="history_event">
        <ld:field name="victim" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="eater" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_woundedst" inherits-from="history_event">
        <ld:field name="victim" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="attacker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="victim_race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="victim_caste" ref-target="caste_raw" aux-value="$$.victim_race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="body_part" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="injury_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="part_lost" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_simple_battle_subtype">
        <enum-item name="SCUFFLE"/>
        <enum-item name="ATTACK"/>
        <enum-item name="SURPRISE"/>
        <enum-item name="AMBUSH"/>
        <enum-item name="HAPPEN_UPON"/>
        <enum-item name="CORNER"/>
        <enum-item name="CONFRONT"/>
        <enum-item name="LOSE_AFTER_RECEIVE_WOUND"/>
        <enum-item name="LOSE_AFTER_INFLICT_WOUND"/>
        <enum-item name="LOSE_AFTER_EXCHANGE_WOUND"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_simple_battle_eventst" inherits-from="history_event">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="side1" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="side2" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="subtype" type-name="history_event_simple_battle_subtype" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_created_world_constructionst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="construction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="construction_parent" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site1" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site2" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_reunionst" inherits-from="history_event">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="missing" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reunited_with" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_reach_summitst" inherits-from="history_event">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="figures" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_travelst" inherits-from="history_event">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="figures" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="reason" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> journey, returned, escaped
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_new_petst" inherits-from="history_event">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="figures" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pets" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_assume_identityst" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="identity" ref-target="assumed_identity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_create_entity_positionst" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="position" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> historical_entity.position
        <ld:field name="reason" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_change_creature_typest" inherits-from="history_event">
        <ld:field name="target" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="attacker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race_from" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste_from" ref-target="caste_raw" aux-value="$$.race_from" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race_to" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste_to" ref-target="caste_raw" aux-value="$$.race_to" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hist_figure_revivedst" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="ghost_type" type-name="ghost_type" ld:level="1" ld:meta="global"/>
        <ld:field name="again" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_learns_secretst" inherits-from="history_event">
        <ld:field name="student" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="teacher" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="interaction" ref-target="interaction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_change_hf_body_statest" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="action" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_act_on_buildingst" inherits-from="history_event">
        <ld:field name="action" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="structure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_does_interactionst" inherits-from="history_event">
        <ld:field name="attacker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="target" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="interaction" ref-target="interaction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_confrontedst" inherits-from="history_event">
        <ld:field name="target" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="accuser" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reasons" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> murder, not aging
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_entity_lawst" inherits-from="history_event">
        <ld:field name="civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="enacted" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="repealed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_hf_gains_secret_goalst" inherits-from="history_event">
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="goal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_artifact_storedst" inherits-from="history_event">
        <ld:field name="artifact" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="histfig" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="history_event_collection_type">
        <enum-item name="WAR"/>
        <enum-item name="BATTLE"/>
        <enum-item name="DUEL"/>
        <enum-item name="SITE_CONQUERED"/>
        <enum-item name="ABDUCTION"/>
        <enum-item name="THEFT"/>
        <enum-item name="BEAST_ATTACK"/>
        <enum-item name="JOURNEY"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection" original-name="history_event_collectionst" instance-vector="$global.world.history.event_collections.all" key-field="id">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="events" type-name="int32_t" ref-target="history_event" ld:is-container="true"><ld:item ref-target="history_event" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="collections" type-name="int32_t" ref-target="history_event_collection" ld:is-container="true"><ld:item ref-target="history_event_collection" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="start_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_seconds" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_seconds" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" ret-type="history_event_collection_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="history_event_collection_type"/></vmethod>
            <vmethod ld:level="1" name="generate_xml">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="categorize"/>

            <vmethod ld:level="1" name="uncategorize"/>
            <vmethod ld:level="1" name="getName"><ld:field ld:level="2" ld:meta="pointer" name="string" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field></vmethod>
            <vmethod ld:level="1" name="getRegionCoords"><ld:field ld:level="2" ld:meta="pointer" name="x" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field><ld:field ld:level="2" ld:meta="pointer" name="y" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field></vmethod>
            <vmethod ld:level="1" name="getParent" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_9"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            -- 10

            <vmethod ld:level="1" name="isBetweenEntities" ret-type="int32_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/><ld:field name="defender_civ" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/><ld:field name="attacker_civ" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="updateEndTime"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_warst" inherits-from="history_event_collection">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="unk" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ethics_unk1" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="disputed_ethics" type-name="ethic_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="ethic_type"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ethics_unk3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="dispute_severities" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="worst_severity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_9"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_battlest" inherits-from="history_event_collection">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
        <ld:field name="parent_collection" ref-target="history_event_collection" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="noncombat_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_squad_entity_pop" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_squad_counts" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_squad_deaths" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_squad_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_squad_sites" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_squad_entity_pops" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_squad_counts" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_squad_deaths" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_squad_races" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_squad_sites" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="outcome" comment="0 = attacker won, 1 = defender won" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_duelst" inherits-from="history_event_collection">
        <ld:field name="parent_collection" ref-target="history_event_collection" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="attacker_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ordinal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_site_conqueredst" inherits-from="history_event_collection">
        <ld:field name="parent_collection" ref-target="history_event_collection" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="defender_civ" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field comment="uninitialized" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="ordinal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_abductionst" inherits-from="history_event_collection">
        <ld:field name="parent_collection" ref-target="history_event_collection" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="attacker_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="snatcher_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="victim_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="ordinal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_theftst" inherits-from="history_event_collection">
        <ld:field name="parent_collection" ref-target="history_event_collection" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="thief_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="victim_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="thief_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stolen_item_types" ld:is-container="true"><ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stolen_item_subtypes" ld:is-container="true"><ld:item name="item_subtype" refers-to="(item-subtype-target $$._parent._parent.stolen_item_types[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stolen_mat_types" ld:is-container="true"><ld:item ref-target="material" aux-value="$$._parent.stolen_mat_indices[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stolen_mat_indices" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stolen_item_ids" ref-target="item" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> most likely the same format as above
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="ordinal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_beast_attackst" inherits-from="history_event_collection">
        <ld:field name="parent_collection" ref-target="history_event_collection" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="defender_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacker_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="ordinal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="history_event_collection_journeyst" inherits-from="history_event_collection">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="traveler_hf" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="ordinal" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="era_type" base-type="int16_t">
        <enum-item name="ThreePowers"/>
        <enum-item name="TwoPowers"/>
        <enum-item name="OnePower"/>
        <enum-item name="Myth"/>
        <enum-item name="Legends"/>
        <enum-item name="Twilight"/>
        <enum-item name="FairyTales"/>
        <enum-item name="Race"/>
        <enum-item name="Heroes"/>
        <enum-item name="Golden"/>
        <enum-item name="Death"/>
        <enum-item name="Civilization"/>
        <enum-item name="Emptiness"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="history_era">
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="title" ld:level="1" ld:meta="compound" ld:typedef-name="T_title">
            <ld:field ld:subtype="enum" type-name="era_type" name="type" ld:level="2" ld:meta="global"/>
            <ld:field name="histfig_1" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="histfig_2" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="ordinal" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="percent" comment="either percentage of single race or percentage of mundane" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="details" ld:level="1" ld:meta="compound" ld:typedef-name="T_details">
            <ld:field name="living_powers" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="living_megabeasts" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="living_semimegabeasts" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="power_hf1" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="power_hf2" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="power_hf3" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="civilized_races" type-name="int32_t" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="civilized_total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="civilized_mundane" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_history">
        dtor 8532fa0

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="events" pointer-type="history_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="history_event"><ld:item ld:level="3" ld:meta="global" type-name="history_event"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="events2" pointer-type="history_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="history_event"><ld:item ld:level="3" ld:meta="global" type-name="history_event"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="figures" pointer-type="historical_figure" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_figure"><ld:item ld:level="3" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>

        <ld:field name="event_collections" ld:level="1" ld:meta="compound" ld:typedef-name="T_event_collections">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="history_event_collection" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="history_event_collection"><ld:item ld:level="4" ld:meta="global" type-name="history_event_collection"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="other" count="8" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="history_event_collection" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="history_event_collection"><ld:item ld:level="5" ld:meta="global" type-name="history_event_collection"/></ld:item></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="eras" pointer-type="history_era" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="history_era"><ld:item ld:level="3" ld:meta="global" type-name="history_era"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk1" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk2" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="total_powers" comment="also includes megabeasts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_megabeasts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="total_semimegabeasts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_4"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_5"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_10"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_11"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_14"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_display_flags">
        <enum-item name="USE_GRAPHICS"/>
        <enum-item name="BLACK_SPACE"/>
        <enum-item name="PARTIAL_PRINT"/>
        <enum-item name="FRAME_BUFFER"/>
        <enum-item name="SINGLE_BUFFER"/>
        <enum-item name="ACCUM_BUFFER"/>
        <enum-item name="VBO"/>
        <enum-item name="RENDER_2D"/>
        <enum-item name="RENDER_2DHW"/>
        <enum-item name="RENDER_2DASYNC"/>
        <enum-item name="UNUSED_01_08"/>
        <enum-item name="TEXT"/>
        <enum-item name="SHADER"/>
        <enum-item name="NOT_RESIZABLE"/>
        <enum-item name="ARB_SYNC"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_display">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flag" index-enum="init_display_flags" ld:is-container="true"/>

        <ld:field ld:subtype="enum" name="windowed" ld:level="1" ld:meta="compound" ld:typedef-name="T_windowed">
            <enum-item name="True"/>
            <enum-item name="False"/>
            <enum-item name="Prompt"/>
        </ld:field>

        <ld:field name="grid_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="grid_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="desired_fullscreen_width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="desired_fullscreen_height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="desired_windowed_width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="desired_windowed_height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="partial_print_count" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_media_flags">
        <enum-item name="SOUND_OFF"/>
        <enum-item name="INTRO_OFF"/>
        <enum-item name="COMPRESS_SAVES"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_media">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flag" index-enum="init_media_flags" ld:is-container="true"/>
        <ld:field name="volume" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_input_flags">
        <enum-item name="MOUSE_OFF"/>
        <enum-item name="MOUSE_PICTURE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_input">
        <ld:field name="hold_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="repeat_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="macro_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pause_zoom_no_interface_ms" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flag" index-enum="init_input_flags" ld:is-container="true"/>
        <ld:field name="zoom_speed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="repeat_accel_start" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="repeat_accel_limit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_font">
        <ld:field ld:level="1" ld:meta="static-array" name="small_font_texpos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="large_font_texpos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="small_font_datapos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="large_font_datapos" type-name="int32_t" count="256" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="small_font_adjx" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="small_font_adjy" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="large_font_adjx" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="large_font_adjy" ld:level="1" ld:meta="number" ld:subtype="s-float" ld:bits="32"/>
        <ld:field name="small_font_dispx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="small_font_dispy" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="large_font_dispx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="large_font_dispy" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" name="use_ttf" ld:level="1" ld:meta="compound" ld:typedef-name="T_use_ttf">
            <enum-item name="TTF_OFF"/>
            <enum-item name="TTF_ON"/>
            <enum-item name="TTF_AUTO"/>
        </ld:field>
        <ld:field name="ttf_limit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="init_window_flags">
        <enum-item name="TOPMOST"/>
        <enum-item name="VSYNC_ON"/>
        <enum-item name="VSYNC_OFF"/>
        <enum-item name="TEXTURE_LINEAR"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init_window">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flag" index-enum="init_window_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="init">
        <ld:field name="display" type-name="init_display" ld:level="1" ld:meta="global"/>
        <ld:field name="media" type-name="init_media" ld:level="1" ld:meta="global"/>
        <ld:field name="input" type-name="init_input" ld:level="1" ld:meta="global"/>
        <ld:field name="font" type-name="init_font" ld:level="1" ld:meta="global"/>
        <ld:field name="window" type-name="init_window" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tile_page" key-field="token">
        <ld:field name="token" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="tile_dim_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="tile_dim_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="page_dim_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="page_dim_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texpos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="datapos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texpos_gs" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="datapos_gs" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="loaded" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="texture_handler">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="page" pointer-type="tile_page" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="tile_page"><ld:item ld:level="3" ld:meta="global" type-name="tile_page"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="texpos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="datapos" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="item_type" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="is_rawable" type-name="bool"/>
        <enum-attr name="is_stackable" type-name="bool"/>
        <enum-attr name="is_caste_mat" type-name="bool" comment="instead of material, uses a creature/caste pair"/>
        <enum-attr name="classname"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="BAR" comment="Bars, such as metal, fuel, or soap.">
            <item-attr name="caption" value="bars"/>
            <item-attr name="classname" value="item_barst"/>
        </enum-item>
        <enum-item name="SMALLGEM" comment="Cut gemstones usable in jewelers workshop">
            <item-attr name="caption" value="cut gem"/>
            <item-attr name="classname" value="item_smallgemst"/>
        </enum-item>
        <enum-item name="BLOCKS" comment="Blocks of any kind.">
            <item-attr name="caption" value="blocks"/>
            <item-attr name="classname" value="item_blocksst"/>
        </enum-item>
        <enum-item name="ROUGH" comment="Rough gemstones.">
            <item-attr name="caption" value="rough gem"/>
            <item-attr name="classname" value="item_roughst"/>
        </enum-item>
        <enum-item name="BOULDER" comment="Raw mined stone.">
            <item-attr name="caption" value="boulder"/>
            <item-attr name="classname" value="item_boulderst"/>
        </enum-item>
        <enum-item name="WOOD" comment="Wooden logs.">
            <item-attr name="caption" value="logs"/>
            <item-attr name="classname" value="item_woodst"/>
        </enum-item>
        <enum-item name="DOOR" comment="Doors.">
            <item-attr name="caption" value="door"/>
            <item-attr name="classname" value="item_doorst"/>
        </enum-item>
        <enum-item name="FLOODGATE" comment="Floodgates.">
            <item-attr name="caption" value="floodgate"/>
            <item-attr name="classname" value="item_floodgatest"/>
        </enum-item>
        <enum-item name="BED" comment="Beds.">
            <item-attr name="caption" value="bed"/>
            <item-attr name="classname" value="item_bedst"/>
        </enum-item>
        <enum-item name="CHAIR" comment="Chairs and thrones.">
            <item-attr name="caption" value="chair"/>
            <item-attr name="classname" value="item_chairst"/>
        </enum-item>
        <enum-item name="CHAIN" comment="Restraints.">
            <item-attr name="caption" value="chain"/>
            <item-attr name="classname" value="item_chainst"/>
        </enum-item>
        <enum-item name="FLASK" comment="Flasks.">
            <item-attr name="caption" value="flask"/>
            <item-attr name="classname" value="item_flaskst"/>
        </enum-item>
        <enum-item name="GOBLET" comment="Goblets.">
            <item-attr name="caption" value="goblet"/>
            <item-attr name="classname" value="item_gobletst"/>
        </enum-item>
        <enum-item name="INSTRUMENT" comment="Musical instruments.">
            <item-attr name="caption" value="instrument"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_instrumentst"/>
        </enum-item>
        <enum-item name="TOY" comment="Toys.">
            <item-attr name="caption" value="toy"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_toyst"/>
        </enum-item>
        <enum-item name="WINDOW" comment="Glass windows.">
            <item-attr name="caption" value="window"/>
            <item-attr name="classname" value="item_windowst"/>
        </enum-item>
        <enum-item name="CAGE" comment="Cages.">
            <item-attr name="caption" value="cage"/>
            <item-attr name="classname" value="item_cagest"/>
        </enum-item>
        <enum-item name="BARREL" comment="Barrels.">
            <item-attr name="caption" value="barrel"/>
            <item-attr name="classname" value="item_barrelst"/>
        </enum-item>
        <enum-item name="BUCKET" comment="Buckets.">
            <item-attr name="caption" value="bucket"/>
            <item-attr name="classname" value="item_bucketst"/>
        </enum-item>
        <enum-item name="ANIMALTRAP" comment="Animal traps.">
            <item-attr name="caption" value="animal trap"/>
            <item-attr name="classname" value="item_animaltrapst"/>
        </enum-item>
        <enum-item name="TABLE" comment="Tables.">
            <item-attr name="caption" value="table"/>
            <item-attr name="classname" value="item_tablest"/>
        </enum-item>
        <enum-item name="COFFIN" comment="Coffins.">
            <item-attr name="caption" value="coffin"/>
            <item-attr name="classname" value="item_coffinst"/>
        </enum-item>
        <enum-item name="STATUE" comment="Statues.">
            <item-attr name="caption" value="statue"/>
            <item-attr name="classname" value="item_statuest"/>
        </enum-item>
        <enum-item name="CORPSE" comment="Corpses. Does not have a material.">
            <item-attr name="caption" value="corpse"/>
            <item-attr name="classname" value="item_corpsest"/>
        </enum-item>
        <enum-item name="WEAPON" comment="Weapons.">
            <item-attr name="caption" value="weapon"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_weaponst"/>
        </enum-item>
        <enum-item name="ARMOR" comment="Armor and clothing worn on the upper body.">
            <item-attr name="caption" value="armor"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_armorst"/>
        </enum-item>
        <enum-item name="SHOES" comment="Armor and clothing worn on the feet.">
            <item-attr name="caption" value="footwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_shoesst"/>
        </enum-item>
        <enum-item name="SHIELD" comment="Shields and bucklers.">
            <item-attr name="caption" value="shield"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_shieldst"/>
        </enum-item>
        <enum-item name="HELM" comment="Armor and clothing worn on the head.">
            <item-attr name="caption" value="headwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_helmst"/>
        </enum-item>
        <enum-item name="GLOVES" comment="Armor and clothing worn on the hands.">
            <item-attr name="caption" value="handwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_glovesst"/>
        </enum-item>
        <enum-item name="BOX" comment="Chests (wood), coffers (stone), boxes (glass), and bags (cloth or leather).">
            <item-attr name="caption" value="box/bag"/>
            <item-attr name="classname" value="item_boxst"/>
        </enum-item>
        <enum-item name="BIN" comment="Bins.">
            <item-attr name="caption" value="bin"/>
            <item-attr name="classname" value="item_binst"/>
        </enum-item>
        <enum-item name="ARMORSTAND" comment="Armor stands.">
            <item-attr name="caption" value="armor stand"/>
            <item-attr name="classname" value="item_armorstandst"/>
        </enum-item>
        <enum-item name="WEAPONRACK" comment="Weapon racks.">
            <item-attr name="caption" value="weapon rack"/>
            <item-attr name="classname" value="item_weaponrackst"/>
        </enum-item>
        <enum-item name="CABINET" comment="Cabinets.">
            <item-attr name="caption" value="cabinet"/>
            <item-attr name="classname" value="item_cabinetst"/>
        </enum-item>
        <enum-item name="FIGURINE" comment="Figurines.">
            <item-attr name="caption" value="figurine"/>
            <item-attr name="classname" value="item_figurinest"/>
        </enum-item>
        <enum-item name="AMULET" comment="Amulets.">
            <item-attr name="caption" value="amulet"/>
            <item-attr name="classname" value="item_amuletst"/>
        </enum-item>
        <enum-item name="SCEPTER" comment="Scepters.">
            <item-attr name="caption" value="scepter"/>
            <item-attr name="classname" value="item_scepterst"/>
        </enum-item>
        <enum-item name="AMMO" comment="Ammunition for hand-held weapons.">
            <item-attr name="caption" value="ammo"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_ammost"/>
        </enum-item>
        <enum-item name="CROWN" comment="Crowns.">
            <item-attr name="caption" value="crown"/>
            <item-attr name="classname" value="item_crownst"/>
        </enum-item>
        <enum-item name="RING" comment="Rings.">
            <item-attr name="caption" value="ring"/>
            <item-attr name="classname" value="item_ringst"/>
        </enum-item>
        <enum-item name="EARRING" comment="Earrings.">
            <item-attr name="caption" value="earring"/>
            <item-attr name="classname" value="item_earringst"/>
        </enum-item>
        <enum-item name="BRACELET" comment="Bracelets.">
            <item-attr name="caption" value="bracelet"/>
            <item-attr name="classname" value="item_braceletst"/>
        </enum-item>
        <enum-item name="GEM" comment="Large gems.">
            <item-attr name="caption" value="large gem"/>
            <item-attr name="classname" value="item_gemst"/>
        </enum-item>
        <enum-item name="ANVIL" comment="Anvils.">
            <item-attr name="caption" value="anvil"/>
            <item-attr name="classname" value="item_anvilst"/>
        </enum-item>
        <enum-item name="CORPSEPIECE" comment="Body parts. Does not have a material.">
            <item-attr name="caption" value="body part"/>
            <item-attr name="classname" value="item_corpsepiecest"/>
        </enum-item>
        <enum-item name="REMAINS" comment="Dead vermin bodies. Material is CREATURE_ID:CASTE.">
            <item-attr name="caption" value="remains"/>
            <item-attr name="is_caste_mat" value="true"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_remainsst"/>
        </enum-item>
        <enum-item name="MEAT" comment="Butchered meat.">
            <item-attr name="caption" value="meat"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_meatst"/>
        </enum-item>
        <enum-item name="FISH" comment="Prepared fish. Material is CREATURE_ID:CASTE.">
            <item-attr name="caption" value="fish"/>
            <item-attr name="is_caste_mat" value="true"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_fishst"/>
        </enum-item>
        <enum-item name="FISH_RAW" comment="Unprepared fish. Material is CREATURE_ID:CASTE.">
            <item-attr name="caption" value="raw fish"/>
            <item-attr name="is_caste_mat" value="true"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_fish_rawst"/>
        </enum-item>
        <enum-item name="VERMIN" comment="Live vermin. Material is CREATURE_ID:CASTE.">
            <item-attr name="caption" value="vermin"/>
            <item-attr name="is_caste_mat" value="true"/>
            <item-attr name="classname" value="item_verminst"/>
        </enum-item>
        <enum-item name="PET" comment="Tame vermin. Material is CREATURE_ID:CASTE.">
            <item-attr name="caption" value="tame vermin"/>
            <item-attr name="is_caste_mat" value="true"/>
            <item-attr name="classname" value="item_petst"/>
        </enum-item>
        <enum-item name="SEEDS" comment="Seeds from plants.">
            <item-attr name="caption" value="seeds"/>
            <item-attr name="classname" value="item_seedsst"/>
        </enum-item>
        <enum-item name="PLANT" comment="Plants.">
            <item-attr name="caption" value="plant"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_plantst"/>
        </enum-item>
        <enum-item name="SKIN_TANNED" comment="Tanned skins.">
            <item-attr name="caption" value="leather"/>
            <item-attr name="classname" value="item_skin_tannedst"/>
        </enum-item>
        <enum-item name="LEAVES" comment="Leaves, usually from quarry bushes.">
            <item-attr name="caption" value="leaves"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_leavesst"/>
        </enum-item>
        <enum-item name="THREAD" comment="Thread gathered from webs or made at the farmers workshop.">
            <item-attr name="caption" value="thread"/>
            <item-attr name="classname" value="item_threadst"/>
        </enum-item>
        <enum-item name="CLOTH" comment="Cloth made at the loom.">
            <item-attr name="caption" value="cloth"/>
            <item-attr name="classname" value="item_clothst"/>
        </enum-item>
        <enum-item name="TOTEM" comment="Skull totems.">
            <item-attr name="caption" value="totem"/>
            <item-attr name="classname" value="item_totemst"/>
        </enum-item>
        <enum-item name="PANTS" comment="Armor and clothing worn on the legs.">
            <item-attr name="caption" value="legwear"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_pantsst"/>
        </enum-item>
        <enum-item name="BACKPACK" comment="Backpacks.">
            <item-attr name="caption" value="backpack"/>
            <item-attr name="classname" value="item_backpackst"/>
        </enum-item>
        <enum-item name="QUIVER" comment="Quivers.">
            <item-attr name="caption" value="quiver"/>
            <item-attr name="classname" value="item_quiverst"/>
        </enum-item>
        <enum-item name="CATAPULTPARTS" comment="Catapult parts.">
            <item-attr name="caption" value="catapult part"/>
            <item-attr name="classname" value="item_catapultpartsst"/>
        </enum-item>
        <enum-item name="BALLISTAPARTS" comment="Ballista parts.">
            <item-attr name="caption" value="ballista part"/>
            <item-attr name="classname" value="item_ballistapartsst"/>
        </enum-item>
        <enum-item name="SIEGEAMMO" comment="Siege engine ammunition.">
            <item-attr name="caption" value="siege ammo"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_siegeammost"/>
        </enum-item>
        <enum-item name="BALLISTAARROWHEAD" comment="Ballista arrow heads.">
            <item-attr name="caption" value="ballista arrow head"/>
            <item-attr name="classname" value="item_ballistaarrowheadst"/>
        </enum-item>
        <enum-item name="TRAPPARTS" comment="Mechanisms.">
            <item-attr name="caption" value="mechanism"/>
            <item-attr name="classname" value="item_trappartsst"/>
        </enum-item>
        <enum-item name="TRAPCOMP" comment="Trap components.">
            <item-attr name="caption" value="trap component"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_trapcompst"/>
        </enum-item>
        <enum-item name="DRINK" comment="Alcoholic drinks.">
            <item-attr name="caption" value="drink"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_drinkst"/>
        </enum-item>
        <enum-item name="POWDER_MISC" comment="Powders such as flour, gypsum plaster, dye, or sand.">
            <item-attr name="caption" value="powder"/>
            <item-attr name="is_stackable" value="true" comment="if plant"/>
            <item-attr name="classname" value="item_powder_miscst"/>
        </enum-item>
        <enum-item name="CHEESE" comment="Pieces of cheese.">
            <item-attr name="caption" value="cheese"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_cheesest"/>
        </enum-item>
        <enum-item name="FOOD" comment="Prepared meals. Subtypes come from item_food.txt">
            <item-attr name="caption" value="prepared meal"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_foodst"/>
        </enum-item>
        <enum-item name="LIQUID_MISC" comment="Liquids such as water, lye, and extracts.">
            <item-attr name="caption" value="liquid"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_liquid_miscst"/>
        </enum-item>
        <enum-item name="COIN" comment="Coins.">
            <item-attr name="caption" value="coin"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_coinst"/>
        </enum-item>
        <enum-item name="GLOB" comment="Fat, tallow, pastes/pressed objects, and small bits of molten rock/metal.">
            <item-attr name="caption" value="glob"/>
            <item-attr name="classname" value="item_globst"/>
        </enum-item>
        <enum-item name="ROCK" comment="Small rocks (usually sharpened and/or thrown in adventurer mode)">
            <item-attr name="caption" value="small rock"/>
            <item-attr name="classname" value="item_rockst"/>
        </enum-item>
        <enum-item name="PIPE_SECTION" comment="Pipe sections.">
            <item-attr name="caption" value="pipe section"/>
            <item-attr name="classname" value="item_pipe_sectionst"/>
        </enum-item>
        <enum-item name="HATCH_COVER" comment="Hatch covers.">
            <item-attr name="caption" value="hatch cover"/>
            <item-attr name="classname" value="item_hatch_coverst"/>
        </enum-item>
        <enum-item name="GRATE" comment="Grates.">
            <item-attr name="caption" value="grate"/>
            <item-attr name="classname" value="item_gratest"/>
        </enum-item>
        <enum-item name="QUERN" comment="Querns.">
            <item-attr name="caption" value="quern"/>
            <item-attr name="classname" value="item_quernst"/>
        </enum-item>
        <enum-item name="MILLSTONE" comment="Millstones.">
            <item-attr name="caption" value="millstone"/>
            <item-attr name="classname" value="item_millstonest"/>
        </enum-item>
        <enum-item name="SPLINT" comment="Splints.">
            <item-attr name="caption" value="splint"/>
            <item-attr name="classname" value="item_splintst"/>
        </enum-item>
        <enum-item name="CRUTCH" comment="Crutches.">
            <item-attr name="caption" value="crutch"/>
            <item-attr name="classname" value="item_crutchst"/>
        </enum-item>
        <enum-item name="TRACTION_BENCH" comment="Traction benches.">
            <item-attr name="caption" value="traction bench"/>
            <item-attr name="classname" value="item_traction_benchst"/>
        </enum-item>
        <enum-item name="ORTHOPEDIC_CAST" comment="Casts">
            <item-attr name="caption" value="orthopedic cast"/>
            <item-attr name="classname" value="item_orthopedic_castst"/>
        </enum-item>
        <enum-item name="TOOL" comment="Tools.">
            <item-attr name="caption" value="tool"/>
            <item-attr name="is_rawable" value="true"/>
            <item-attr name="classname" value="item_toolst"/>
        </enum-item>
        <enum-item name="SLAB" comment="Slabs.">
            <item-attr name="caption" value="slab"/>
            <item-attr name="classname" value="item_slabst"/>
        </enum-item>
        <enum-item name="EGG" comment="Eggs. Material is CREATURE_ID:CASTE.">
            <item-attr name="caption" value="egg"/>
            <item-attr name="is_caste_mat" value="true"/>
            <item-attr name="is_stackable" value="true"/>
            <item-attr name="classname" value="item_eggst"/>
        </enum-item>
        <enum-item name="BOOK" comment="Books.">
            <item-attr name="caption" value="book"/>
            <item-attr name="classname" value="item_bookst"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="weapon_attack">
        <ld:field name="edged" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="contact" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="penetration" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="velocity_mult" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="verb_2nd" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="verb_3rd" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="noun" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef" original-name="itemdefst">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="base_flags" comment="v0.34.08; [0] = generated" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="raw_strings" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <code-helper name="describe">$.id</code-helper>

        <virtual-methods>
            <vmethod ld:level="1" name="parseRaws">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
            <vmethod ld:level="1" name="categorize" comment="add to world.raws.itemdefs.whatever"/>
            <vmethod ld:level="1" name="finalize" comment="calculate stuff like base value"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_3"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ammo_flags">
        <enum-item name="HAS_EDGE_ATTACK"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_ammost" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.ammo">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="ammo_flags" ld:is-container="true"/>

        <ld:field name="size" comment="divided by 10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacks" pointer-type="weapon_attack" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="weapon_attack"><ld:item ld:level="3" ld:meta="global" type-name="weapon_attack"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="armor_general_flags">
        <enum-item name="SOFT"/>
        <enum-item name="HARD"/>
        <enum-item name="METAL"/>
        <enum-item name="BARRED"/>
        <enum-item name="SCALED"/>
        <enum-item name="LEATHER"/>
        <enum-item name="SHAPED"/>
        <enum-item name="CHAIN_METAL_TEXT"/>

        <enum-item name="STRUCTURAL_ELASTICITY_WOVEN_THREAD"/>
        <enum-item name="STRUCTURAL_ELASTICITY_CHAIN_METAL"/>
        <enum-item name="STRUCTURAL_ELASTICITY_CHAIN_ALL"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="armor_properties">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="armor_general_flags" ld:is-container="true"/>
        <ld:field name="layer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="layer_size" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="layer_permit" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="coverage" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="armor_flags">
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_armorst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.armor">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_preplural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="material_placeholder" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="ubstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="lbstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="armor_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_foodst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.food">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="level" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="gloves_flags">
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_glovesst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.gloves">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="upstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="gloves_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="helm_flags">
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_helmst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.helms">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="helm_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="instrument_flags">
        <enum-item name="HARD_MAT"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_instrumentst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.instruments">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="instrument_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="pants_flags">
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_pantsst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.pants">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_preplural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="material_placeholder" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="pants_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="lbstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_shieldst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.shields">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="blockchance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="upstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="shoes_flags">
        <enum-item name="METAL_ARMOR_LEVELS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_shoesst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.shoes">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="armorlevel" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="upstep" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="shoes_flags" ld:is-container="true"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="props" type-name="armor_properties" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_siegeammost" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.siege_ammo">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="ammo_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tool_flags">
        <enum-item name="HARD_MAT"/>
        <enum-item name="METAL_MAT"/>
        <enum-item name="HAS_EDGE_ATTACK"/>
        <enum-item name="METAL_WEAPON_MAT"/>
        <enum-item name="UNIMPROVABLE"/>
        <enum-item name="SOFT_MAT"/>
        <enum-item name="WOOD_MAT"/>
        <enum-item name="INVERTED_TILE"/>
        <enum-item name="FURNITURE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tool_uses" base-type="int16_t">
        <enum-item name="NONE" value="-1"/>
        <enum-item name="LIQUID_COOKING"/>
        <enum-item name="LIQUID_SCOOP"/>
        <enum-item name="GRIND_POWDER_RECEPTACLE"/>
        <enum-item name="GRIND_POWDER_GRINDER"/>
        <enum-item name="MEAT_CARVING"/>
        <enum-item name="MEAT_BONING"/>
        <enum-item name="MEAT_SLICING"/>
        <enum-item name="MEAT_CLEAVING"/>
        <enum-item name="HOLD_MEAT_FOR_CARVING"/>
        <enum-item name="MEAL_CONTAINER"/>
        <enum-item name="LIQUID_CONTAINER"/>
        <enum-item name="FOOD_STORAGE"/>
        <enum-item name="HIVE"/>
        <enum-item name="NEST_BOX"/>
        <enum-item name="SMALL_OBJECT_STORAGE"/>
        <enum-item name="TRACK_CART"/>
        <enum-item name="HEAVY_OBJECT_HAULING"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_toolst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.tools">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="tool_flags" ld:is-container="true"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tool_use" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="tool_uses" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="adjective" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="skill_melee" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="skill_ranged" ld:level="1" ld:meta="global"/>
        <ld:field name="ranged_ammo" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="two_handed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="minimum_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacks" pointer-type="weapon_attack" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="weapon_attack"><ld:item ld:level="3" ld:meta="global" type-name="weapon_attack"/></ld:item></ld:field>

        <ld:field name="shoot_force" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="shoot_maxvel" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="container_capacity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="toy_flags">
        <enum-item name="HARD_MAT"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_toyst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.toys">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="toy_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="trapcomp_flags">
        <enum-item name="IS_SCREW"/>
        <enum-item name="IS_SPIKE"/>
        <enum-item name="WOOD"/>
        <enum-item name="METAL"/>
        <enum-item name="HAS_EDGE_ATTACK"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_trapcompst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.trapcomps">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="adjective" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hits" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="trapcomp_flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacks" pointer-type="weapon_attack" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="weapon_attack"><ld:item ld:level="3" ld:meta="global" type-name="weapon_attack"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="weapon_flags">
        <enum-item name="CAN_STONE"/>
        <enum-item name="HAS_EDGE_ATTACK"/>
        <enum-item name="TRAINING"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemdef_weaponst" inherits-from="itemdef" instance-vector="$global.world.raws.itemdefs.weapons">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="adjective" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="skill_melee" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="skill_ranged" ld:level="1" ld:meta="global"/>
        <ld:field name="ranged_ammo" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="two_handed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="minimum_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="weapon_flags" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="attacks" pointer-type="weapon_attack" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="weapon_attack"><ld:item ld:level="3" ld:meta="global" type-name="weapon_attack"/></ld:item></ld:field>
        <ld:field name="shoot_force" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="shoot_maxvel" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="items_other_id">
        <enum-attr name="item" type-name="item_type" default-value="NONE" comment="if the vector is the master vector for an item type"/>
        <enum-attr name="generic_item" type-name="item_type" is-list="true" comment="if nonempty, an exhaustive list of all possible contained types"/>

        <enum-item name="ANY" value="-1"/>

        -- 0

        <enum-item name="IN_PLAY" comment="actually on the map, as opposed to in an offloaded fortress elsewhere"/>
        <enum-item name="ANY_ARTIFACT"/>

        <enum-item name="WEAPON">
            <item-attr name="item" value="WEAPON"/>
        </enum-item>
        <enum-item name="ANY_WEAPON">
            <item-attr name="generic_item" value="WEAPON"/>
            <item-attr name="generic_item" value="TRAPCOMP"/>
        </enum-item>
        <enum-item name="ANY_SPIKE">
            <item-attr name="generic_item" value="WEAPON"/>
            <item-attr name="generic_item" value="TRAPCOMP"/>
        </enum-item>

        <enum-item name="ANY_TRUE_ARMOR">
            <item-attr name="generic_item" value="ARMOR"/>
        </enum-item>
        <enum-item name="ANY_ARMOR_HELM">
            <item-attr name="generic_item" value="HELM"/>
        </enum-item>
        <enum-item name="ANY_ARMOR_SHOES">
            <item-attr name="generic_item" value="SHOES"/>
        </enum-item>
        <enum-item name="SHIELD">
            <item-attr name="item" value="SHIELD"/>
        </enum-item>
        <enum-item name="ANY_ARMOR_GLOVES">
            <item-attr name="generic_item" value="GLOVES"/>
        </enum-item>

        -- 10

        <enum-item name="ANY_ARMOR_PANTS">
            <item-attr name="generic_item" value="PANTS"/>
        </enum-item>
        <enum-item name="QUIVER">
            <item-attr name="item" value="QUIVER"/>
        </enum-item>
        <enum-item name="SPLINT">
            <item-attr name="item" value="SPLINT"/>
        </enum-item>
        <enum-item name="ORTHOPEDIC_CAST">
            <item-attr name="item" value="ORTHOPEDIC_CAST"/>
        </enum-item>
        <enum-item name="CRUTCH">
            <item-attr name="item" value="CRUTCH"/>
        </enum-item>

        <enum-item name="BACKPACK">
            <item-attr name="item" value="BACKPACK"/>
        </enum-item>
        <enum-item name="AMMO">
            <item-attr name="item" value="AMMO"/>
        </enum-item>
        <enum-item name="WOOD">
            <item-attr name="item" value="WOOD"/>
        </enum-item>
        <enum-item name="BOULDER">
            <item-attr name="item" value="BOULDER"/>
        </enum-item>
        <enum-item name="ROCK">
            <item-attr name="item" value="ROCK"/>
        </enum-item>

        -- 20

        <enum-item name="ANY_REFUSE">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="ARMOR"/>
            <item-attr name="generic_item" value="SHOES"/>
            <item-attr name="generic_item" value="HELM"/>
            <item-attr name="generic_item" value="GLOVES"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="REMAINS"/>
            <item-attr name="generic_item" value="PANTS"/>
            rotten:
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="FOOD"/>
            <item-attr name="generic_item" value="EGG"/>
            do_not_clean:
            <item-attr name="generic_item" value="GLOB"/>
        </enum-item>
        <enum-item name="ANY_GOOD_FOOD">
            <item-attr name="generic_item" value="BOX"/>
            not rotten:
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="FOOD"/>
            <item-attr name="generic_item" value="EGG"/>
        </enum-item>
        <enum-item name="ANY_AUTO_CLEAN">
            if on_ground, deleted on tick 1 of every season
            <item-attr name="generic_item" value="DRINK"/>
            <item-attr name="generic_item" value="POWDER_MISC"/>
            <item-attr name="generic_item" value="LIQUID_MISC"/>
            <item-attr name="generic_item" value="GLOB"/>
        </enum-item>
        <enum-item name="ANY_GENERIC23">
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="VERMIN"/>
            <item-attr name="generic_item" value="PLANT"/>
        </enum-item>
        <enum-item name="ANY_GENERIC24">
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="VERMIN"/>
        </enum-item>

        <enum-item name="ANY_FURNITURE"/>
        <enum-item name="ANY_CAGE_OR_TRAP">
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
        </enum-item>
        <enum-item name="ANY_EDIBLE_RAW"/>
        <enum-item name="ANY_EDIBLE_CARNIVORE"/>
        <enum-item name="ANY_EDIBLE_BONECARN"/>

        -- 30

        <enum-item name="ANY_EDIBLE_VERMIN"/>
        <enum-item name="ANY_EDIBLE_VERMIN_BOX">
            <item-attr name="generic_item" value="BARREL"/>
            <item-attr name="generic_item" value="BOX"/>
            BASE*
        </enum-item>
        <enum-item name="ANY_CAN_ROT">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="REMAINS"/>

            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="FOOD"/>
            <item-attr name="generic_item" value="EGG"/>
        </enum-item>
        <enum-item name="ANY_MURDERED">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
            <item-attr name="generic_item" value="REMAINS"/>
        </enum-item>
        <enum-item name="ANY_DEAD_DWARF"/>

        <enum-item name="ANY_GENERIC35">
            <item-attr name="generic_item" value="BAR"/>
            <item-attr name="generic_item" value="SMALLGEM"/>
            <item-attr name="generic_item" value="BLOCKS"/>
            <item-attr name="generic_item" value="ROUGH"/>
            <item-attr name="generic_item" value="CHAIN"/>
            <item-attr name="generic_item" value="FLASK"/>
            <item-attr name="generic_item" value="GOBLET"/>
            <item-attr name="generic_item" value="INSTRUMENT"/>
            <item-attr name="generic_item" value="TOY"/>
            <item-attr name="generic_item" value="FIGURINE"/>
            <item-attr name="generic_item" value="AMULET"/>
            <item-attr name="generic_item" value="SCEPTER"/>
            <item-attr name="generic_item" value="AMMO"/>
            <item-attr name="generic_item" value="CROWN"/>
            <item-attr name="generic_item" value="RING"/>
            <item-attr name="generic_item" value="EARRING"/>
            <item-attr name="generic_item" value="BRACELET"/>
            <item-attr name="generic_item" value="GEM"/>
            <item-attr name="generic_item" value="SKIN_TANNED"/>
            <item-attr name="generic_item" value="THREAD"/>
            <item-attr name="generic_item" value="CLOTH"/>
            <item-attr name="generic_item" value="TOTEM"/>
            <item-attr name="generic_item" value="BACKPACK"/>
            <item-attr name="generic_item" value="QUIVER"/>
            <item-attr name="generic_item" value="BALLISTAARROWHEAD"/>
            <item-attr name="generic_item" value="COIN"/>
            <item-attr name="generic_item" value="SPLINT"/>
            <item-attr name="generic_item" value="TOOL"/>
            <item-attr name="generic_item" value="BOOK"/>
        </enum-item>
        <enum-item name="ANY_GENERIC36">
            <item-attr name="generic_item" value="ARMOR"/>
            <item-attr name="generic_item" value="SHOES"/>
            <item-attr name="generic_item" value="HELM"/>
            <item-attr name="generic_item" value="GLOVES"/>
            <item-attr name="generic_item" value="PANTS"/>
        </enum-item>
        <enum-item name="ANY_GENERIC37">
            <item-attr name="generic_item" value="WEAPON"/>
            <item-attr name="generic_item" value="TRAPCOMP"/>
            <item-attr name="generic_item" value="SIEGEAMMO"/>
        </enum-item>
        <enum-item name="ANY_GENERIC38">
            <item-attr name="generic_item" value="ARMOR"/>
            <item-attr name="generic_item" value="SHOES"/>
            <item-attr name="generic_item" value="SHIELD"/>
            <item-attr name="generic_item" value="HELM"/>
            <item-attr name="generic_item" value="GLOVES"/>
            <item-attr name="generic_item" value="PANTS"/>
        </enum-item>
        <enum-item name="DOOR">
            <item-attr name="item" value="DOOR"/>
        </enum-item>

        -- 40

        <enum-item name="FLOODGATE">
            <item-attr name="item" value="FLOODGATE"/>
        </enum-item>
        <enum-item name="HATCH_COVER">
            <item-attr name="item" value="HATCH_COVER"/>
        </enum-item>
        <enum-item name="GRATE">
            <item-attr name="item" value="GRATE"/>
        </enum-item>
        <enum-item name="CAGE">
            <item-attr name="item" value="CAGE"/>
        </enum-item>
        <enum-item name="FLASK">
            <item-attr name="item" value="FLASK"/>
        </enum-item>

        <enum-item name="WINDOW">
            <item-attr name="item" value="WINDOW"/>
        </enum-item>
        <enum-item name="GOBLET">
            <item-attr name="item" value="GOBLET"/>
        </enum-item>
        <enum-item name="INSTRUMENT">
            <item-attr name="item" value="INSTRUMENT"/>
        </enum-item>
        <enum-item name="TOY">
            <item-attr name="item" value="TOY"/>
        </enum-item>
        <enum-item name="TOOL">
            <item-attr name="item" value="TOOL"/>
        </enum-item>

        -- 50

        <enum-item name="BUCKET">
            <item-attr name="item" value="BUCKET"/>
        </enum-item>
        <enum-item name="BARREL">
            <item-attr name="item" value="BARREL"/>
        </enum-item>
        <enum-item name="CHAIN">
            <item-attr name="item" value="CHAIN"/>
        </enum-item>
        <enum-item name="ANIMALTRAP">
            <item-attr name="item" value="ANIMALTRAP"/>
        </enum-item>
        <enum-item name="BED">
            <item-attr name="item" value="BED"/>
        </enum-item>

        <enum-item name="TRACTION_BENCH">
            <item-attr name="item" value="TRACTION_BENCH"/>
        </enum-item>
        <enum-item name="CHAIR">
            <item-attr name="item" value="CHAIR"/>
        </enum-item>
        <enum-item name="COFFIN">
            <item-attr name="item" value="COFFIN"/>
        </enum-item>
        <enum-item name="TABLE">
            <item-attr name="item" value="TABLE"/>
        </enum-item>
        <enum-item name="STATUE">
            <item-attr name="item" value="STATUE"/>
        </enum-item>

        -- 60

        <enum-item name="SLAB">
            <item-attr name="item" value="SLAB"/>
        </enum-item>
        <enum-item name="QUERN">
            <item-attr name="item" value="QUERN"/>
        </enum-item>
        <enum-item name="MILLSTONE">
            <item-attr name="item" value="MILLSTONE"/>
        </enum-item>
        <enum-item name="BOX">
            <item-attr name="item" value="BOX"/>
        </enum-item>
        <enum-item name="BIN">
            <item-attr name="item" value="BIN"/>
        </enum-item>

        <enum-item name="ARMORSTAND">
            <item-attr name="item" value="ARMORSTAND"/>
        </enum-item>
        <enum-item name="WEAPONRACK">
            <item-attr name="item" value="WEAPONRACK"/>
        </enum-item>
        <enum-item name="CABINET">
            <item-attr name="item" value="CABINET"/>
        </enum-item>
        <enum-item name="ANVIL">
            <item-attr name="item" value="ANVIL"/>
        </enum-item>
        <enum-item name="CATAPULTPARTS">
            <item-attr name="item" value="CATAPULTPARTS"/>
        </enum-item>

        -- 70

        <enum-item name="BALLISTAPARTS">
            <item-attr name="item" value="BALLISTAPARTS"/>
        </enum-item>
        <enum-item name="SIEGEAMMO">
            <item-attr name="item" value="SIEGEAMMO"/>
        </enum-item>
        <enum-item name="TRAPPARTS">
            <item-attr name="item" value="TRAPPARTS"/>
        </enum-item>
        <enum-item name="ANY_WEBS">
            <item-attr name="generic_item" value="THREAD"/>
        </enum-item>
        <enum-item name="PIPE_SECTION">
            <item-attr name="item" value="PIPE_SECTION"/>
        </enum-item>

        <enum-item name="ANY_ENCASED"/>
        <enum-item name="ANY_IN_CONSTRUCTION"/>
        <enum-item name="DRINK">
            <item-attr name="item" value="DRINK"/>
        </enum-item>
        <enum-item name="ANY_DRINK">
            <item-attr name="generic_item" value="DRINK"/>
        </enum-item>
        <enum-item name="LIQUID_MISC">
            <item-attr name="item" value="LIQUID_MISC"/>
        </enum-item>

        -- 80

        <enum-item name="POWDER_MISC">
            <item-attr name="item" value="POWDER_MISC"/>
        </enum-item>
        <enum-item name="ANY_COOKABLE">
            <item-attr name="generic_item" value="FLASK"/>
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="BARREL"/>
            <item-attr name="generic_item" value="BUCKET"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="BOX"/>
            <item-attr name="generic_item" value="MEAT"/>
            <item-attr name="generic_item" value="FISH"/>
            <item-attr name="generic_item" value="FISH_RAW"/>
            <item-attr name="generic_item" value="VERMIN"/>
            <item-attr name="generic_item" value="SEEDS"/>
            <item-attr name="generic_item" value="PLANT"/>
            <item-attr name="generic_item" value="LEAVES"/>
            <item-attr name="generic_item" value="DRINK"/>
            <item-attr name="generic_item" value="POWDER_MISC"/>
            <item-attr name="generic_item" value="CHEESE"/>
            <item-attr name="generic_item" value="LIQUID_MISC"/>
            <item-attr name="generic_item" value="GLOB"/>
            <item-attr name="generic_item" value="TOOL"/>
            <item-attr name="generic_item" value="EGG"/>
        </enum-item>
        <enum-item name="ANY_GENERIC82">
            <item-attr name="generic_item" value="BOX"/>
        </enum-item>
        <enum-item name="VERMIN">
            <item-attr name="generic_item" value="VERMIN"/>
        </enum-item>
        <enum-item name="PET">
            <item-attr name="generic_item" value="PET"/>
        </enum-item>

        <enum-item name="ANY_CRITTER">
            <item-attr name="generic_item" value="VERMIN"/>
            <item-attr name="generic_item" value="PET"/>
        </enum-item>
        <enum-item name="COIN">
            <item-attr name="item" value="COIN"/>
        </enum-item>
        <enum-item name="GLOB">
            <item-attr name="item" value="GLOB"/>
        </enum-item>
        <enum-item name="TRAPCOMP">
            <item-attr name="item" value="TRAPCOMP"/>
        </enum-item>
        <enum-item name="BAR">
            <item-attr name="item" value="BAR"/>
        </enum-item>

        -- 90

        <enum-item name="SMALLGEM">
            <item-attr name="item" value="SMALLGEM"/>
        </enum-item>
        <enum-item name="BLOCKS">
            <item-attr name="item" value="BLOCKS"/>
        </enum-item>
        <enum-item name="ROUGH">
            <item-attr name="item" value="ROUGH"/>
        </enum-item>
        <enum-item name="ANY_CORPSE">
            <item-attr name="generic_item" value="CORPSE"/>
            <item-attr name="generic_item" value="CORPSEPIECE"/>
        </enum-item>
        <enum-item name="CORPSE">
            <item-attr name="item" value="CORPSE"/>
        </enum-item>
        <enum-item name="BOOK">
            <item-attr name="item" value="BOOK"/>
        </enum-item>

        <enum-item name="FIGURINE">
            <item-attr name="item" value="FIGURINE"/>
        </enum-item>
        <enum-item name="AMULET">
            <item-attr name="item" value="AMULET"/>
        </enum-item>
        <enum-item name="SCEPTER">
            <item-attr name="item" value="SCEPTER"/>
        </enum-item>
        <enum-item name="CROWN">
            <item-attr name="item" value="CROWN"/>
        </enum-item>
        <enum-item name="RING">
            <item-attr name="item" value="RING"/>
        </enum-item>
        <enum-item name="EARRING">
            <item-attr name="item" value="EARRING"/>
        </enum-item>

        -- 102

        <enum-item name="BRACELET">
            <item-attr name="item" value="BRACELET"/>
        </enum-item>
        <enum-item name="GEM">
            <item-attr name="item" value="GEM"/>
        </enum-item>
        <enum-item name="CORPSEPIECE">
            <item-attr name="item" value="CORPSEPIECE"/>
        </enum-item>
        <enum-item name="REMAINS">
            <item-attr name="item" value="REMAINS"/>
        </enum-item>
        <enum-item name="MEAT">
            <item-attr name="item" value="MEAT"/>
        </enum-item>

        <enum-item name="FISH">
            <item-attr name="item" value="FISH"/>
        </enum-item>
        <enum-item name="FISH_RAW">
            <item-attr name="item" value="FISH_RAW"/>
        </enum-item>
        <enum-item name="EGG">
            <item-attr name="item" value="EGG"/>
        </enum-item>
        <enum-item name="SEEDS">
            <item-attr name="item" value="SEEDS"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="item" value="PLANT"/>
        </enum-item>

        -- 112

        <enum-item name="SKIN_TANNED">
            <item-attr name="item" value="SKIN_TANNED"/>
        </enum-item>
        <enum-item name="LEAVES">
            <item-attr name="item" value="LEAVES"/>
        </enum-item>
        <enum-item name="THREAD">
            <item-attr name="item" value="THREAD"/>
        </enum-item>
        <enum-item name="CLOTH">
            <item-attr name="item" value="CLOTH"/>
        </enum-item>
        <enum-item name="TOTEM">
            <item-attr name="item" value="TOTEM"/>
        </enum-item>

        <enum-item name="PANTS">
            <item-attr name="item" value="PANTS"/>
        </enum-item>
        <enum-item name="CHEESE">
            <item-attr name="item" value="CHEESE"/>
        </enum-item>
        <enum-item name="FOOD">
            <item-attr name="item" value="FOOD"/>
        </enum-item>
        <enum-item name="BALLISTAARROWHEAD">
            <item-attr name="item" value="BALLISTAARROWHEAD"/>
        </enum-item>
        <enum-item name="ARMOR">
            <item-attr name="item" value="ARMOR"/>
        </enum-item>

        -- 122

        <enum-item name="SHOES">
            <item-attr name="item" value="SHOES"/>
        </enum-item>
        <enum-item name="HELM">
            <item-attr name="item" value="HELM"/>
        </enum-item>
        <enum-item name="GLOVES">
            <item-attr name="item" value="GLOVES"/>
        </enum-item>
        <enum-item name="ANY_GENERIC123">
            <item-attr name="generic_item" value="FLASK"/>
            <item-attr name="generic_item" value="GOBLET"/>
            <item-attr name="generic_item" value="CAGE"/>
            <item-attr name="generic_item" value="BARREL"/>
            <item-attr name="generic_item" value="BUCKET"/>
            <item-attr name="generic_item" value="ANIMALTRAP"/>
            <item-attr name="generic_item" value="COFFIN"/>
            <item-attr name="generic_item" value="BOX"/>
            <item-attr name="generic_item" value="BIN"/>
            <item-attr name="generic_item" value="ARMORSTAND"/>
            <item-attr name="generic_item" value="WEAPONRACK"/>
            <item-attr name="generic_item" value="CABINET"/>
            <item-attr name="generic_item" value="BACKPACK"/>
            <item-attr name="generic_item" value="QUIVER"/>
            <item-attr name="generic_item" value="TOOL"/>
        </enum-item>
        <enum-item name="FOOD_STORAGE">
            <item-attr name="generic_item" value="BARREL"/>
            <item-attr name="generic_item" value="TOOL"/>
        </enum-item>

        <enum-item name="ANY_RECENTLY_DROPPED"/>
        <enum-item name="ANY_MELT_DESIGNATED"/>

        <enum-item name="BAD"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_item_vector_id" base-type="int16_t">
        <enum-attr name="other" type-name="items_other_id" default-value="ANY" use-key-name="true"/>

        <enum-item name="ANY"/>

        -- 1

        <enum-item name="IN_PLAY"/>
        <enum-item name="ANY_ARTIFACT"/>
        <enum-item name="WEAPON"/>
        <enum-item name="ANY_WEAPON"/>
        <enum-item name="ANY_SPIKE"/>

        <enum-item name="ANY_TRUE_ARMOR"/>
        <enum-item name="ANY_ARMOR_HELM"/>
        <enum-item name="ANY_ARMOR_SHOES"/>
        <enum-item name="SHIELD"/>
        <enum-item name="ANY_ARMOR_GLOVES"/>

        -- 11

        <enum-item name="ANY_ARMOR_PANTS"/>
        <enum-item name="QUIVER"/>
        <enum-item name="SPLINT"/>
        <enum-item name="ANY_14" comment="supposed to be ORTHOPEDIC_CAST">
            <item-attr name="other" value="ANY"/>
        </enum-item>
        <enum-item name="CRUTCH"/>

        <enum-item name="BACKPACK"/>
        <enum-item name="AMMO"/>
        <enum-item name="WOOD"/>
        <enum-item name="BOULDER"/>
        <enum-item name="ROCK"/>

        -- 21

        <enum-item name="ANY_REFUSE"/>
        <enum-item name="ANY_GOOD_FOOD"/>
        <enum-item name="ANY_AUTO_CLEAN"/>
        <enum-item name="ANY_GENERIC23"/>
        <enum-item name="ANY_GENERIC24"/>

        <enum-item name="ANY_FURNITURE"/>
        <enum-item name="ANY_CAGE_OR_TRAP"/>
        <enum-item name="ANY_EDIBLE_RAW"/>
        <enum-item name="ANY_EDIBLE_CARNIVORE"/>
        <enum-item name="ANY_EDIBLE_BONECARN"/>

        -- 31

        <enum-item name="ANY_EDIBLE_VERMIN"/>
        <enum-item name="ANY_EDIBLE_VERMIN_BOX"/>
        <enum-item name="ANY_CAN_ROT"/>
        <enum-item name="ANY_MURDERED"/>
        <enum-item name="ANY_DEAD_DWARF"/>

        <enum-item name="ANY_GENERIC35"/>
        <enum-item name="ANY_GENERIC36"/>
        <enum-item name="ANY_GENERIC37"/>
        <enum-item name="ANY_GENERIC38"/>
        <enum-item name="DOOR"/>

        -- 41

        <enum-item name="FLOODGATE"/>
        <enum-item name="HATCH_COVER"/>
        <enum-item name="GRATE"/>
        <enum-item name="CAGE"/>
        <enum-item name="FLASK"/>

        <enum-item name="WINDOW"/>
        <enum-item name="GOBLET"/>
        <enum-item name="INSTRUMENT"/>
        <enum-item name="TOY"/>

        SKIPPED: TOOL

        -- 50

        <enum-item name="BUCKET"/>
        <enum-item name="BARREL"/>
        <enum-item name="CHAIN"/>
        <enum-item name="ANIMALTRAP"/>
        <enum-item name="BED"/>

        <enum-item name="TRACTION_BENCH"/>
        <enum-item name="CHAIR"/>
        <enum-item name="COFFIN"/>
        <enum-item name="TABLE"/>
        <enum-item name="STATUE"/>

        -- 60

        SKIPPED: SLAB

        <enum-item name="QUERN"/>
        <enum-item name="MILLSTONE"/>
        <enum-item name="BOX"/>
        <enum-item name="BIN"/>

        <enum-item name="ARMORSTAND"/>
        <enum-item name="WEAPONRACK"/>
        <enum-item name="CABINET"/>
        <enum-item name="ANVIL"/>
        <enum-item name="CATAPULTPARTS"/>

        -- 69

        <enum-item name="BALLISTAPARTS"/>
        <enum-item name="SIEGEAMMO"/>
        <enum-item name="TRAPPARTS"/>
        <enum-item name="ANY_WEBS"/>
        <enum-item name="PIPE_SECTION"/>

        <enum-item name="ANY_ENCASED"/>
        <enum-item name="ANY_IN_CONSTRUCTION"/>
        <enum-item name="DRINK"/>
        <enum-item name="ANY_DRINK"/>
        <enum-item name="LIQUID_MISC"/>

        -- 79

        <enum-item name="POWDER_MISC"/>
        <enum-item name="ANY_COOKABLE"/>
        <enum-item name="ANY_GENERIC82"/>
        <enum-item name="VERMIN"/>
        <enum-item name="PET"/>

        <enum-item name="ANY_CRITTER"/>
        <enum-item name="COIN"/>
        <enum-item name="GLOB"/>

        -- 87 -&gt; 125

        <enum-item name="ANY_RECENTLY_DROPPED"/>
        <enum-item name="ANY_MELT_DESIGNATED"/>
        <enum-item name="BAD"/>

        -- 90

        <enum-item name="TRAPCOMP"/>
        <enum-item name="BAR"/>

        -- 92

        <enum-item name="SMALLGEM"/>
        <enum-item name="BLOCKS"/>
        <enum-item name="ROUGH"/>
        <enum-item name="CORPSE"/>
        <enum-item name="FIGURINE"/>

        <enum-item name="AMULET"/>
        <enum-item name="SCEPTER"/>
        <enum-item name="CROWN"/>
        <enum-item name="RING"/>
        <enum-item name="EARRING"/>

        -- 102

        <enum-item name="BRACELET"/>
        <enum-item name="GEM"/>
        <enum-item name="CORPSEPIECE"/>
        <enum-item name="REMAINS"/>
        <enum-item name="MEAT"/>

        <enum-item name="FISH"/>
        <enum-item name="FISH_RAW"/>

        LATER: EGG

        <enum-item name="SEEDS"/>
        <enum-item name="PLANT"/>

        -- 111

        <enum-item name="SKIN_TANNED"/>
        <enum-item name="LEAVES"/>
        <enum-item name="THREAD"/>
        <enum-item name="CLOTH"/>
        <enum-item name="TOTEM"/>

        <enum-item name="PANTS"/>
        <enum-item name="CHEESE"/>
        <enum-item name="FOOD"/>
        <enum-item name="BALLISTAARROWHEAD"/>
        <enum-item name="ARMOR"/>

        -- 121

        <enum-item name="SHOES"/>
        <enum-item name="HELM"/>
        <enum-item name="GLOVES"/>

        <enum-item name="ANY_124" comment="supposed to be TOOL">
            <item-attr name="other" value="ANY"/>
        </enum-item>
        <enum-item name="ANY_125" comment="supposed to be SLAB">
            <item-attr name="other" value="ANY"/>
        </enum-item>

        <enum-item name="EGG"/>

        <enum-item name="ANY_127" comment="supposed to be FOOD_STORAGE">
            <item-attr name="other" value="ANY"/>
        </enum-item>

        <enum-item name="ANY_CORPSE"/>
        <enum-item name="BOOK"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="improvement_type">
        <enum-item name="ART_IMAGE"/>
        <enum-item name="COVERED"/>
        <enum-item name="RINGS_HANGING"/>
        <enum-item name="BANDS"/>
        <enum-item name="SPIKES"/>
        <enum-item name="ITEMSPECIFIC"/>
        <enum-item name="THREAD"/>
        <enum-item name="CLOTH"/>
        <enum-item name="SEWN_IMAGE"/>
        <enum-item name="PAGES"/>
        <enum-item name="ILLUSTRATION"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="dye_info">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dyer" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="skill_rating" type-name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement" original-name="itemimprovementst">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="masterpiece_event" ref-target="history_event" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="skill_rating" type-name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <virtual-methods>
            <vmethod ld:level="1" name="getImage">
                <ret-type ld:level="3" ld:meta="pointer" type-name="art_image" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="art_image"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getColorAndShape">
                <ld:field ld:level="2" ld:meta="pointer" name="colors" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="shapes" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="itemimprovement" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemimprovement"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="improvement_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="improvement_type"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_6"/>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getDyeValue">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="caravan_state" name="caravan" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="setShape">
                <ld:field name="shape" ref-target="descriptor_shape" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_art_imagest" inherits-from="itemimprovement">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_coveredst" inherits-from="itemimprovement">
        <ld:field ld:subtype="bitfield" name="cover_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_cover_flags">
            <ld:field name="glazed" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="shape" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_rings_hangingst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_bandsst" inherits-from="itemimprovement">
        <ld:field name="shape" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_spikesst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_itemspecificst" inherits-from="itemimprovement">
        <ld:field name="type" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_threadst" inherits-from="itemimprovement">
        <ld:field name="dye" type-name="dye_info" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_clothst" inherits-from="itemimprovement"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_sewn_imagest" inherits-from="itemimprovement">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="cloth" ld:level="1" ld:meta="compound" ld:typedef-name="T_cloth">
            <ld:field name="unit_id" ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="quality" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        </ld:field>
        <ld:field name="dye" type-name="dye_info" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_pagesst" inherits-from="itemimprovement">
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contents" type-name="int32_t" ref-target="written_content" ld:is-container="true"><ld:item ref-target="written_content" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="itemimprovement_illustrationst" inherits-from="itemimprovement">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="written_content_type" base-type="int32_t">
        <enum-item name="Manual"/>
        <enum-item name="Guide"/>
        <enum-item name="Chronicle"/>
        <enum-item name="ShortStory"/>
        <enum-item name="Novel"/>
        <enum-item name="Biography"/>
        <enum-item name="Autobiography"/>
        <enum-item name="Poem"/>
        <enum-item name="Play"/>
        <enum-item name="Letter"/>
        <enum-item name="Essay"/>
        <enum-item name="Dialog"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="written_content_style" base-type="int32_t">
        <enum-item name="Meandering"/>
        <enum-item name="Cheerful"/>
        <enum-item name="Depressing"/>
        <enum-item name="Rigid"/>
        <enum-item name="Serious"/>
        <enum-item name="Disjointed"/>
        <enum-item name="Ornate"/>
        <enum-item name="Forceful"/>
        <enum-item name="Humorous"/>
        <enum-item name="Immature"/>
        <enum-item name="SelfIndulgent"/>
        <enum-item name="Touching"/>
        <enum-item name="Compassionate"/>
        <enum-item name="Vicious"/>
        <enum-item name="Concise"/>
        <enum-item name="Scornful"/>
        <enum-item name="Witty"/>
        <enum-item name="Ranting"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="written_content" instance-vector="$global.world.written_contents.all" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="page_start" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="page_end" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="refs" pointer-type="general_ref" comment="interactions learned" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ref_aux" type-name="int32_t" comment="if nonzero, corresponding ref is ignored" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:subtype="enum" type-name="written_content_type" name="type" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="styles" type-name="written_content_style" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="written_content_style"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="style_strength" type-name="int32_t" comment="0 = maximum, 1 = significant, 2 = partial" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="author" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="engraving_flags" base-type="uint32_t">
        <ld:field name="floor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="west" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="east" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="north" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="south" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="northwest" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="northeast" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="southwest" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="southeast" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="engraving" instance-vector="$global.world.engravings">
        <ld:field name="artist" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="masterpiece_event" ref-target="history_event" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="skill_rating" type-name="skill_rating" comment="at the moment of creation" ld:level="1" ld:meta="global"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="flags" type-name="engraving_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="art_id" ref-target="art_image_chunk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="art_subid" ref-target="art_image" aux-value="$$.art_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field name="unk1" init-value="-1" comment="v0.34.06" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk2" init-value="-1" comment="v0.34.06" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="item_flags">
        <ld:field name="on_ground" comment="Item on ground" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_job" comment="Item currently being used in a job" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hostile" comment="Item owned by hostile" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_inventory" comment="Item in a creature, workshop or container inventory" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="removed" comment="completely invisible and with no position" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_building" comment="Part of a building (including mechanisms, bodies in coffins)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="container" comment="Set on anything that contains or contained items?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dead_dwarf" comment="Dwarfs dead body or body part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="rotten" comment="Rotten food" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="spider_web" comment="Thread in spider web" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="construction" comment="Material used in construction" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="encased" comment="Item encased in ice or obsidian" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="unk12" comment="unknown, unseen" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="murder" comment="Implies murder - used in fell moods" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="foreign" comment="Item is imported" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="trader" comment="Item ownwed by trader" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="owned" comment="Item is owned by a dwarf" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="garbage_collect" comment="Marked for deallocation by DF it seems" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="artifact" comment="Artifact" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="forbid" comment="Forbidden item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="already_uncategorized" comment="unknown, unseen" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dump" comment="Designated for dumping" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="on_fire" comment="Indicates if item is on fire, Will Set Item On Fire if Set!" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="melt" comment="Designated for melting, if applicable" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="hidden" comment="Hidden item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="in_chest" comment="Stored in chest/part of well?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="use_recorded" comment="transient in unit.used_items update" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="artifact_mood" comment="created by mood/named existing item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="temps_computed" comment="melting/boiling/ignite/etc. points" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="weight_computed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk30" comment="unknown, unseen" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="from_worldgen" comment="created by underground critters?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="item_flags2">
        <ld:field name="has_rider" comment="vehicle with a rider" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="item_magicness_type" base-type="int16_t">
        <enum-item name="Sparkle"/>
        <enum-item name="AirWarped"/>
        <enum-item name="Whistle"/>
        <enum-item name="OddlySquare"/>
        <enum-item name="SmallBumps"/>
        <enum-item name="EarthSmell"/>
        <enum-item name="Lightning"/>
        <enum-item name="GrayHairs" comment="with value of 10 or higher, creatures that look at the item cannot think negative thoughts"/>
        <enum-item name="RustlingLeaves"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_magicness">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="item_magicness_type" ld:level="1" ld:meta="global"/>
        <ld:field name="value" comment="boosts item value by 50*this" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="flags" comment="1=does not show up in item description or alter item value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="temperaturest"> seems like a convenient name
        <ld:field name="whole" init-value="10050" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fraction" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="contaminant">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" type-name="matter_state" base-type="int16_t" name="mat_state" ld:level="1" ld:meta="global"/>
        <ld:field name="temperature" type-name="temperaturest" ld:level="1" ld:meta="global"/>
        <ld:field name="size" comment="1-24=spatter, 25-49=smear, 50-* = coating" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="body_part_id" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="water_soluble" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="item_quality" base-type="int16_t">
        <enum-item name="Ordinary"/>
        <enum-item name="WellCrafted"/>
        <enum-item name="FinelyCrafted"/>
        <enum-item name="Superior"/>
        <enum-item name="Exceptional"/>
        <enum-item name="Masterful"/>
        <enum-item name="Artifact"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="slab_engraving_type" base-type="int16_t">
        <enum-item name="Slab" value="-1"/>
        <enum-item name="Memorial"/>
        <enum-item name="CraftShopSign"/>
        <enum-item name="WeaponsmithShopSign"/>
        <enum-item name="ArmorsmithShopSign"/>
        <enum-item name="GeneralStoreSign"/>
        <enum-item name="FoodShopSign"/>
        <enum-item name="Slab2" comment="from the gods?"/>
        <enum-item name="FoodImportsSign"/>
        <enum-item name="ClothingImportsSign"/>
        <enum-item name="GeneralImportsSign"/>
        <enum-item name="ClothShopSign"/>
        <enum-item name="LeatherShopSign"/>
        <enum-item name="WovenClothingShopSign"/>
        <enum-item name="LeatherClothingShopSign"/>
        <enum-item name="BoneCarverShopSign"/>
        <enum-item name="GemCutterShopSign"/>
        <enum-item name="WeaponsmithShopSign2"/>
        <enum-item name="BowyerShopSign"/>
        <enum-item name="BlacksmithShopSign"/>
        <enum-item name="ArmorsmithShopSign2"/>
        <enum-item name="MetalCraftShopSign"/>
        <enum-item name="LeatherGoodsShopSign"/>
        <enum-item name="CarpenterShopSign"/>
        <enum-item name="StoneFurnitureShopSign"/>
        <enum-item name="MetalFurnitureShopSign"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item" original-name="itemst" instance-vector="$global.world.items.all" key-field="id">
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="flags" type-name="item_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="flags2" type-name="item_flags2" comment="v0.34.08" ld:level="1" ld:meta="global"/>

        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" pointer-type="specific_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="specific_ref"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>

        <ld:field name="world_data_id" ref-target="world_object_data" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="world_data_subid" init-value="-1" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="stockpile_countdown" comment="-1 per 50 frames; then check if needs moving" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="stockpile_delay" comment="used to reset countdown; randomly varies" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="base_uniform_score" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="walkable_id" comment="from map_block.walkable" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="spec_heat" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="ignite_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="heatdam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="colddam_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="boiling_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="melting_point" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="fixed_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <ld:field name="weight" comment="if flags.weight_computed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="weight_fraction" comment="1e-6" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="item_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="item_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getSubtype"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getMaterial"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMaterialIndex"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setSubtype"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>

            <vmethod ld:level="1" name="setMaterial"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" name="setMaterialIndex"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getActualMaterial" comment="returns an actual material type, never a race"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getActualMaterialIndex" comment="returns an actual material index, never a caste"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getRace" comment="only if the object is made of a &quot;specific creature mat&quot;"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            -- 10

            <vmethod ld:level="1" ret-type="int16_t" name="getCaste" comment="only if the object is made of a &quot;specific creature mat&quot;"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getPlantID" comment="only if the object is made of a plant material"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getTotalDimension"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setDimension"> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="subtractDimension"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isFoodStorage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isTrackCart"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isWheelbarrow"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getVehicleID"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="getStockpile">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item_stockpile_ref" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item_stockpile_ref"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="containsPlaster"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isPlaster"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="getColorOverride"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/> </vmethod>

            -- 23

            <vmethod ld:level="1" name="getHistoryInfo">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:level="4" ld:meta="pointer" type-name="item_history_info" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="item_history_info"/></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="hasToolUse"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_25"/>
            <vmethod ld:level="1" name="becomePaste"/>
            <vmethod ld:level="1" name="becomePressed"/>
            <vmethod ld:level="1" name="calculateWeight"/>

            <vmethod ld:level="1" ret-type="bool" name="isSharpStone"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCrystalGlassable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isMetalOre"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="matIndex" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" name="clearLastTempUpdateTS"/>
            <vmethod ld:level="1" name="listNotableKills"> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="string_ptr" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>

            -- 34

            <vmethod ld:level="1" ret-type="uint16_t" name="getSpecHeat"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getIgnitePoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getHeatdamPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getColddamPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getBoilingPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>

            <vmethod ld:level="1" ret-type="uint16_t" name="getMeltingPoint"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getFixedTemp"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getSolidDensity"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="materialRots"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="uint16_t" name="getTemperature"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></vmethod>

            -- 44

            <vmethod ld:level="1" ret-type="bool" name="adjustTemperature">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="target" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
                <ld:field name="unk" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_45"/>
            <vmethod ld:level="1" name="extinguish"/>
            <vmethod ld:level="1" ret-type="int8_t" name="getGloveHandedness"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="setGloveHandedness"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isSpike"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isScrew"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isBuildMat"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isTemperatureSafe"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field comment="1 fire, 2 magma" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="setRandSubtype"> <ld:field name="entity_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>

            -- 54

            <vmethod ld:level="1" ret-type="int8_t" name="getWeaponSize" comment="weapon racks have capacity 5"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getWear"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="setWear"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMaker"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setMaker"> <ld:field name="unit_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>

            <vmethod ld:level="1" name="getCorpseInfo">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int16_t" name="prace" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int16_t" name="pcaste" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="phfig" ld:is-container="true"> <ld:item ld:level="3" ld:meta="pointer" type-name="historical_figure" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="historical_figure"/></ld:item> </ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="punit" ld:is-container="true"> <ld:item ld:level="3" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item> </ld:field>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_60"/>
            <vmethod ld:level="1" name="getGloveFlags">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="df-flagarray" ld:is-container="true"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getItemShapeDesc" comment="a statue/figurine of &quot;string goes here&quot;">
                <ret-type ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isMatchingAmmoItem"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="pointer" type-name="item_filter_spec" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item_filter_spec"/></ld:field> </vmethod>

            -- 64

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_64"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_65"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_66"/>
            <vmethod ld:level="1" name="setSeedsPlantSkillLevel"> <ld:field name="level" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getCorpseSize" comment="size_info.size_cur"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            <vmethod ld:level="1" name="ageItem"><ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getCritterAirdrownTimer"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setCritterAirdrownTimer"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="incrementCritterAirdrownTimer"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getRotTimer"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            -- 74

            <vmethod ld:level="1" name="setRotTimer"> <ld:field name="val" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="incrementRotTimer"/>
            <vmethod ld:level="1" ret-type="bool" name="isBogeymanCorpse"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_77"/>
            <vmethod ld:level="1" name="getAmmoType">
                <ret-type ld:level="3" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ret-type>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isLiquidPowder"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isLiquid"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_81"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getVolume" comment="for putting in containers, building clutter"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="addImprovementFromJob">
                <ret-type ld:level="3" ld:meta="pointer" type-name="itemimprovement" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="itemimprovement"/></ret-type>
                <ld:field ld:subtype="enum" base-type="int32_t" type-name="improvement_type" ld:level="2" ld:meta="global"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="mat_type" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="shape" ref-target="descriptor_shape" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="world_site" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:field>
                <ld:field name="unk" comment="used to compute quality if !job||!unit" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unshaped" comment="glazed" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isWeapon"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 85

            <vmethod ld:level="1" ret-type="bool" name="isArmorNotClothing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isMillable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableThread"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableVial"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableBag"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isProcessableBarrel"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdiblePlant"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleRaw"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="hunger" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleCarnivore">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <comment>In item_foodst, requires MEAT or FISH ingredient.</comment>
                <ld:field name="hunger" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEdibleBonecarn">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <comment>In item_foodst, requires CORPSEPIECE, MEAT or FISH ingredient.</comment>
                <ld:field name="hunger" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            -- 95

            <vmethod ld:level="1" ret-type="bool" name="moveToGround">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="z" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" name="categorize" comment="Add item to world.items.other.*"> <ld:field name="in_play" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="uncategorize" comment="Remove item from world.items.other.*"/>
            <vmethod ld:level="1" ret-type="bool" name="isFurniture"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="empty" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isPressed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAnimal" comment="stored in Animal stockpiles"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" name="assignQuality">
                <ld:field ld:level="2" ld:meta="pointer" name="maker" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:subtype="enum" base-type="int16_t" name="job_skill" type-name="job_skill" ld:level="2" ld:meta="global"/>
            </vmethod>
            <vmethod ld:level="1" name="notifyLostMasterwork"/>
            <vmethod ld:level="1" name="addMagic"/>
            <vmethod ld:level="1" name="magic_unk1"/>
            <vmethod ld:level="1" name="magic_unk2"/>

            -- 106

            <vmethod ld:level="1" name="magic_unk3"/>
            <vmethod ld:level="1" name="magic_unk4"/>
            <vmethod ld:level="1" name="setDisplayColor"/>
            <vmethod ld:level="1" ret-type="bool" name="isDamagedByHeat"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="needTwoHandedWield"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>

            <vmethod ld:level="1" name="splitStack">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ret-type>
                <ld:field name="stack_size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="preserve_containment" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isTameableVermin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDistillable">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="checkKitchenSettings" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDye"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isMilkable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 116

            <vmethod ld:level="1" ret-type="bool" name="isSandBearing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isLyeBearing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAnimalProduct"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getStorageInfo">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="material_category" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="addWear">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="delta" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="simple" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="lose_masterwork" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="incWearTimer"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="delta" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkWearDestroy">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="simple" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="lose_masterwork" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="addContaminant">
                <ld:field name="mat_type" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" type-name="matter_state" base-type="int16_t" name="mat_state" ld:level="2" ld:meta="global"/>
                <ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/> <ld:field name="size" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="body_part_id" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="flags" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" name="removeContaminantByIdx">
                <ld:field name="index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="removeContaminant">
                <ld:field name="mat_type" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            -- 126

            <vmethod ld:level="1" name="tradeUnitContaminants">
                <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> <ld:field name="body_part_id" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" name="tradeItemContaminants" comment="calls item.tIC2(this)">
                <ld:field ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="tradeItemContaminants2">
                <ld:field ld:level="2" ld:meta="pointer" type-name="item_actual" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item_actual"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="contaminateWound">
                <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> <ld:field ld:level="2" ld:meta="pointer" type-name="unit_wound" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_wound"/></ld:field>
                <ld:field name="shift" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/> <ld:field name="body_part_id" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>

            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getWeaponAttacks">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true"><ld:item ld:level="5" ld:meta="pointer" ld:subtype="pointer"/></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_133"/>
            <vmethod ld:level="1" ret-type="bool" name="isSplittable" comment="if false, you throw the entire stack at once"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_135"/>

            -- 136

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_136"/>
            <vmethod ld:level="1" name="propagateUnitRefs"/> add to unit.owned_items/traded_items
            <vmethod ld:level="1" ret-type="bool" name="isBag" comment="BOX made of cloth"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSand"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_140"/>

            <vmethod ld:level="1" ret-type="int32_t" name="getStackSize"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="addStackSize"> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="setStackSize"> <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAmmoClass"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAutoClean" comment="delete on_ground every season when in ANY_AUTO_CLEAN; default true"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 146

            <vmethod ld:level="1" ret-type="bool" name="setTemperatureFromMapTile">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="setTemperatureFromMap">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="setTemperature">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/> <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateTempFromMap">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="adjust" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="multiplier" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateTemperature">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/> <ld:field name="local" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="contained" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field name="adjust" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="multiplier" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="updateFromWeather"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="updateContaminants"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkTemperatureDamage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkHeatColdDamage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkMeltBoil"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 156

            <vmethod ld:level="1" ret-type="int16_t" name="getMeleeSkill"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getRangedSkill"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="setQuality"> <ld:field name="quality" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getQuality"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getOverallQuality"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>

            <vmethod ld:level="1" ret-type="int16_t" name="getImprovementQuality"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getProjectileSize"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isImprovable">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
                <ld:field name="mat_type" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="setSharpness">
                <ld:field name="unk1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk2" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getSharpness"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            -- 166

            <vmethod ld:level="1" ret-type="bool" name="isTotemable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDyeable"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isNotDyed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isDyed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="canSewImage"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_171"/>
            <vmethod ld:level="1" ret-type="bool" name="isProcessableVialAtStill"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSimilarToItem">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="2" ld:meta="global"/>
                <ld:field name="item_subtype" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_type" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getBlockChance"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_175"/>

            -- 176

            <vmethod ld:level="1" ret-type="int16_t" name="getMakerRace"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="setMakerRace"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> </vmethod>
            <vmethod ld:level="1" ret-type="int8_t" name="getEffectiveArmorLevel" comment="adds 1 if it has [METAL_ARMOR_LEVELS] and it's made of an inorganic mat"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_179"/>
            <vmethod ld:level="1" ret-type="bool" name="isItemOrganicCloth"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> only for item_cloth

            <vmethod ld:level="1" ret-type="bool" name="isMadeOfOrganicCloth"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> for all constructed items
            <vmethod ld:level="1" name="coverWithContaminant" comment="also stops fire; used for rain">
                <ld:field name="mat_type" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" type-name="matter_state" base-type="int16_t" name="mat_state" ld:level="2" ld:meta="global"/>
                <ld:field name="temperature" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="hasImprovements"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> any at all
            <vmethod ld:level="1" ret-type="bool" name="isImproved"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getMagic">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="item_magicness" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="item_magicness"><ld:item ld:level="6" ld:meta="global" type-name="item_magicness"/></ld:item></ld:item></ret-type>
            </vmethod>

            -- 186

            <vmethod ld:level="1" name="getItemDescription">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="mode" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="getItemDescriptionPrefix" comment="&quot;a &quot; or &quot;the &quot;">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="mode" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="getItemBasicName" comment="usually just &quot;item&quot;">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getImprovementsValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="caravan_state" name="caravan" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isExtractBearingFish"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isExtractBearingVermin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_192"/>
            <vmethod ld:level="1" ret-type="int32_t" name="getBaseWeight"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getWeightShiftBits"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCollected"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            -- 196

            <vmethod ld:level="1" ret-type="bool" name="isEdibleVermin"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="drawSelf"/>
            <vmethod ld:level="1" ret-type="bool" name="isRangedWeapon"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isClothing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isWet"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getCurrencyValue" comment="that is, value of coins">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="historical_entity" name="appraiser" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAssignedToStockpile"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isAssignedToThisStockpile"> <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="detachStockpileAssignment" comment="also removes links from the pile"/>

            -- 205

            <vmethod ld:level="1" name="removeStockpileAssignment" comment="just wipes the fields"/>
            <vmethod ld:level="1" name="getStockpile2">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item_stockpile_ref" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item_stockpile_ref"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_207"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_208"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_209"/>

            <vmethod ld:level="1" ret-type="int32_t" name="getThreadDyeValue"> <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field ld:level="2" ld:meta="pointer" type-name="caravan_state" name="caravan" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="getColorAndShape">
                <ld:field ld:level="2" ld:meta="pointer" name="colors" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="shapes" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_212"/>
            <vmethod ld:level="1" ret-type="bool" name="isArmor" comment="for armor user skill encumberance"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="calcUniformScore">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="squad_uniform_spec" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="squad_uniform_spec"/></ld:field>
                <ld:field name="exact_match" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="best_any" ld:level="2" ld:meta="global"/>
                <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="best_melee" ld:level="2" ld:meta="global"/>
                <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="best_ranged" ld:level="2" ld:meta="global"/>
            </vmethod>

            -- 215

            <vmethod ld:level="1" ret-type="int32_t" name="calcBaseUniformScore"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_216"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_217"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_218"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_219"/>

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_220"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_221"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_222"/>
            <vmethod ld:level="1" name="getSlabEngravingType">
                <ret-type ld:subtype="enum" base-type="int16_t" type-name="slab_engraving_type" ld:level="3" ld:meta="global"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getAbsorption"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            -- 225

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_225"/>
            <vmethod ld:level="1" ret-type="bool" name="isGemMaterial"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="setGemShape"> <ld:field name="shape" ref-target="descriptor_shape" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="hasGemShape"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getGemShape">
                <ret-type ref-target="descriptor_shape" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>

            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_kill_info">
        <ld:field name="targets" type-name="historical_kills" ld:level="1" ld:meta="global"/>

        -- Wielders

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="slayers" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="slayer_kill_counts" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_history_info">
        <ld:field ld:level="1" ld:meta="pointer" name="kills" type-name="item_kill_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item_kill_info"/></ld:field>
        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_actual" inherits-from="item" original-name="item_actualst">
        <ld:field name="stack_size" init-value="1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">
            (if (&gt; $.stack_size 1) (fmt "stack: ~A" $.stack_size))
            (if (&gt; $.wear 0) (fmt "wear: ~A" $.wear))
        </code-helper>

        <ld:field ld:level="1" ld:meta="pointer" name="history_info" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="item_history_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item_history_info"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="magic" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="item_magicness" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item_magicness"><ld:item ld:level="4" ld:meta="global" type-name="item_magicness"/></ld:item></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="contaminants" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="contaminant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="contaminant"><ld:item ld:level="4" ld:meta="global" type-name="contaminant"/></ld:item></ld:item>
        </ld:field>

        <ld:field name="temperature" type-name="temperaturest" ld:level="1" ld:meta="global"/>

        <ld:field name="wear" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="wear_timer" comment="counts up to 806400" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field init-value="-1" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="temp_updated_frame" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_crafted" inherits-from="item_actual" original-name="item_craftedst">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">
            $.quality
            (describe-obj (material-by-id $.mat_type $.mat_index))
        </code-helper>

        <ld:field name="maker_race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="quality" type-name="item_quality" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="skill_used" type-name="job_skill" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="maker" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="masterpiece_event" ref-target="history_event" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_constructed" inherits-from="item_crafted" original-name="item_constructedst">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="improvements" pointer-type="itemimprovement" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="itemimprovement"><ld:item ld:level="3" ld:meta="global" type-name="itemimprovement"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="body_part_status">
        <ld:field name="on_fire" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="missing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="organ_loss" comment="cyan" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="organ_damage" comment="yellow" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="muscle_loss" comment="red" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="muscle_damage" comment="yellow" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bone_loss" comment="red" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bone_damage" comment="yellow" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="skin_damage" comment="brown" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="motor_nerve_severed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sensory_nerve_severed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="spilled_guts" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="has_splint" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_bandage" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_plaster_cast" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="grime" count="3" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="severed_or_jammed" comment="seen e.g. on ribs smashed by blunt attack, but quickly disappeared" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="under_shell" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="is_shell" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="body_layer_status">
        <ld:field name="gone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="leaking" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_component_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_part_status" type-name="body_part_status" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.body_parts[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="body_part_status"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="numbered_masks" type-name="uint32_t" comment="1 bit per instance of a numbered body part" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nonsolid_remaining" type-name="uint32_t" comment="0-100%" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.nonsolid_layers[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_status" type-name="body_layer_status" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="body_layer_status"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_wound_area" type-name="uint32_t" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>

        Surface percentages for cuts/fractures, dents and effects (such as
        bruises, burns, frostbite, melting, freezing, necrosis, and blistering)
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_cut_fraction" type-name="uint32_t" comment="0-10000" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_dent_fraction" type-name="uint32_t" comment="0-10000" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layer_effect_fraction" type-name="uint32_t" comment="0-1000000000" index-refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="body_size_info">
        <ld:field name="size_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="size_base" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="area_cur" comment="size_cur^0.666" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="area_base" comment="size_base^0.666" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="length_cur" comment="(size_cur*10000)^0.333" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="length_base" comment="(size_base*10000)^0.333" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="corpse_material_type">
        <enum-item name="Plant"/>
        <enum-item name="Silk"/>
        <enum-item name="Leather"/>
        <enum-item name="Bone"/>
        <enum-item name="Shell"/>

        <enum-item/>
        <enum-item name="Soap"/>
        <enum-item name="Tooth"/>
        <enum-item name="Horn"/>
        <enum-item name="Pearl"/>

        <enum-item name="HairWool"/>
        <enum-item name="Yarn"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_body_component" inherits-from="item_actual" original-name="item_body_componentst">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sex" comment="-1 n/a, 0 female, 1 male" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="race2" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste2" ref-target="caste_raw" aux-value="$$.race2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8c" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="body" ld:level="1" ld:meta="compound" ld:typedef-name="T_body">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wounds" pointer-type="unit_wound" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_wound"><ld:item ld:level="4" ld:meta="global" type-name="unit_wound"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="unk_100" type-name="int32_t" count="10" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="unk_c8" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="components" type-name="body_component_info" ld:level="2" ld:meta="global"/>

            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="physical_attr_value" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="physical_attr_unk2" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="size_info" type-name="body_size_info" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_relsize" type-name="int32_t" comment="=unit.enemy.body_part_relsize" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_modifiers" type-name="int32_t" index-refers-to="$$._global.caste.ref-target.body_appearance_modifiers[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bp_modifiers" type-name="int32_t" index-refers-to="$$._global.caste.ref-target.bp_appearance.modifier_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="size_modifier" comment="=unit.appearance.size_modifier" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="birth_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="birth_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="curse_year" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="curse_time" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="birth_year_bias" init-value="0" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="birth_time_bias" init-value="0" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="death_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="death_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="appearance" ld:level="1" ld:meta="compound" ld:typedef-name="T_appearance">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="colors" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_1e8" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_1f8" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_208" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_218" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="blood_count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="stored_fat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="hist_figure_id2" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field comment="v0.34.01, actual offset unknown" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="unit_id2" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="corpse_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_corpse_flags">
            <ld:field name="unbutchered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="bone" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="shell" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="skull" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="separated_part" comment="?" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="hair_wool" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="yarn" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="material_amount" type-name="int32_t" count="19" index-enum="corpse_material_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="bone1" ld:level="1" ld:meta="compound" ld:typedef-name="T_bone1">
            <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="bone2" ld:level="1" ld:meta="compound" ld:typedef-name="T_bone2">
            <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_corpsest" inherits-from="item_body_component"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_corpsepiecest" inherits-from="item_body_component"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_critter" inherits-from="item_actual" original-name="item_critterst">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="milk_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="airdrown_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="item_matstate">
        <ld:field name="no_auto_clean" comment="isAutoClean returns false" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pressed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="paste" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_liquipowder" inherits-from="item_actual" original-name="item_liquipowderst">
        <ld:field name="mat_state" type-name="item_matstate" ld:level="1" ld:meta="global"/>
        <ld:field name="dimension" init-value="150" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_liquid" inherits-from="item_liquipowder" original-name="item_liquidst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_powder" inherits-from="item_liquipowder" original-name="item_powderst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_barst" inherits-from="item_actual">
        <ld:field name="subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dimension" init-value="150" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_smallgemst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="shape" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_blocksst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_roughst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_boulderst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_woodst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_rockst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="sharpness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_84" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_seedsst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="grow_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="planting_skill" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_skin_tannedst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_80" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_meatst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_plantst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_leavesst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_cheesest" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_globst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mat_state" type-name="item_matstate" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_remainsst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_fishst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_fish_rawst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_foodst" inherits-from="item_crafted">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_foodst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_foodst"/></ld:field>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="recipe_id" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ingredients" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_ingredients">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="3" ld:meta="global"/>
                <ld:field name="unk_4" init-value="-1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" init-value="-1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="maker" ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_10" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk_14" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_18" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="rot_timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_verminst" inherits-from="item_critter"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_petst" inherits-from="item_critter"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_drinkst" inherits-from="item_liquid"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_powder_miscst" inherits-from="item_powder"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_liquid_miscst" inherits-from="item_liquid">
        <ld:field name="unk_88" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_threadst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dye_mat_type" ref-target="material" aux-value="$$.dye_mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dye_mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_88" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dye_quality" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_92" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_94" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_98" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="dimension" init-value="15000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_eggst" inherits-from="item_actual">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_7c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="egg_materials" type-name="material_vec_ref" ld:level="1" ld:meta="global"/>

        <ld:field ld:subtype="bitfield" name="egg_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_egg_flags">
            <ld:field name="fertile" comment="allows the incubation_counter to be checked/incremented" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="incubation_counter" init-value="0" comment="increments when fertile in unforbidden nestbox, hatch at &gt;= 100800 (3 months)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="hatchling_civ_id" ref-target="historical_entity" comment="hatchlings will have this civ_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hatchling_population_id" ref-target="entity_population" comment="hatchlings will have this population_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hatchling_unit_unk_c0" init-value="-1" comment="hatchlings will have this unit.unk_c0 value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" name="mothers_genes" type-name="unit_genes" comment="object owned by egg item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit_genes"/></ld:field>
        <ld:field name="mothers_caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="pointer" name="fathers_genes" type-name="unit_genes" comment="object owned by egg item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit_genes"/></ld:field>
        <ld:field name="fathers_caste" ref-target="caste_raw" aux-value="$$.race" comment="-1 if no father genes" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="hatchling_flags1" type-name="unit_flags1" comment="used primarily for bit_flag:tame" ld:level="1" ld:meta="global"/>
        <ld:field name="hatchling_flags2" type-name="unit_flags2" comment="used primarily for bit_flag:roaming_wilderness_population_source" ld:level="1" ld:meta="global"/>
        <ld:field name="hatchling_flags3" type-name="unit_flags3" comment="not normally used, most/all do not stick" ld:level="1" ld:meta="global"/>

        <ld:field ld:subtype="enum" name="hatchling_training_level" base-type="int32_t" type-name="animal_training_level" init-value="WildUntamed" ld:level="1" ld:meta="global"/>
        <ld:field name="hatchling_animal_population" type-name="world_population_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="hatchling_mother_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_doorst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_floodgatest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_bedst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_chairst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_chainst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_flaskst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_gobletst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_windowst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_cagest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_bucketst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_animaltrapst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_tablest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_coffinst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_boxst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_armorstandst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_weaponrackst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_cabinetst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_amuletst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_scepterst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_crownst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ringst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_earringst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_braceletst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_anvilst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_backpackst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_quiverst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_catapultpartsst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ballistapartsst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_trappartsst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_pipe_sectionst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_hatch_coverst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_gratest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_quernst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_millstonest" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_splintst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_crutchst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_traction_benchst" inherits-from="item_constructed"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_instrumentst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_instrumentst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_instrumentst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_toyst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_toyst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_toyst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_armorst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_armorst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_armorst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_shoesst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_shoesst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_shoesst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_shieldst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_shieldst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_shieldst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_helmst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_helmst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_helmst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_glovesst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_glovesst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_glovesst"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="handedness" comment="1 right, 2 left" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_pantsst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_pantsst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_pantsst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_siegeammost" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_siegeammost" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_siegeammost"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_weaponst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_weaponst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_weaponst"/></ld:field>
        <ld:field name="sharpness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ammost" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_ammost" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_ammost"/></ld:field>
        <ld:field name="sharpness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_trapcompst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_trapcompst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_trapcompst"/></ld:field>
        <ld:field name="sharpness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_toolst" inherits-from="item_constructed">
        <ld:field ld:level="1" ld:meta="pointer" name="subtype" type-name="itemdef_toolst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="itemdef_toolst"/></ld:field>
        <ld:field name="sharpness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="stockpile" type-name="item_stockpile_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="vehicle_id" ref-target="vehicle" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_stockpile_ref">
        <ld:field name="id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_barrelst" inherits-from="item_constructed">
        <ld:field name="stockpile" type-name="item_stockpile_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_binst" inherits-from="item_constructed">
        <ld:field name="stockpile" type-name="item_stockpile_ref" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_gemst" inherits-from="item_constructed">
        <ld:field name="shape" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_statuest" inherits-from="item_constructed">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="description" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_figurinest" inherits-from="item_constructed">
        <ld:field name="image" type-name="art_image_ref" ld:level="1" ld:meta="global"/>
        <ld:field name="description" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_slabst" inherits-from="item_constructed">
        <ld:field name="description" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_bc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="slab_engraving_type" name="engraving_type" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_orthopedic_castst" inherits-from="item_constructed">
        <ld:field name="unk_a0" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_bc" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_coinst" inherits-from="item_constructed">
        <ld:field name="coin_batch" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_totemst" inherits-from="item_constructed">
        <ld:field name="unk_a0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_a2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_a4" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_clothst" inherits-from="item_constructed">
        <ld:field name="dimension" init-value="10000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_bookst" inherits-from="item_constructed">
        <ld:field name="title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="item_ballistaarrowheadst" inherits-from="item_actual">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_type_class" comment="not in DF">
        <enum-item name="Misc"/>
        <enum-item name="Digging"/>
        <enum-item name="Building"/>
        <enum-item name="Hauling"/>
        <enum-item name="LifeSupport"/>
        <enum-item name="TidyUp"/>
        <enum-item name="Leisure"/>
        <enum-item name="Gathering"/>
        <enum-item name="Manufacture"/>
        <enum-item name="Improvement"/>
        <enum-item name="Crime"/>
        <enum-item name="LawEnforcement"/>
        <enum-item name="StrangeMood"/>
        <enum-item name="UnitHandling"/>
        <enum-item name="SiegeWeapon"/>
        <enum-item name="Medicine"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_type" base-type="int16_t">
        -- Declare attributes:

        <enum-attr name="caption"/>
        <enum-attr name="type" type-name="job_type_class" default-value="Misc"/>
        <enum-attr name="labor" type-name="unit_labor" default-value="NONE"/>
        <enum-attr name="item" type-name="item_type" default-value="NONE"/>
        <enum-attr name="possible_item" type-name="item_type" is-list="true"/>
        <enum-attr name="material"/>
        <enum-attr name="skill" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="skill_stone" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="skill_wood" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="skill_metal" type-name="job_skill" default-value="NONE"/>

        -- 0

        <enum-item name="CarveFortification">
            <item-attr name="caption" value="Carve Fortification"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="DetailWall">
            <item-attr name="caption" value="Detail Wall"/>
            <item-attr name="type" value="Building"/>
            <item-attr name="skill" value="DETAILSTONE"/>
        </enum-item>
        <enum-item name="DetailFloor">
            <item-attr name="caption" value="Detail Floor"/>
            <item-attr name="type" value="Building"/>
            <item-attr name="skill" value="DETAILSTONE"/>
        </enum-item>
        <enum-item name="Dig">
            <item-attr name="caption" value="Dig"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="CarveUpwardStaircase">
            <item-attr name="caption" value="Carve Upward Staircase"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="CarveDownwardStaircase">
            <item-attr name="caption" value="Carve Downward Staircase"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="CarveUpDownStaircase">
            <item-attr name="caption" value="Carve Up/Down Staircase"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="CarveRamp">
            <item-attr name="caption" value="Carve Ramp"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="DigChannel">
            <item-attr name="caption" value="Dig Channel"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="FellTree">
            <item-attr name="caption" value="Fell Tree"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="WOODCUTTING"/>
            <item-attr name="item" value="WOOD"/>
        </enum-item>

        -- 10

        <enum-item name="GatherPlants">
            <item-attr name="caption" value="Gather Plants"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="HERBALISM"/>
            <item-attr name="item" value="PLANT"/>
        </enum-item>
        <enum-item name="RemoveConstruction">
            <item-attr name="caption" value="Remove Construction"/>
            <item-attr name="type" value="Building"/>
        </enum-item>
        <enum-item name="CollectWebs">
            <item-attr name="caption" value="Collect Webs"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="WEAVING"/>
            <item-attr name="item" value="THREAD"/>
            <item-attr name="material" value="silk"/>
        </enum-item>
        <enum-item name="BringItemToDepot">
            <item-attr name="caption" value="Bring Item to Depot"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_ITEM"/>
        </enum-item>
        <enum-item name="BringItemToShop">
            <item-attr name="caption" value="Bring Item to Shop"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_ITEM"/>
        </enum-item>
        <enum-item name="Eat">
            <item-attr name="caption" value="Eat"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="GetProvisions">
            <item-attr name="caption" value="Get Provisions"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Drink">
            <item-attr name="caption" value="Drink"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Drink2">
            <item-attr name="caption" value="Drink"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="FillWaterskin">
            <item-attr name="caption" value="Fill Waterskin"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>

        -- 20

        <enum-item name="FillWaterskin2">
            <item-attr name="caption" value="Fill Waterskin"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Sleep">
            <item-attr name="caption" value="Sleep"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="CollectSand">
            <item-attr name="caption" value="Collect Sand"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="labor" value="HAUL_ITEM"/>
            <item-attr name="item" value="POWDER_MISC"/>
            <item-attr name="material" value="sand"/>
        </enum-item>
        <enum-item name="Fish">
            <item-attr name="caption" value="Fish"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="FISH"/>
            <item-attr name="item" value="FISH_RAW"/>
        </enum-item>
        <enum-item name="Hunt">
            <item-attr name="caption" value="Hunt"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="SNEAK"/>
            <item-attr name="item" value="CORPSE"/>
        </enum-item>
        <enum-item name="HuntVermin">
            <item-attr name="caption" value="Hunt for Small Creature"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="TRAPPING"/>
            <item-attr name="item" value="REMAINS"/>
        </enum-item>
        <enum-item name="Kidnap">
            <item-attr name="caption" value="Kidnap"/>
            <item-attr name="type" value="Crime"/>
        </enum-item>
        <enum-item name="BeatCriminal">
            <item-attr name="caption" value="Beat Criminal"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="StartingFistFight">
            <item-attr name="caption" value="Starting Fist Fight"/>
            <item-attr name="type" value="Crime"/>
        </enum-item>
        <enum-item name="CollectTaxes">
            <item-attr name="caption" value="Collect Taxes"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>

        -- 30

        <enum-item name="GuardTaxCollector">
            <item-attr name="caption" value="Guard Tax Collector"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="CatchLiveLandAnimal">
            <item-attr name="caption" value="Catch Live Land Animal"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="TRAPPING"/>
            <item-attr name="item" value="VERMIN"/>
        </enum-item>
        <enum-item name="CatchLiveFish">
            <item-attr name="caption" value="Catch Live Fish"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="FISH"/>
            <item-attr name="item" value="VERMIN"/>
        </enum-item>
        <enum-item name="ReturnKill">
            <item-attr name="caption" value="Return Kill"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="CheckChest">
            <item-attr name="caption" value="Check Chest"/>
            <item-attr name="type" value="TidyUp"/>
        </enum-item>
        <enum-item name="StoreOwnedItem">
            <item-attr name="caption" value="Store Owned Item"/>
            <item-attr name="type" value="TidyUp"/>
       </enum-item>
        <enum-item name="PlaceItemInTomb">
            <item-attr name="caption" value="Place Item in Tomb"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_BODY"/>
        </enum-item>
        <enum-item name="StoreItemInStockpile">
            <item-attr name="caption" value="Store Item in Stockpile"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInBag">
            <item-attr name="caption" value="Store Item in Bag"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInHospital">
            <item-attr name="caption" value="Store Item in Hospital"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>

        -- 40

        <enum-item name="StoreItemInChest">
            <item-attr name="caption" value="Store Item in Chest"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInCabinet">
            <item-attr name="caption" value="Store Item in Cabinet"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreWeapon">
            <item-attr name="caption" value="Store Weapon"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreArmor">
            <item-attr name="caption" value="Store Armor"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInBarrel">
            <item-attr name="caption" value="Store Item in Barrel"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="StoreItemInBin">
            <item-attr name="caption" value="Store Item in Bin"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="SeekArtifact">
            <item-attr name="caption" value="Seek Artifact"/>
        </enum-item>
        <enum-item name="SeekInfant">
            <item-attr name="caption" value="Seek Infant"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="AttendParty">
            <item-attr name="caption" value="Attend Party"/>
            <item-attr name="type" value="Leisure"/>
        </enum-item>
        <enum-item name="GoShopping">
            <item-attr name="caption" value="Go Shopping"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>

        -- 50

        <enum-item name="GoShopping2">
            <item-attr name="caption" value="Go Shopping"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="Clean">
            <item-attr name="caption" value="Clean"/>
            <item-attr name="type" value="TidyUp"/>
        </enum-item>
        <enum-item name="Rest">
            <item-attr name="caption" value="Rest"/>
            <item-attr name="type" value="Leisure"/>
        </enum-item>
        <enum-item name="PickupEquipment">
            <item-attr name="caption" value="Pickup Equipment"/>
            <item-attr name="type" value="LifeSupport"/>
        </enum-item>
        <enum-item name="DumpItem">
            <item-attr name="caption" value="Dump Item"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="HAUL_REFUSE"/>
        </enum-item>
        <enum-item name="StrangeMoodCrafter">
            <item-attr name="caption" value="Strange Mood (Crafter)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodJeweller">
            <item-attr name="caption" value="Strange Mood (Jeweller)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodForge">
            <item-attr name="caption" value="Strange Mood (Forge)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodMagmaForge">
            <item-attr name="caption" value="Strange Mood (Magma Forge)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodBrooding">
            <item-attr name="caption" value="Strange Mood (Brooding)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>

        -- 60

        <enum-item name="StrangeMoodFell">
            <item-attr name="caption" value="Strange Mood (Fell)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodCarpenter">
            <item-attr name="caption" value="Strange Mood (Carpenter)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodMason">
            <item-attr name="caption" value="Strange Mood (Mason)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodBowyer">
            <item-attr name="caption" value="Strange Mood (Bowyer)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodTanner">
            <item-attr name="caption" value="Strange Mood (Leather)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodWeaver">
            <item-attr name="caption" value="Strange Mood (Clothier)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodGlassmaker">
            <item-attr name="caption" value="Strange Mood (Glassmaker)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="StrangeMoodMechanics">
            <item-attr name="caption" value="Strange Mood (Mechanics)"/>
            <item-attr name="type" value="StrangeMood"/>
        </enum-item>
        <enum-item name="ConstructBuilding">
            <item-attr name="caption" value="Construct Building"/>
            <item-attr name="type" value="Building"/>
        </enum-item>
        <enum-item name="ConstructDoor">
            <item-attr name="caption" value="Construct Door"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="DOOR"/>
        </enum-item>

        -- 70

        <enum-item name="ConstructFloodgate">
            <item-attr name="caption" value="Construct Floodgate"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FLOODGATE"/>
        </enum-item>
        <enum-item name="ConstructBed">
            <item-attr name="caption" value="Construct Bed"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BED"/>
        </enum-item>
        <enum-item name="ConstructThrone">
            <item-attr name="caption" value="Construct Throne"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CHAIR"/>
        </enum-item>
        <enum-item name="ConstructCoffin">
            <item-attr name="caption" value="Construct Coffin"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="COFFIN"/>
        </enum-item>
        <enum-item name="ConstructTable">
            <item-attr name="caption" value="Construct Table"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TABLE"/>
        </enum-item>
        <enum-item name="ConstructChest">
            <item-attr name="caption" value="Construct Chest"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BOX"/>
        </enum-item>
        <enum-item name="ConstructBin">
            <item-attr name="caption" value="Construct Bin"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BIN"/>
        </enum-item>
        <enum-item name="ConstructArmorStand">
            <item-attr name="caption" value="Construct Armor Stand"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ARMORSTAND"/>
        </enum-item>
        <enum-item name="ConstructWeaponRack">
            <item-attr name="caption" value="Construct Weapon Rack"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="WEAPONRACK"/>
        </enum-item>
        <enum-item name="ConstructCabinet">
            <item-attr name="caption" value="Construct Cabinet"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CABINET"/>
        </enum-item>

        -- 80

        <enum-item name="ConstructStatue">
            <item-attr name="caption" value="Construct Statue"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="STATUE"/>
        </enum-item>
        <enum-item name="ConstructBlocks">
            <item-attr name="caption" value="Construct Blocks"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BLOCKS"/>
        </enum-item>
        <enum-item name="MakeRawGlass">
            <item-attr name="caption" value="Make Raw Glass"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ROUGH"/>
            <item-attr name="skill" value="GLASSMAKER"/>
        </enum-item>
        <enum-item name="MakeCrafts">
            <item-attr name="caption" value="Make Crafts"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
            <item-attr name="possible_item" value="FIGURINE"/>
            <item-attr name="possible_item" value="RING"/>
            <item-attr name="possible_item" value="EARRING"/>
            <item-attr name="possible_item" value="CROWN"/>
            <item-attr name="possible_item" value="BRACELET"/>
            <item-attr name="possible_item" value="SCEPTER"/>
        </enum-item>
        <enum-item name="MintCoins">
            <item-attr name="caption" value="Mint Coins"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="COIN"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="CutGems">
            <item-attr name="caption" value="Cut Gems"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SMALLGEM"/>
            <item-attr name="skill" value="CUTGEM"/>
        </enum-item>
        <enum-item name="CutGlass">
            <item-attr name="caption" value="Cut Glass"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SMALLGEM"/>
            <item-attr name="skill" value="CUTGEM"/>
        </enum-item>
        <enum-item name="EncrustWithGems">
            <item-attr name="caption" value="Encrust With Gems"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="ENCRUSTGEM"/>
        </enum-item>
        <enum-item name="EncrustWithGlass">
            <item-attr name="caption" value="Encrust With Glass"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="ENCRUSTGEM"/>
        </enum-item>
        <enum-item name="DestroyBuilding">
            <item-attr name="caption" value="Destroy Building"/>
            <item-attr name="type" value="Building"/>
        </enum-item>

        -- 90

        <enum-item name="SmeltOre">
            <item-attr name="caption" value="Smelt Ore"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="skill" value="SMELT"/>
        </enum-item>
        <enum-item name="MeltMetalObject">
            <item-attr name="caption" value="Melt a Metal Object"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="metal"/>
            <item-attr name="skill" value="SMELT"/>
        </enum-item>
        <enum-item name="ExtractMetalStrands">
            <item-attr name="caption" value="Extract Metal Strands"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="THREAD"/>
            <item-attr name="skill" value="EXTRACT_STRAND"/>
        </enum-item>
        <enum-item name="PlantSeeds">
            <item-attr name="caption" value="Plant Seeds"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="PLANT"/>
        </enum-item>
        <enum-item name="HarvestPlants">
            <item-attr name="caption" value="Harvest Plants"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="PLANT"/>
            <item-attr name="item" value="PLANT"/>
        </enum-item>
        <enum-item name="TrainHuntingAnimal">
            <item-attr name="caption" value="Train Hunting Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="TrainWarAnimal">
            <item-attr name="caption" value="Train War Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="MakeWeapon">
            <item-attr name="caption" value="Forge Weapon"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="WEAPON"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="ForgeAnvil">
            <item-attr name="caption" value="Forge Anvil"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ANVIL"/>
        </enum-item>
        <enum-item name="ConstructCatapultParts">
            <item-attr name="caption" value="Construct Catapult Parts"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CATAPULTPARTS"/>
            <item-attr name="skill" value="SIEGECRAFT"/>
        </enum-item>

        -- 100

        <enum-item name="ConstructBallistaParts">
            <item-attr name="caption" value="Construct Ballista Parts"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BALLISTAPARTS"/>
            <item-attr name="skill" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="MakeArmor">
            <item-attr name="caption" value="Make Armor"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ARMOR"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeHelm">
            <item-attr name="caption" value="Forge Helm"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="HELM"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakePants">
            <item-attr name="caption" value="Make Pants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="PANTS"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="StudWith">
            <item-attr name="caption" value="Stud With"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>
        <enum-item name="ButcherAnimal">
            <item-attr name="caption" value="Butcher an Animal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="BUTCHER"/>
            <item-attr name="possible_item" value="MEAT"/>
            <item-attr name="possible_item" value="CORPSEPIECE"/>
            <item-attr name="possible_item" value="GLOB"/>
        </enum-item>
        <enum-item name="PrepareRawFish">
            <item-attr name="caption" value="Prepare a Raw Fish"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FISH"/>
            <item-attr name="skill" value="PROCESSFISH"/>
        </enum-item>
        <enum-item name="MillPlants">
            <item-attr name="caption" value="Mill Plants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="POWDER_MISC"/>
            <item-attr name="skill" value="MILLING"/>
        </enum-item>
        <enum-item name="BaitTrap">
            <item-attr name="caption" value="Bait Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="TRAPPING"/>
        </enum-item>
        <enum-item name="MilkCreature">
            <item-attr name="caption" value="Milk Creature"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="material" value="milk"/>
            <item-attr name="skill" value="MILK"/>
        </enum-item>

        -- 110

        <enum-item name="MakeCheese">
            <item-attr name="caption" value="Make Cheese"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CHEESE"/>
            <item-attr name="skill" value="CHEESEMAKING"/>
        </enum-item>
        <enum-item name="ProcessPlants">
            <item-attr name="caption" value="Process Plants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="THREAD"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="ProcessPlantsBag">
            <item-attr name="caption" value="Process Plants (Bag)"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LEAVES"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="ProcessPlantsVial">
            <item-attr name="caption" value="Process Plants (Vial)"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="ProcessPlantsBarrel">
            <item-attr name="caption" value="Process Plants (Barrel)"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="PROCESSPLANTS"/>
        </enum-item>
        <enum-item name="PrepareMeal">
            <item-attr name="caption" value="Prepare Meal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FOOD"/>
            <item-attr name="skill" value="COOK"/>
        </enum-item>
        <enum-item name="WeaveCloth">
            <item-attr name="caption" value="Weave Cloth"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CLOTH"/>
            <item-attr name="skill" value="WEAVING"/>
        </enum-item>
        <enum-item name="MakeGloves">
            <item-attr name="caption" value="Make Gloves"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="GLOVES"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeShoes">
            <item-attr name="caption" value="Make Shoes"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SHOES"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="MakeShield">
            <item-attr name="caption" value="Make Shield"/>
            <item-attr name="item" value="SHIELD"/>
            <item-attr name="skill_metal" value="FORGE_ARMOR"/>
        </enum-item>

        -- 120

        <enum-item name="MakeCage">
            <item-attr name="caption" value="Make Cage"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CAGE"/>
        </enum-item>
        <enum-item name="MakeChain">
            <item-attr name="caption" value="Make Chain"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CHAIN"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeFlask">
            <item-attr name="caption" value="Make Flask"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="FLASK"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeGoblet">
            <item-attr name="caption" value="Make Goblet"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="GOBLET"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeInstrument">
            <item-attr name="caption" value="Make Instrument"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="INSTRUMENT"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeToy">
            <item-attr name="caption" value="Make Toy"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TOY"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="MakeAnimalTrap">
            <item-attr name="caption" value="Make Animal Trap"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="ANIMALTRAP"/>
            <item-attr name="skill" value="TRAPPING"/>
        </enum-item>
        <enum-item name="MakeBarrel">
            <item-attr name="caption" value="Make Barrel"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BARREL"/>
        </enum-item>
        <enum-item name="MakeBucket">
            <item-attr name="caption" value="Make Bucket"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BUCKET"/>
        </enum-item>
        <enum-item name="MakeWindow">
            <item-attr name="caption" value="Make Window"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="WINDOW"/>
        </enum-item>

        -- 130

        <enum-item name="MakeTotem">
            <item-attr name="caption" value="Make Totem"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="skill" value="BONECARVE"/>
            <item-attr name="item" value="TOTEM"/>
        </enum-item>
        <enum-item name="MakeAmmo">
            <item-attr name="caption" value="Make Ammo"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="AMMO"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="DecorateWith">
            <item-attr name="caption" value="Decorate With"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>
        <enum-item name="MakeBackpack">
            <item-attr name="caption" value="Make Backpack"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BACKPACK"/>
        </enum-item>
        <enum-item name="MakeQuiver">
            <item-attr name="caption" value="Make Quiver"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="QUIVER"/>
        </enum-item>
        <enum-item name="MakeBallistaArrowHead">
            <item-attr name="caption" value="Make Ballista Arrow Head"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BALLISTAARROWHEAD"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="AssembleSiegeAmmo">
            <item-attr name="caption" value="Assemble Siege Ammo"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SIEGEAMMO"/>
            <item-attr name="skill" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="LoadCatapult">
            <item-attr name="caption" value="Load Catapult"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="LoadBallista">
            <item-attr name="caption" value="Load Ballista"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="FireCatapult">
            <item-attr name="caption" value="Fire Catapult"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>

        -- 140

        <enum-item name="FireBallista">
            <item-attr name="caption" value="Fire Ballista"/>
            <item-attr name="type" value="SiegeWeapon"/>
            <item-attr name="skill" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="ConstructMechanisms">
            <item-attr name="caption" value="Construct Mechanisms"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TRAPPARTS"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="MakeTrapComponent">
            <item-attr name="caption" value="MakeTrapComponent"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TRAPCOMP"/>
            <item-attr name="skill_metal" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="LoadCageTrap">
            <item-attr name="caption" value="Load Cage Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="LoadStoneTrap">
            <item-attr name="caption" value="Load Stone Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="LoadWeaponTrap">
            <item-attr name="caption" value="Load Weapon Trap"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="CleanTrap">
            <item-attr name="caption" value="Clean Trap"/>
            <item-attr name="type" value="TidyUp"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="CastSpell">
            <item-attr name="caption" value="Cast Spell"/>
        </enum-item>
        <enum-item name="LinkBuildingToTrigger">
            <item-attr name="caption" value="Link a Building to Trigger"/>
            <item-attr name="type" value="Building"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="PullLever">
            <item-attr name="caption" value="Pull the Lever"/>
        </enum-item>

        -- 150

        <enum-item name="BrewDrink">
            <item-attr name="caption" value="Brew Drink"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="DRINK"/>
            <item-attr name="skill" value="BREWING"/>
        </enum-item>
        <enum-item name="ExtractFromPlants">
            <item-attr name="caption" value="Extract from Plants"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="HERBALISM"/>
        </enum-item>
        <enum-item name="ExtractFromRawFish">
            <item-attr name="caption" value="Extract from Raw Fish"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="DISSECT_FISH"/>
        </enum-item>
        <enum-item name="ExtractFromLandAnimal">
            <item-attr name="caption" value="Extract from Land Animal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="skill" value="DISSECT_VERMIN"/>
        </enum-item>
        <enum-item name="TameVermin">
            <item-attr name="caption" value="Tame Small Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="TameAnimal">
            <item-attr name="caption" value="Tame ?something?"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="ChainAnimal">
            <item-attr name="caption" value="Chain Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="UnchainAnimal">
            <item-attr name="caption" value="Unchain Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="UnchainPet">
            <item-attr name="caption" value="Unchain Pet"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="ReleaseLargeCreature">
            <item-attr name="caption" value="Release Large Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>

        -- 160

        <enum-item name="ReleasePet">
            <item-attr name="caption" value="Release Pet"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="ReleaseSmallCreature">
            <item-attr name="caption" value="Release Small Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="HandleSmallCreature">
            <item-attr name="caption" value="Handle Small Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="HandleLargeCreature">
            <item-attr name="caption" value="Handle Large Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="CageLargeCreature">
            <item-attr name="caption" value="Cage Large Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="CageSmallCreature">
            <item-attr name="caption" value="Cage Small Creature"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="RecoverWounded">
            <item-attr name="caption" value="Recover Wounded"/>
            <item-attr name="type" value="Hauling"/>
            <item-attr name="labor" value="RECOVER_WOUNDED"/>
        </enum-item>
        <enum-item name="DiagnosePatient">
            <item-attr name="caption" value="Diagnose Patient"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="DIAGNOSE"/>
        </enum-item>
        <enum-item name="ImmobilizeBreak">
            <item-attr name="caption" value="Immobilize Break"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="SET_BONE"/>
        </enum-item>
        <enum-item name="DressWound">
            <item-attr name="caption" value="Dress Wound"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="DRESS_WOUNDS"/>
        </enum-item>

        -- 170

        <enum-item name="CleanPatient">
            <item-attr name="caption" value="Clean Patient"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="labor" value="CLEAN"/>
        </enum-item>
        <enum-item name="Surgery">
            <item-attr name="caption" value="Surgery"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="SURGERY"/>
        </enum-item>
        <enum-item name="Suture">
            <item-attr name="caption" value="Suture"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="SUTURE"/>
        </enum-item>
        <enum-item name="SetBone">
            <item-attr name="caption" value="Set Bone"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="SET_BONE"/>
        </enum-item>
        <enum-item name="PlaceInTraction">
            <item-attr name="caption" value="Place In Traction"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="SET_BONE"/>
        </enum-item>
        <enum-item name="DrainAquarium">
            <item-attr name="caption" value="Drain Aquarium"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="FillAquarium">
            <item-attr name="caption" value="Fill Aquarium"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="FillPond">
            <item-attr name="caption" value="Fill Pond"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="GiveWater">
            <item-attr name="caption" value="Give Water"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="FEED_WATER_CIVILIANS"/>
        </enum-item>
        <enum-item name="GiveFood">
            <item-attr name="caption" value="Give Food"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="FEED_WATER_CIVILIANS"/>
        </enum-item>

        -- 180

        <enum-item name="GiveWater2" comment="for pets">
            <item-attr name="caption" value="Give Water"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="FEED_WATER_CIVILIANS"/>
        </enum-item>
        <enum-item name="GiveFood2" comment="for pets">
            <item-attr name="caption" value="Give Food"/>
            <item-attr name="type" value="LifeSupport"/>
            <item-attr name="labor" value="FEED_WATER_CIVILIANS"/>
        </enum-item>
        <enum-item name="RecoverPet">
            <item-attr name="caption" value="Recover Pet"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="PitLargeAnimal">
            <item-attr name="caption" value="Pit/Pond Large Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="PitSmallAnimal">
            <item-attr name="caption" value="Pit/Pond Small Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="SlaughterAnimal">
            <item-attr name="caption" value="Slaughter Animal"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="skill" value="BUTCHER"/>
            <item-attr name="possible_item" value="MEAT"/>
            <item-attr name="possible_item" value="CORPSEPIECE"/>
            <item-attr name="possible_item" value="GLOB"/>
        </enum-item>
        <enum-item name="MakeCharcoal">
            <item-attr name="caption" value="Make Charcoal"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="COAL"/>
            <item-attr name="skill" value="WOOD_BURNING"/>
        </enum-item>
        <enum-item name="MakeAsh">
            <item-attr name="caption" value="Make Ash"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="ASH"/>
            <item-attr name="skill" value="WOOD_BURNING"/>
        </enum-item>
        <enum-item name="MakeLye">
            <item-attr name="caption" value="Make Lye"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="LIQUID_MISC"/>
            <item-attr name="material" value="LYE"/>
            <item-attr name="skill" value="LYE_MAKING"/>
        </enum-item>
        <enum-item name="MakePotashFromLye">
            <item-attr name="caption" value="Make Potash From Lye"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="POTASH"/>
            <item-attr name="skill" value="POTASH_MAKING"/>
        </enum-item>

        -- 190

        <enum-item name="FertilizeField">
            <item-attr name="caption" value="Fertilize Field"/>
        </enum-item>
        <enum-item name="MakePotashFromAsh">
            <item-attr name="caption" value="Make Potash From Ash"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="BAR"/>
            <item-attr name="material" value="POTASH"/>
            <item-attr name="skill" value="POTASH_MAKING"/>
        </enum-item>
        <enum-item name="DyeThread">
            <item-attr name="caption" value="Dye Thread"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="DYER"/>
        </enum-item>
        <enum-item name="DyeCloth">
            <item-attr name="caption" value="Dye Cloth"/>
            <item-attr name="type" value="Improvement"/>
            <item-attr name="skill" value="DYER"/>
        </enum-item>
        <enum-item name="SewImage">
            <item-attr name="caption" value="Sew Image"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>
        <enum-item name="MakePipeSection">
            <item-attr name="caption" value="Make Pipe Section"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="PIPE_SECTION"/>
        </enum-item>
        <enum-item name="OperatePump">
            <item-attr name="caption" value="Operate Pump"/>
            <item-attr name="skill" value="OPERATE_PUMP"/>
        </enum-item>
        <enum-item name="ManageWorkOrders">
            <item-attr name="caption" value="Manage Work Orders"/>
            <item-attr name="skill" value="ORGANIZATION"/>
        </enum-item>
        <enum-item name="UpdateStockpileRecords">
            <item-attr name="caption" value="Update Stockpile Records"/>
            <item-attr name="skill" value="RECORD_KEEPING"/>
        </enum-item>
        <enum-item name="TradeAtDepot">
            <item-attr name="caption" value="Trade at Depot"/>
            <item-attr name="skill" value="APPRAISAL"/>
        </enum-item>

        -- 200

        <enum-item name="ConstructHatchCover">
            <item-attr name="caption" value="Construct Hatch Cover"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="HATCH_COVER"/>
        </enum-item>
        <enum-item name="ConstructGrate">
            <item-attr name="caption" value="Construct Grate"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="GRATE"/>
        </enum-item>
        <enum-item name="RemoveStairs">
            <item-attr name="caption" value="Remove Stairs/Ramps"/>
            <item-attr name="type" value="Digging"/>
            <item-attr name="skill" value="MINING"/>
        </enum-item>
        <enum-item name="ConstructQuern">
            <item-attr name="caption" value="Construct Quern"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="QUERN"/>
        </enum-item>
        <enum-item name="ConstructMillstone">
            <item-attr name="caption" value="Construct Millstone"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="MILLSTONE"/>
        </enum-item>
        <enum-item name="ConstructSplint">
            <item-attr name="caption" value="Construct Splint"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SPLINT"/>
        </enum-item>
        <enum-item name="ConstructCrutch">
            <item-attr name="caption" value="Construct Crutch"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="CRUTCH"/>
        </enum-item>
        <enum-item name="ConstructTractionBench">
            <item-attr name="caption" value="Construct Traction Bench"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TRACTION_BENCH"/>
            <item-attr name="skill" value="MECHANICS"/>
        </enum-item>
        <enum-item name="CleanSelf">
            <item-attr name="caption" value="Clean Self"/>
            <item-attr name="type" value="TidyUp"/>
        </enum-item>
        <enum-item name="BringCrutch">
            <item-attr name="caption" value="Bring Crutch"/>
            <item-attr name="type" value="Medicine"/>
        </enum-item>

        -- 210

        <enum-item name="ApplyCast">
            <item-attr name="caption" value="Apply Cast"/>
            <item-attr name="type" value="Medicine"/>
            <item-attr name="skill" value="SET_BONE"/>
        </enum-item>
        <enum-item name="CustomReaction">
            <item-attr name="caption" value="Custom Reaction"/>
        </enum-item>
        <enum-item name="ConstructSlab">
            <item-attr name="caption" value="Construct Slab"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="SLAB"/>
        </enum-item>
        <enum-item name="EngraveSlab">
            <item-attr name="caption" value="Engrave Memorial Slab"/>
            <item-attr name="type" value="Improvement"/>
        </enum-item>
        <enum-item name="ShearCreature">
            <item-attr name="caption" value="Shear Creature"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="item" value="CORPSEPIECE"/>
            <item-attr name="material" value="yarn"/>
            <item-attr name="skill" value="SHEARING"/>
        </enum-item>
        <enum-item name="SpinThread">
            <item-attr name="caption" value="Spin Thread"/>
        </enum-item>
        <enum-item name="PenLargeAnimal">
            <item-attr name="caption" value="Pen/Pasture Large Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="PenSmallAnimal">
            <item-attr name="caption" value="Pen/Pasture Small Animal"/>
            <item-attr name="type" value="UnitHandling"/>
        </enum-item>
        <enum-item name="MakeTool">
            <item-attr name="caption" value="Make Tool"/>
            <item-attr name="type" value="Manufacture"/>
            <item-attr name="item" value="TOOL"/>
            <item-attr name="skill_wood" value="WOODCRAFT"/>
            <item-attr name="skill_stone" value="STONECRAFT"/>
        </enum-item>
        <enum-item name="CollectClay">
            <item-attr name="caption" value="Collect Clay"/>
            <item-attr name="type" value="Gathering"/>
            <item-attr name="item" value="BOULDER"/>
            <item-attr name="material" value="clay"/>
        </enum-item>

        -- 220

        <enum-item name="InstallColonyInHive">
            <item-attr name="caption" value="Install Colony In Hive"/>
        </enum-item>
        <enum-item name="CollectHiveProducts">
            <item-attr name="caption" value="Collect Hive Products"/>
            <item-attr name="type" value="Gathering"/>
        </enum-item>
        <enum-item name="CauseTrouble">
            <item-attr name="caption" value="Cause Trouble"/>
            <item-attr name="type" value="Crime"/>
        </enum-item>
        <enum-item name="DrinkBlood" comment="??">
            <item-attr name="caption" value="On Break"/>
            <item-attr name="type" value="Crime"/>
        </enum-item>
        <enum-item name="ReportCrime">
            <item-attr name="caption" value="Report Crime"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="ExecuteCriminal">
            <item-attr name="caption" value="Execute Criminal"/>
            <item-attr name="type" value="LawEnforcement"/>
        </enum-item>
        <enum-item name="TrainAnimal">
            <item-attr name="caption" value="Train Animal"/>
            <item-attr name="type" value="UnitHandling"/>
            <item-attr name="skill" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="CarveTrack">
            <item-attr name="caption" value="Carve Track"/>
            <item-attr name="type" value="Building"/>
        </enum-item>
        <enum-item name="PushTrackVehicle">
            <item-attr name="caption" value="Push Track Vehicle"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
        <enum-item name="PlaceTrackVehicle">
            <item-attr name="caption" value="Place Track Vehicle"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>

        -- 230

        <enum-item name="StoreItemInVehicle">
            <item-attr name="caption" value="Store Item in Vehicle"/>
            <item-attr name="type" value="Hauling"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_material_category" base-type="uint32_t">
        <ld:field name="plant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wood" comment="wood log" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cloth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="silk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="leather" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="shell" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wood2" comment="wood material" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="soap" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tooth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="horn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pearl" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="yarn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="dfhack_material_category" base-type="uint32_t">
        <comment>
            An extended version of job_material_category,
            for use in some plugins, like workflow.
        </comment>
        
        <ld:field name="plant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cloth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="silk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="leather" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="shell" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wood2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="soap" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tooth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="horn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pearl" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="yarn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        
        <ld:field name="metal" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sand" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="glass" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="clay" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="milk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_list_link">
        <code-helper name="describe">(describe-obj $.item)</code-helper>
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_flags" base-type="uint32_t">
        <ld:field name="repeat" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="suspend" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="working" comment="not for food, or store in sp" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fetching" comment="Actually going out to bring; corresponds to items-&gt;is_fetching" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="special" comment="Sleep/Drink/Eat/Clean; cannot be aborted via the ui" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bringing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1">
            <comment>
                When actually carrying non-last item to the workshop.
                If last, 'working' is used instead.
            </comment>
        </ld:field>
        <ld:field name="item_lost" comment="set when a Hauled item is removed; causes cancel" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="noise" count="2" comment="on the sleep job causes thoughts" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        --
        <ld:field name="by_manager" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="store_item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="quality" count="3" comment="set by improvement code" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="specific_dropoff" comment="for some jobs, blocks auto-restockpiling of the hauled item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="on_break" comment="job displayed as On Break" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_subtype_surgery">
        <enum-item name="Surgery"/>
        <enum-item name="StopBleeding"/>
        <enum-item name="RepairCompoundFracture"/>
        <enum-item name="RemoveRottenTissue"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job" key-field="id">
        <ld:field name="id" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="list_link" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>
        <ld:field ld:subtype="enum" name="job_type" base-type="int16_t" type-name="job_type" ld:level="1" ld:meta="global"/>
        <ld:field name="job_subtype" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>   surgery only ?

        <code-helper name="describe">$.job_type</code-helper>

        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="completion_timer" init-value="-1" comment="-1 every time unit.counters.job_counter is below 0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk4" comment="garbage, but serialized" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field name="flags" type-name="job_flags" ld:level="1" ld:meta="global"/>

        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk5" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" comment="for Bait Trap jobs" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" init-value="-1" comment="for StoreInStockpile: hauler_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        -- For building construction, bit 0 marks if location was updated:
        <ld:field name="item_category" type-name="stockpile_group_set" ld:level="1" ld:meta="global"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_category" type-name="job_material_category" ld:level="1" ld:meta="global"/>

        <ld:field name="reaction_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="expire_timer" comment="for stockpiling, +1 per 50 ticks if no worker; del when 20" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="recheck_cntdn" comment="for process_jobs" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="wait_timer" comment="for units to leave build sites; to recheck stockpiles" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk11" init-value="-1" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" pointer-type="job_item_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="job_item_ref"><ld:item ld:level="3" ld:meta="global" type-name="job_item_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" pointer-type="specific_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="specific_ref"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="job_items" pointer-type="job_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="job_item"><ld:item ld:level="3" ld:meta="global" type-name="job_item"/></ld:item></ld:field>

        <ld:field name="guide_path" type-name="coord_path" comment="v0.34.08" ld:level="1" ld:meta="global"/>
        <ld:field name="cur_path_index" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_item_ref">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field ld:subtype="enum" base-type="int32_t" name="role" ld:level="1" ld:meta="compound" ld:typedef-name="T_role">
            <enum-item/>
            <enum-item name="Reagent"/>
            <enum-item name="Hauled"/>
            <enum-item name="LinkToTarget"/>   used when linking a lever to a building, not sure if swapped
            <enum-item name="LinkToTrigger"/>
            <enum-item/>
            <enum-item name="TargetContainer"/>
            <enum-item name="QueuedContainer"/>     queued to be put in a container
            <enum-item name="PushHaulVehicle"/>     wheelbarrow
        </ld:field>
        <ld:field name="is_fetching" comment="0 immediately once taken to be brought" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="job_item_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_item_flags1" base-type="uint32_t">
        <ld:field name="improvable" comment="vtable[155]:eax,-1,-1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="butcherable" comment="(call 0074c6d0)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="millable" comment="vtable[79]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="allow_buryable" comment="ALLOW items with flag &quot;dead_dwarf&quot;" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unrotten" comment="check for item flag &quot;rotten&quot;" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="undisturbed" comment="check for item flag &quot;spider_web&quot;" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="collected" comment="check for item flag &quot;spider_web&quot;" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sharpenable" comment="vtable[25]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="murdered" comment="check for item flag" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="distillable" comment="vtable[105],1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="empty" comment="(call 00753a40)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable" comment="vtable[80]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bag" comment="vtable[131]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cookable" comment="(call 00753fe0)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="extract_bearing_plant" comment="vtable[164]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="extract_bearing_fish" comment="vtable[181]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="extract_bearing_vermin" comment="vtable[182]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable_to_vial" comment="vtable[81]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable_to_bag" comment="vtable[82]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="processable_to_barrel" comment="vtable[83]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="solid" comment="vtable[74]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tameable_vermin" comment="vtable[104]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="nearby" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sand_bearing" comment="vtable[108]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="glass" comment="check for material flag IS_GLASS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="milk" comment="(call 00753d30 - check if material has CHEESE_MAT?)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="milkable" comment="vtable[107],1,1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="finished_goods" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ammo" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="furniture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="not_bin" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="lye_bearing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_item_flags2" base-type="uint32_t">
        <ld:field name="dye" comment="vtable[106]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dyeable" comment="vtable[159]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dyed" comment="vtable[161]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sewn_imageless" comment="vtable[162]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="glass_making" comment="vtable[26]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="screw" comment="vtable[46]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="building_material" comment="vtable[47]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fire_safe" comment="vtable[48],1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="magma_safe" comment="vtable[48],2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="deep_material" comment="check for inorganic material flag DEEP" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="melt_designated" comment="check for item flag &quot;melt&quot;" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="non_economic" comment="(call 0076be60)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="allow_melt_dump" comment="item can be designated for melting or dumping" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="allow_artifact" comment="item can be artifact" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="plant" comment="check if material is a PLANT_MAT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="silk" comment="check for material flag SILK" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="leather" comment="check for material flag LEATHER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bone" comment="check for material flag BONE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="shell" comment="check for material flag SHELL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="totemable" comment="vtable[158]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="horn" comment="check for material flag HORN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pearl" comment="check for material flag PEARL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="plaster_containing" comment="vtable[17]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="soap" comment="check for material flag SOAP" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="body_part" comment="itemtype CORPSE or CORPSEPIECE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ivory_tooth" comment="check for material flag TOOTH" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="lye_milk_free" comment="(call 00759110)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blunt" comment="vtable[157]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unengraved" comment="vtable[214]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hair_wool" comment="??? (pretty sure this is [ANY_STRAND_TISSUE])" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="yarn" comment="check for material flag YARN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="job_item_flags3" base-type="uint32_t">
        <ld:field name="unimproved" comment="vtable[176]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="any_raw_material" comment="itemtype BAR, BOULDER, POWDER_MISC, or GLOB" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="non_absorbent" comment="vtable[215]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="non_pressed" comment="vtable[91]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="allow_liquid_powder" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="any_craft" comment="FIGURINE, AMULET, SCEPTER, CROWN, RING, EARRING, BRACLET" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hard" comment="check for material flag ITEMS_HARD" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="food_storage" comment="vtable[15]" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_item">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags1" type-name="job_item_flags1" ld:level="1" ld:meta="global"/>

        <ld:field name="quantity" init-value="1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="vector_id" type-name="job_item_vector_id" init-value="IN_PLAY" ld:level="1" ld:meta="global"/>

        <ld:field name="flags2" type-name="job_item_flags2" ld:level="1" ld:meta="global"/>
        <ld:field name="flags3" type-name="job_item_flags3" ld:level="1" ld:meta="global"/>
        <ld:field name="flags4" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="flags5" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        -- Custom:
        <ld:field name="metal_ore" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="reaction_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="has_material_reaction_product" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="min_dimension" init-value="-1" comment="pure guess by context" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="reagent_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="contains" comment="used with custom reactions" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="reaction_id" ref-target="reaction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="has_tool_use" type-name="tool_uses" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="job_item_filter">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags1" type-name="job_item_flags1" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="pointer" name="item_vector" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:item>
        </ld:field>

        <ld:field name="use_mat_index" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="flags2" type-name="job_item_flags2" ld:level="1" ld:meta="global"/>
        <ld:field name="use_flags2" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="flags3" type-name="job_item_flags3" ld:level="1" ld:meta="global"/>
        <ld:field name="use_flags3" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="flags4" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="use_flags4" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="flags5" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="use_flags5" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="reaction_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="has_material_reaction_product" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="metal_ore" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="use_metal_ore" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="use_reaction_class" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="use_reaction_product" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="min_dimension" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="reaction_id" ref-target="reaction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contains" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="use_contains" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="has_tool_use" type-name="tool_uses" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="has_melee_skill" type-name="job_skill" comment="v0.34.01-02" ld:level="1" ld:meta="global"/>

        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>

        <ld:field name="unk_74" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="burrows" type-name="int32_t" ref-target="burrow" ld:is-container="true"><ld:item ref-target="burrow" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="use_burrows" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="pointer" name="take_from" comment="v0.34.08" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="manager_order">
        <ld:field ld:subtype="enum" name="job_type" base-type="int16_t" type-name="job_type" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="reaction_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="item_category" type-name="stockpile_group_set" ld:level="1" ld:meta="global"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_category" type-name="job_material_category" ld:level="1" ld:meta="global"/>

        <ld:field name="amount_left" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="amount_total" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="is_validated" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="manager_order_template">
        <ld:field ld:subtype="enum" name="job_type" base-type="int16_t" type-name="job_type" ld:level="1" ld:meta="global"/>
        <ld:field name="reaction_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item_category" type-name="stockpile_group_set" ld:level="1" ld:meta="global"/>
        <ld:field init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="material_category" type-name="job_material_category" ld:level="1" ld:meta="global"/>
        <ld:field init-value="1" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="guild_id">
        <enum-item name="None" value="-1"/>
        <enum-item name="Miners"/>
        <enum-item name="Carpenters"/>
        <enum-item name="Masons"/>
        <enum-item name="Metalsmiths"/>
        <enum-item name="Jewelers"/>
        <enum-item name="Craftsmen"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="mandate">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field name="mode" comment="0 export, 1 make, 2 guild jobs" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="amount_total" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="amount_remaining" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="timeout_counter" comment="counts once per 10 frames" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="timeout_limit" comment="once counter passes limit, mandate ends" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="unk4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="training_assignment" instance-vector="$global.ui.equipment.training_assignments" key-field="animal_id">
        <ld:field name="animal_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="trainer_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" base-type="int32_t" name="auto_mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_auto_mode">
            <enum-item name="None"/>
            <enum-item name="Any"/>
            <enum-item name="AnyUnassigned"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_demand">
        <ld:field name="unk_0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="place" ld:level="1" ld:meta="compound" ld:typedef-name="T_place">
            <enum-item name="Office"/>
            <enum-item name="Bedroom"/>
            <enum-item name="DiningRoom"/>
            <enum-item name="Tomb"/>
        </ld:field>

        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="timeout_counter" comment="counts once per 10 frames" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="timeout_limit" comment="once counter passes limit, mandate ends" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="interface_key" base-type="int32_t">
        <enum-item name="NONE" value="0"/>
        <enum-item name="SELECT"/>
        <enum-item name="SEC_SELECT"/>
        <enum-item name="DESELECT"/>
        <enum-item name="SELECT_ALL"/>
        <enum-item name="DESELECT_ALL"/>
        <enum-item name="LEAVESCREEN"/>
        <enum-item name="LEAVESCREEN_ALL"/>
        <enum-item name="CLOSE_MEGA_ANNOUNCEMENT"/>
        <enum-item name="OPTIONS"/>
        <enum-item name="OPTION_EXPORT"/>
        <enum-item name="HELP"/>
        <enum-item name="TOGGLE_FULLSCREEN"/>
        <enum-item name="MOVIES"/>
        <enum-item name="ZOOM_IN"/>
        <enum-item name="ZOOM_OUT"/>
        <enum-item name="ZOOM_TOGGLE"/>
        <enum-item name="ZOOM_RESET"/>
        <enum-item name="MOVIE_RECORD"/>
        <enum-item name="MOVIE_PLAY"/>
        <enum-item name="MOVIE_SAVE"/>
        <enum-item name="MOVIE_LOAD"/>
        <enum-item name="TOGGLE_TTF"/>
        <enum-item name="FPS_UP"/>
        <enum-item name="FPS_DOWN"/>
        <enum-item name="CHANGETAB"/>
        <enum-item name="SEC_CHANGETAB"/>
        <enum-item name="STANDARDSCROLL_UP"/>
        <enum-item name="STANDARDSCROLL_DOWN"/>
        <enum-item name="STANDARDSCROLL_LEFT"/>
        <enum-item name="STANDARDSCROLL_RIGHT"/>
        <enum-item name="STANDARDSCROLL_PAGEUP"/>
        <enum-item name="STANDARDSCROLL_PAGEDOWN"/>
        <enum-item name="SECONDSCROLL_UP"/>
        <enum-item name="SECONDSCROLL_DOWN"/>
        <enum-item name="SECONDSCROLL_PAGEUP"/>
        <enum-item name="SECONDSCROLL_PAGEDOWN"/>
        <enum-item name="CURSOR_UP"/>
        <enum-item name="CURSOR_DOWN"/>
        <enum-item name="CURSOR_LEFT"/>
        <enum-item name="CURSOR_RIGHT"/>
        <enum-item name="CURSOR_UPLEFT"/>
        <enum-item name="CURSOR_UPRIGHT"/>
        <enum-item name="CURSOR_DOWNLEFT"/>
        <enum-item name="CURSOR_DOWNRIGHT"/>
        <enum-item name="CURSOR_UP_FAST"/>
        <enum-item name="CURSOR_DOWN_FAST"/>
        <enum-item name="CURSOR_LEFT_FAST"/>
        <enum-item name="CURSOR_RIGHT_FAST"/>
        <enum-item name="CURSOR_UPLEFT_FAST"/>
        <enum-item name="CURSOR_UPRIGHT_FAST"/>
        <enum-item name="CURSOR_DOWNLEFT_FAST"/>
        <enum-item name="CURSOR_DOWNRIGHT_FAST"/>
        <enum-item name="CURSOR_UP_Z"/>
        <enum-item name="CURSOR_DOWN_Z"/>
        <enum-item name="CURSOR_UP_Z_AUX"/>
        <enum-item name="CURSOR_DOWN_Z_AUX"/>
        <enum-item name="MENU_CONFIRM"/>
        <enum-item name="SAVE_BINDINGS"/>
        <enum-item name="LOAD_BINDINGS"/>
        <enum-item name="MACRO_BREAK"/>
        <enum-item name="RECORD_MACRO"/>
        <enum-item name="PLAY_MACRO"/>
        <enum-item name="SAVE_MACRO"/>
        <enum-item name="LOAD_MACRO"/>
        <enum-item name="PREFIX"/>
        <enum-item name="OPTION1"/>
        <enum-item name="OPTION2"/>
        <enum-item name="OPTION3"/>
        <enum-item name="OPTION4"/>
        <enum-item name="OPTION5"/>
        <enum-item name="OPTION6"/>
        <enum-item name="OPTION7"/>
        <enum-item name="OPTION8"/>
        <enum-item name="OPTION9"/>
        <enum-item name="OPTION10"/>
        <enum-item name="OPTION11"/>
        <enum-item name="OPTION12"/>
        <enum-item name="OPTION13"/>
        <enum-item name="OPTION14"/>
        <enum-item name="OPTION15"/>
        <enum-item name="OPTION16"/>
        <enum-item name="OPTION17"/>
        <enum-item name="OPTION18"/>
        <enum-item name="OPTION19"/>
        <enum-item name="OPTION20"/>
        <enum-item name="SEC_OPTION1"/>
        <enum-item name="SEC_OPTION2"/>
        <enum-item name="SEC_OPTION3"/>
        <enum-item name="SEC_OPTION4"/>
        <enum-item name="SEC_OPTION5"/>
        <enum-item name="SEC_OPTION6"/>
        <enum-item name="SEC_OPTION7"/>
        <enum-item name="SEC_OPTION8"/>
        <enum-item name="SEC_OPTION9"/>
        <enum-item name="SEC_OPTION10"/>
        <enum-item name="SEC_OPTION11"/>
        <enum-item name="SEC_OPTION12"/>
        <enum-item name="SEC_OPTION13"/>
        <enum-item name="SEC_OPTION14"/>
        <enum-item name="SEC_OPTION15"/>
        <enum-item name="SEC_OPTION16"/>
        <enum-item name="SEC_OPTION17"/>
        <enum-item name="SEC_OPTION18"/>
        <enum-item name="SEC_OPTION19"/>
        <enum-item name="SEC_OPTION20"/>
        <enum-item name="CUSTOM_A"/>
        <enum-item name="CUSTOM_B"/>
        <enum-item name="CUSTOM_C"/>
        <enum-item name="CUSTOM_D"/>
        <enum-item name="CUSTOM_E"/>
        <enum-item name="CUSTOM_F"/>
        <enum-item name="CUSTOM_G"/>
        <enum-item name="CUSTOM_H"/>
        <enum-item name="CUSTOM_I"/>
        <enum-item name="CUSTOM_J"/>
        <enum-item name="CUSTOM_K"/>
        <enum-item name="CUSTOM_L"/>
        <enum-item name="CUSTOM_M"/>
        <enum-item name="CUSTOM_N"/>
        <enum-item name="CUSTOM_O"/>
        <enum-item name="CUSTOM_P"/>
        <enum-item name="CUSTOM_Q"/>
        <enum-item name="CUSTOM_R"/>
        <enum-item name="CUSTOM_S"/>
        <enum-item name="CUSTOM_T"/>
        <enum-item name="CUSTOM_U"/>
        <enum-item name="CUSTOM_V"/>
        <enum-item name="CUSTOM_W"/>
        <enum-item name="CUSTOM_X"/>
        <enum-item name="CUSTOM_Y"/>
        <enum-item name="CUSTOM_Z"/>
        <enum-item name="CUSTOM_SHIFT_A"/>
        <enum-item name="CUSTOM_SHIFT_B"/>
        <enum-item name="CUSTOM_SHIFT_C"/>
        <enum-item name="CUSTOM_SHIFT_D"/>
        <enum-item name="CUSTOM_SHIFT_E"/>
        <enum-item name="CUSTOM_SHIFT_F"/>
        <enum-item name="CUSTOM_SHIFT_G"/>
        <enum-item name="CUSTOM_SHIFT_H"/>
        <enum-item name="CUSTOM_SHIFT_I"/>
        <enum-item name="CUSTOM_SHIFT_J"/>
        <enum-item name="CUSTOM_SHIFT_K"/>
        <enum-item name="CUSTOM_SHIFT_L"/>
        <enum-item name="CUSTOM_SHIFT_M"/>
        <enum-item name="CUSTOM_SHIFT_N"/>
        <enum-item name="CUSTOM_SHIFT_O"/>
        <enum-item name="CUSTOM_SHIFT_P"/>
        <enum-item name="CUSTOM_SHIFT_Q"/>
        <enum-item name="CUSTOM_SHIFT_R"/>
        <enum-item name="CUSTOM_SHIFT_S"/>
        <enum-item name="CUSTOM_SHIFT_T"/>
        <enum-item name="CUSTOM_SHIFT_U"/>
        <enum-item name="CUSTOM_SHIFT_V"/>
        <enum-item name="CUSTOM_SHIFT_W"/>
        <enum-item name="CUSTOM_SHIFT_X"/>
        <enum-item name="CUSTOM_SHIFT_Y"/>
        <enum-item name="CUSTOM_SHIFT_Z"/>
        <enum-item name="CUSTOM_CTRL_A"/>
        <enum-item name="CUSTOM_CTRL_B"/>
        <enum-item name="CUSTOM_CTRL_C"/>
        <enum-item name="CUSTOM_CTRL_D"/>
        <enum-item name="CUSTOM_CTRL_E"/>
        <enum-item name="CUSTOM_CTRL_F"/>
        <enum-item name="CUSTOM_CTRL_G"/>
        <enum-item name="CUSTOM_CTRL_H"/>
        <enum-item name="CUSTOM_CTRL_I"/>
        <enum-item name="CUSTOM_CTRL_J"/>
        <enum-item name="CUSTOM_CTRL_K"/>
        <enum-item name="CUSTOM_CTRL_L"/>
        <enum-item name="CUSTOM_CTRL_M"/>
        <enum-item name="CUSTOM_CTRL_N"/>
        <enum-item name="CUSTOM_CTRL_O"/>
        <enum-item name="CUSTOM_CTRL_P"/>
        <enum-item name="CUSTOM_CTRL_Q"/>
        <enum-item name="CUSTOM_CTRL_R"/>
        <enum-item name="CUSTOM_CTRL_S"/>
        <enum-item name="CUSTOM_CTRL_T"/>
        <enum-item name="CUSTOM_CTRL_U"/>
        <enum-item name="CUSTOM_CTRL_V"/>
        <enum-item name="CUSTOM_CTRL_W"/>
        <enum-item name="CUSTOM_CTRL_X"/>
        <enum-item name="CUSTOM_CTRL_Y"/>
        <enum-item name="CUSTOM_CTRL_Z"/>
        <enum-item name="CUSTOM_ALT_A"/>
        <enum-item name="CUSTOM_ALT_B"/>
        <enum-item name="CUSTOM_ALT_C"/>
        <enum-item name="CUSTOM_ALT_D"/>
        <enum-item name="CUSTOM_ALT_E"/>
        <enum-item name="CUSTOM_ALT_F"/>
        <enum-item name="CUSTOM_ALT_G"/>
        <enum-item name="CUSTOM_ALT_H"/>
        <enum-item name="CUSTOM_ALT_I"/>
        <enum-item name="CUSTOM_ALT_J"/>
        <enum-item name="CUSTOM_ALT_K"/>
        <enum-item name="CUSTOM_ALT_L"/>
        <enum-item name="CUSTOM_ALT_M"/>
        <enum-item name="CUSTOM_ALT_N"/>
        <enum-item name="CUSTOM_ALT_O"/>
        <enum-item name="CUSTOM_ALT_P"/>
        <enum-item name="CUSTOM_ALT_Q"/>
        <enum-item name="CUSTOM_ALT_R"/>
        <enum-item name="CUSTOM_ALT_S"/>
        <enum-item name="CUSTOM_ALT_T"/>
        <enum-item name="CUSTOM_ALT_U"/>
        <enum-item name="CUSTOM_ALT_V"/>
        <enum-item name="CUSTOM_ALT_W"/>
        <enum-item name="CUSTOM_ALT_X"/>
        <enum-item name="CUSTOM_ALT_Y"/>
        <enum-item name="CUSTOM_ALT_Z"/>
        <enum-item name="WORLD_PARAM_TITLE"/>
        <enum-item name="WORLD_PARAM_ADD"/>
        <enum-item name="WORLD_PARAM_COPY"/>
        <enum-item name="WORLD_PARAM_DELETE"/>
        <enum-item name="WORLD_PARAM_NAME_RANDOM"/>
        <enum-item name="WORLD_PARAM_NAME_ENTER"/>
        <enum-item name="WORLD_PARAM_SEED_RANDOM"/>
        <enum-item name="WORLD_PARAM_SEED_ENTER"/>
        <enum-item name="WORLD_PARAM_LOAD"/>
        <enum-item name="WORLD_PARAM_SAVE"/>
        <enum-item name="WORLD_PARAM_DIM_X_UP"/>
        <enum-item name="WORLD_PARAM_DIM_X_DOWN"/>
        <enum-item name="WORLD_PARAM_DIM_Y_UP"/>
        <enum-item name="WORLD_PARAM_DIM_Y_DOWN"/>
        <enum-item name="WORLD_PARAM_SET"/>
        <enum-item name="WORLD_PARAM_INCREASE"/>
        <enum-item name="WORLD_PARAM_DECREASE"/>
        <enum-item name="WORLD_PARAM_ENTER_VALUE"/>
        <enum-item name="WORLD_PARAM_NULLIFY"/>
        <enum-item name="WORLD_PARAM_PRESET"/>
        <enum-item name="WORLD_PARAM_REJECT_CONTINUE"/>
        <enum-item name="WORLD_PARAM_REJECT_ABORT"/>
        <enum-item name="WORLD_PARAM_REJECT_ALLOW_THIS"/>
        <enum-item name="WORLD_PARAM_REJECT_ALLOW_ALL"/>
        <enum-item name="WORLD_GEN_CONTINUE"/>
        <enum-item name="WORLD_GEN_USE"/>
        <enum-item name="WORLD_GEN_ABORT"/>
        <enum-item name="WORLDGEN_EXPORT_MAP"/>
        <enum-item name="LEGENDS_EXPORT_MAP"/>
        <enum-item name="LEGENDS_EXPORT_XML"/>
        <enum-item name="LEGENDS_EXPORT_DETAILED_MAP"/>
        <enum-item name="LEGENDS_TOGGLE_CIVSITE"/>
        <enum-item name="LEGENDS_STRING_FILTER"/>
        <enum-item name="A_RETURN_TO_ARENA"/>
        <enum-item name="A_MOVE_N"/>
        <enum-item name="A_MOVE_S"/>
        <enum-item name="A_MOVE_E"/>
        <enum-item name="A_MOVE_W"/>
        <enum-item name="A_MOVE_NW"/>
        <enum-item name="A_MOVE_NE"/>
        <enum-item name="A_MOVE_SW"/>
        <enum-item name="A_MOVE_SE"/>
        <enum-item name="A_MOVE_SAME_SQUARE"/>
        <enum-item name="A_CARE_MOVE_N"/>
        <enum-item name="A_CARE_MOVE_S"/>
        <enum-item name="A_CARE_MOVE_E"/>
        <enum-item name="A_CARE_MOVE_W"/>
        <enum-item name="A_CARE_MOVE_NW"/>
        <enum-item name="A_CARE_MOVE_NE"/>
        <enum-item name="A_CARE_MOVE_SW"/>
        <enum-item name="A_CARE_MOVE_SE"/>
        <enum-item name="A_CARE_MOVE_UPDOWN"/>
        <enum-item name="A_MOVE_N_UP"/>
        <enum-item name="A_MOVE_S_UP"/>
        <enum-item name="A_MOVE_E_UP"/>
        <enum-item name="A_MOVE_W_UP"/>
        <enum-item name="A_MOVE_NW_UP"/>
        <enum-item name="A_MOVE_NE_UP"/>
        <enum-item name="A_MOVE_SW_UP"/>
        <enum-item name="A_MOVE_SE_UP"/>
        <enum-item name="A_MOVE_UP"/>
        <enum-item name="A_MOVE_N_DOWN"/>
        <enum-item name="A_MOVE_S_DOWN"/>
        <enum-item name="A_MOVE_E_DOWN"/>
        <enum-item name="A_MOVE_W_DOWN"/>
        <enum-item name="A_MOVE_NW_DOWN"/>
        <enum-item name="A_MOVE_NE_DOWN"/>
        <enum-item name="A_MOVE_SW_DOWN"/>
        <enum-item name="A_MOVE_SE_DOWN"/>
        <enum-item name="A_MOVE_DOWN"/>
        <enum-item name="A_MOVE_UP_AUX"/>
        <enum-item name="A_MOVE_DOWN_AUX"/>
        <enum-item name="A_COMBAT_ATTACK"/>
        <enum-item name="A_COMBAT_DODGE"/>
        <enum-item name="A_COMBAT_CHARGEDEF"/>
        <enum-item name="A_STATUS"/>
        <enum-item name="A_STATUS_WRESTLE"/>
        <enum-item name="A_STATUS_CUSTOMIZE"/>
        <enum-item name="A_STATUS_KILLS"/>
        <enum-item name="A_STATUS_HEALTH"/>
        <enum-item name="A_STATUS_ATT_SKILL"/>
        <enum-item name="A_STATUS_DESC"/>
        <enum-item name="A_CLEAR_ANNOUNCEMENTS"/>
        <enum-item name="A_SLEEP"/>
        <enum-item name="A_SLEEP_SLEEP"/>
        <enum-item name="A_SLEEP_WAIT"/>
        <enum-item name="A_SLEEP_DAWN"/>
        <enum-item name="A_WAIT"/>
        <enum-item name="A_ATTACK"/>
        <enum-item name="A_ATTACK_CONFIRM"/>
        <enum-item name="A_LOOK"/>
        <enum-item name="A_SEARCH"/>
        <enum-item name="A_TALK"/>
        <enum-item name="A_INTERACT"/>
        <enum-item name="A_ACTION"/>
        <enum-item name="A_ACTION_CREATE"/>
        <enum-item name="A_ACTION_BUTCHER"/>
        <enum-item name="A_ACTION_ABILITY"/>
        <enum-item name="A_ACTION_POWER"/>
        <enum-item name="A_INV_LOOK"/>
        <enum-item name="A_INV_REMOVE"/>
        <enum-item name="A_INV_WEAR"/>
        <enum-item name="A_INV_EATDRINK"/>
        <enum-item name="A_INV_PUTIN"/>
        <enum-item name="A_INV_DROP"/>
        <enum-item name="A_GROUND"/>
        <enum-item name="A_THROW"/>
        <enum-item name="A_SHOOT"/>
        <enum-item name="A_ANNOUNCEMENTS"/>
        <enum-item name="A_COMBAT"/>
        <enum-item name="A_MOVEMENT"/>
        <enum-item name="A_MOVEMENT_SWIM"/>
        <enum-item name="A_SNEAK"/>
        <enum-item name="A_CENTER"/>
        <enum-item name="A_COMPANIONS"/>
        <enum-item name="A_BUILDING"/>
        <enum-item name="A_TRAVEL"/>
        <enum-item name="A_TRAVEL_SLEEP"/>
        <enum-item name="A_TRAVEL_MAP"/>
        <enum-item name="A_TRAVEL_HIDE_INSTRUCTIONS"/>
        <enum-item name="A_DATE"/>
        <enum-item name="A_WEATHER"/>
        <enum-item name="A_TEMPERATURE"/>
        <enum-item name="A_STANCE"/>
        <enum-item name="A_ENTER_NAME"/>
        <enum-item name="A_CUST_NAME"/>
        <enum-item name="A_RANDOM_NAME"/>
        <enum-item name="A_CHANGE_GENDER"/>
        <enum-item name="A_END_TRAVEL"/>
        <enum-item name="A_TRAVEL_CLOUDS"/>
        <enum-item name="A_LOG"/>
        <enum-item name="A_TRAVEL_LOG"/>
        <enum-item name="A_LOG_TASKS"/>
        <enum-item name="A_LOG_ENTITIES"/>
        <enum-item name="A_LOG_SITES"/>
        <enum-item name="A_LOG_SUBREGIONS"/>
        <enum-item name="A_LOG_FEATURE_LAYERS"/>
        <enum-item name="A_LOG_ZOOM_CURRENT_LOCATION"/>
        <enum-item name="A_LOG_ZOOM_SELECTED"/>
        <enum-item name="A_LOG_LINE"/>
        <enum-item name="A_LOG_MAP"/>
        <enum-item name="A_BARTER_VIEW"/>
        <enum-item name="A_BARTER_CURRENCY_1"/>
        <enum-item name="A_BARTER_CURRENCY_2"/>
        <enum-item name="A_BARTER_TRADE"/>
        <enum-item name="SETUP_EMBARK"/>
        <enum-item name="SETUP_NAME_FORT"/>
        <enum-item name="SETUP_NAME_GROUP"/>
        <enum-item name="SETUP_RECLAIM"/>
        <enum-item name="SETUP_FIND"/>
        <enum-item name="SETUP_NOTES"/>
        <enum-item name="SETUP_NOTES_TAKE_NOTES"/>
        <enum-item name="SETUP_NOTES_DELETE_NOTE"/>
        <enum-item name="SETUP_NOTES_CHANGE_SYMBOL_SELECTION"/>
        <enum-item name="SETUP_NOTES_ADOPT_SYMBOL"/>
        <enum-item name="SETUP_LOCAL_Y_UP"/>
        <enum-item name="SETUP_LOCAL_Y_DOWN"/>
        <enum-item name="SETUP_LOCAL_X_UP"/>
        <enum-item name="SETUP_LOCAL_X_DOWN"/>
        <enum-item name="SETUP_LOCAL_Y_MUP"/>
        <enum-item name="SETUP_LOCAL_Y_MDOWN"/>
        <enum-item name="SETUP_LOCAL_X_MUP"/>
        <enum-item name="SETUP_LOCAL_X_MDOWN"/>
        <enum-item name="SETUP_BIOME_1"/>
        <enum-item name="SETUP_BIOME_2"/>
        <enum-item name="SETUP_BIOME_3"/>
        <enum-item name="SETUP_BIOME_4"/>
        <enum-item name="SETUP_BIOME_5"/>
        <enum-item name="SETUP_BIOME_6"/>
        <enum-item name="SETUP_BIOME_7"/>
        <enum-item name="SETUP_BIOME_8"/>
        <enum-item name="SETUP_BIOME_9"/>
        <enum-item name="CHOOSE_NAME_RANDOM"/>
        <enum-item name="CHOOSE_NAME_CLEAR"/>
        <enum-item name="CHOOSE_NAME_TYPE"/>
        <enum-item name="SETUPGAME_NEW"/>
        <enum-item name="SETUPGAME_VIEW"/>
        <enum-item name="SETUPGAME_CUSTOMIZE_UNIT"/>
        <enum-item name="SETUPGAME_SAVE_PROFILE"/>
        <enum-item name="SETUPGAME_SAVE_PROFILE_ABORT"/>
        <enum-item name="SETUPGAME_SAVE_PROFILE_GO"/>
        <enum-item name="SETUPGAME_VIEW_PROFILE_PROBLEMS"/>
        <enum-item name="BUILDJOB_ADD"/>
        <enum-item name="BUILDJOB_CANCEL"/>
        <enum-item name="BUILDJOB_PROMOTE"/>
        <enum-item name="BUILDJOB_REPEAT"/>
        <enum-item name="BUILDJOB_SUSPEND"/>
        <enum-item name="BUILDJOB_WORKSHOP_PROFILE"/>
        <enum-item name="BUILDJOB_WELL_FREE"/>
        <enum-item name="BUILDJOB_WELL_SIZE"/>
        <enum-item name="BUILDJOB_TARGET_FREE"/>
        <enum-item name="BUILDJOB_TARGET_SIZE"/>
        <enum-item name="BUILDJOB_TARGET_DOWN"/>
        <enum-item name="BUILDJOB_TARGET_UP"/>
        <enum-item name="BUILDJOB_TARGET_RIGHT"/>
        <enum-item name="BUILDJOB_TARGET_LEFT"/>
        <enum-item name="BUILDJOB_STATUE_ASSIGN"/>
        <enum-item name="BUILDJOB_STATUE_FREE"/>
        <enum-item name="BUILDJOB_STATUE_SIZE"/>
        <enum-item name="BUILDJOB_CAGE_JUSTICE"/>
        <enum-item name="BUILDJOB_CAGE_FREE"/>
        <enum-item name="BUILDJOB_CAGE_SIZE"/>
        <enum-item name="BUILDJOB_CAGE_ASSIGN_OCC"/>
        <enum-item name="BUILDJOB_CAGE_WATER"/>
        <enum-item name="BUILDJOB_CAGE_ASSIGN"/>
        <enum-item name="BUILDJOB_CHAIN_ASSIGN_OCC"/>
        <enum-item name="BUILDJOB_CHAIN_JUSTICE"/>
        <enum-item name="BUILDJOB_CHAIN_ASSIGN"/>
        <enum-item name="BUILDJOB_CHAIN_FREE"/>
        <enum-item name="BUILDJOB_CHAIN_SIZE"/>
        <enum-item name="BUILDJOB_SIEGE_FIRING"/>
        <enum-item name="BUILDJOB_SIEGE_ORIENT"/>
        <enum-item name="BUILDJOB_DOOR_INTERNAL"/>
        <enum-item name="BUILDJOB_DOOR_LOCK"/>
        <enum-item name="BUILDJOB_DOOR_AJAR"/>
        <enum-item name="BUILDJOB_COFFIN_ASSIGN"/>
        <enum-item name="BUILDJOB_COFFIN_FREE"/>
        <enum-item name="BUILDJOB_COFFIN_SIZE"/>
        <enum-item name="BUILDJOB_COFFIN_BURIAL"/>
        <enum-item name="BUILDJOB_COFFIN_CIV"/>
        <enum-item name="BUILDJOB_COFFIN_PET"/>
        <enum-item name="BUILDJOB_CHAIR_ASSIGN"/>
        <enum-item name="BUILDJOB_CHAIR_FREE"/>
        <enum-item name="BUILDJOB_CHAIR_SIZE"/>
        <enum-item name="BUILDJOB_TABLE_ASSIGN"/>
        <enum-item name="BUILDJOB_TABLE_HALL"/>
        <enum-item name="BUILDJOB_TABLE_FREE"/>
        <enum-item name="BUILDJOB_TABLE_SIZE"/>
        <enum-item name="BUILDJOB_BED_ASSIGN"/>
        <enum-item name="BUILDJOB_BED_FREE"/>
        <enum-item name="BUILDJOB_BED_BARRACKS"/>
        <enum-item name="BUILDJOB_BED_DORMITORY"/>
        <enum-item name="BUILDJOB_BED_RENT"/>
        <enum-item name="BUILDJOB_BED_SIZE"/>
        <enum-item name="BUILDJOB_BED_NAME"/>
        <enum-item name="BUILDJOB_BED_SLEEP"/>
        <enum-item name="BUILDJOB_BED_TRAIN"/>
        <enum-item name="BUILDJOB_BED_INDIV_EQ"/>
        <enum-item name="BUILDJOB_BED_SQUAD_EQ"/>
        <enum-item name="BUILDJOB_BED_POSITION"/>
        <enum-item name="BUILDJOB_DEPOT_BRING"/>
        <enum-item name="BUILDJOB_DEPOT_TRADE"/>
        <enum-item name="BUILDJOB_DEPOT_REQUEST_TRADER"/>
        <enum-item name="BUILDJOB_DEPOT_BROKER_ONLY"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_NONE"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_MEAT"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_FISH"/>
        <enum-item name="BUILDJOB_ANIMALTRAP_BAIT_GEM"/>
        <enum-item name="BUILDJOB_FARM_FALLOW"/>
        <enum-item name="BUILDJOB_FARM_FERTILIZE"/>
        <enum-item name="BUILDJOB_FARM_SEASFERT"/>
        <enum-item name="BUILDJOB_FARM_SPRING"/>
        <enum-item name="BUILDJOB_FARM_SUMMER"/>
        <enum-item name="BUILDJOB_FARM_AUTUMN"/>
        <enum-item name="BUILDJOB_FARM_WINTER"/>
        <enum-item name="BUILDJOB_RACK_MAT_BONE"/>
        <enum-item name="BUILDJOB_RACK_MAT_BRONZE"/>
        <enum-item name="BUILDJOB_RACK_MAT_COPPER"/>
        <enum-item name="BUILDJOB_RACK_MAT_IRON"/>
        <enum-item name="BUILDJOB_RACK_MAT_STEEL"/>
        <enum-item name="BUILDJOB_RACK_MAT_WOOD"/>
        <enum-item name="BUILDJOB_RACK_MAT_METAL"/>
        <enum-item name="BUILDJOB_STAND_MAT_BONE"/>
        <enum-item name="BUILDJOB_STAND_MAT_LEATHER"/>
        <enum-item name="BUILDJOB_STAND_MAT_COPPER"/>
        <enum-item name="BUILDJOB_STAND_MAT_BRONZE"/>
        <enum-item name="BUILDJOB_STAND_MAT_STEEL"/>
        <enum-item name="BUILDJOB_STAND_MAT_IRON"/>
        <enum-item name="BUILDJOB_STAND_MAT_WOOD"/>
        <enum-item name="BUILDJOB_STAND_MAT_METAL"/>
        <enum-item name="BUILDJOB_RACKSTAND_ASSIGN"/>
        <enum-item name="BUILDJOB_RACKSTAND_FREE"/>
        <enum-item name="BUILDJOB_RACKSTAND_SIZE"/>
        <enum-item name="BUILDJOB_RACKSTAND_ITEM"/>
        <enum-item name="BUILDJOB_RACKSTAND_MAT"/>
        <enum-item name="BUILDJOB_RACKSTAND_DEFAULTS1"/>
        <enum-item name="BUILDJOB_RACKSTAND_KILL1"/>
        <enum-item name="BUILDJOB_RACKSTAND_DEFAULTS2"/>
        <enum-item name="BUILDJOB_RACKSTAND_KILL2"/>
        <enum-item name="HOTKEY_BUILDING_ARMORSTAND"/>
        <enum-item name="HOTKEY_BUILDING_BED"/>
        <enum-item name="HOTKEY_BUILDING_CHAIR"/>
        <enum-item name="HOTKEY_BUILDING_COFFIN"/>
        <enum-item name="HOTKEY_BUILDING_DOOR"/>
        <enum-item name="HOTKEY_BUILDING_FLOODGATE"/>
        <enum-item name="HOTKEY_BUILDING_HATCH"/>
        <enum-item name="HOTKEY_BUILDING_GRATE_WALL"/>
        <enum-item name="HOTKEY_BUILDING_GRATE_FLOOR"/>
        <enum-item name="HOTKEY_BUILDING_BARS_VERTICAL"/>
        <enum-item name="HOTKEY_BUILDING_BARS_FLOOR"/>
        <enum-item name="HOTKEY_BUILDING_CABINET"/>
        <enum-item name="HOTKEY_BUILDING_BOX"/>
        <enum-item name="HOTKEY_BUILDING_KENNEL"/>
        <enum-item name="HOTKEY_BUILDING_FARMPLOT"/>
        <enum-item name="HOTKEY_BUILDING_WEAPONRACK"/>
        <enum-item name="HOTKEY_BUILDING_STATUE"/>
        <enum-item name="HOTKEY_BUILDING_TABLE"/>
        <enum-item name="HOTKEY_BUILDING_ROAD_DIRT"/>
        <enum-item name="HOTKEY_BUILDING_ROAD_PAVED"/>
        <enum-item name="HOTKEY_BUILDING_BRIDGE"/>
        <enum-item name="HOTKEY_BUILDING_WELL"/>
        <enum-item name="HOTKEY_BUILDING_SIEGEENGINE"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE"/>
        <enum-item name="HOTKEY_BUILDING_WINDOW_GLASS"/>
        <enum-item name="HOTKEY_BUILDING_WINDOW_GEM"/>
        <enum-item name="HOTKEY_BUILDING_SHOP"/>
        <enum-item name="HOTKEY_BUILDING_ANIMALTRAP"/>
        <enum-item name="HOTKEY_BUILDING_CHAIN"/>
        <enum-item name="HOTKEY_BUILDING_CAGE"/>
        <enum-item name="HOTKEY_BUILDING_TRADEDEPOT"/>
        <enum-item name="HOTKEY_BUILDING_TRAP"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE"/>
        <enum-item name="HOTKEY_BUILDING_SUPPORT"/>
        <enum-item name="HOTKEY_BUILDING_ARCHERYTARGET"/>
        <enum-item name="HOTKEY_BUILDING_TRACTION_BENCH"/>
        <enum-item name="HOTKEY_BUILDING_SLAB"/>
        <enum-item name="HOTKEY_BUILDING_NEST_BOX"/>
        <enum-item name="HOTKEY_BUILDING_HIVE"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_SCREW_PUMP"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_WATER_WHEEL"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_WINDMILL"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_GEAR_ASSEMBLY"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_AXLE_VERTICAL"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_AXLE_HORIZONTAL"/>
        <enum-item name="HOTKEY_BUILDING_MACHINE_ROLLERS"/>
        <enum-item name="HOTKEY_BUILDING_SIEGEENGINE_BALLISTA"/>
        <enum-item name="HOTKEY_BUILDING_SIEGEENGINE_CATAPULT"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_STONE"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_WEAPON"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_LEVER"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_TRIGGER"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_CAGE"/>
        <enum-item name="HOTKEY_BUILDING_TRAP_SPIKE"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_WALL"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_FLOOR"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_RAMP"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_STAIR_UP"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_STAIR_DOWN"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_STAIR_UPDOWN"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_FORTIFICATION"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_TRACK"/>
        <enum-item name="HOTKEY_BUILDING_CONSTRUCTION_TRACK_STOP"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LEATHER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_QUERN"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_MILLSTONE"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LOOM"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_CLOTHES"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_BOWYER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_CARPENTER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_METALSMITH"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_LAVAMILL"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_JEWELER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_MASON"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_BUTCHER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_TANNER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_DYER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_CRAFTSMAN"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_SIEGE"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_MECHANIC"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_STILL"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_FARMER"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_KITCHEN"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_FISHERY"/>
        <enum-item name="HOTKEY_BUILDING_WORKSHOP_ASHERY"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_WOOD"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_SMELTER"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_GLASS"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_KILN"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_SMELTER_LAVA"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_GLASS_LAVA"/>
        <enum-item name="HOTKEY_BUILDING_FURNACE_KILN_LAVA"/>
        <enum-item name="HIVE_INSTALL_COLONY"/>
        <enum-item name="HIVE_GATHER_PRODUCTS"/>
        <enum-item name="BUILDING_DIM_Y_UP"/>
        <enum-item name="BUILDING_DIM_Y_DOWN"/>
        <enum-item name="BUILDING_DIM_X_UP"/>
        <enum-item name="BUILDING_DIM_X_DOWN"/>
        <enum-item name="BUILDING_ORIENT_UP"/>
        <enum-item name="BUILDING_ORIENT_LEFT"/>
        <enum-item name="BUILDING_ORIENT_RIGHT"/>
        <enum-item name="BUILDING_ORIENT_DOWN"/>
        <enum-item name="BUILDING_ORIENT_NONE"/>
        <enum-item name="BUILDING_VIEW_ITEM"/>
        <enum-item name="BUILDING_ADVANCE_STAGE"/>
        <enum-item name="BUILDING_EXPAND_CONTRACT"/>
        <enum-item name="BUILDING_TRIGGER_ENABLE_WATER"/>
        <enum-item name="BUILDING_TRIGGER_MIN_WATER_UP"/>
        <enum-item name="BUILDING_TRIGGER_MIN_WATER_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_MAX_WATER_UP"/>
        <enum-item name="BUILDING_TRIGGER_MAX_WATER_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_ENABLE_MAGMA"/>
        <enum-item name="BUILDING_TRIGGER_MIN_MAGMA_UP"/>
        <enum-item name="BUILDING_TRIGGER_MIN_MAGMA_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_MAX_MAGMA_UP"/>
        <enum-item name="BUILDING_TRIGGER_MAX_MAGMA_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_ENABLE_TRACK_CART"/>
        <enum-item name="BUILDING_TRIGGER_MIN_TRACK_CART_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_MIN_TRACK_CART_UP"/>
        <enum-item name="BUILDING_TRIGGER_MAX_TRACK_CART_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_MAX_TRACK_CART_UP"/>
        <enum-item name="BUILDING_TRIGGER_ENABLE_CREATURE"/>
        <enum-item name="BUILDING_TRIGGER_ENABLE_LOCALS"/>
        <enum-item name="BUILDING_TRIGGER_RESETS"/>
        <enum-item name="BUILDING_TRIGGER_MIN_SIZE_UP"/>
        <enum-item name="BUILDING_TRIGGER_MIN_SIZE_DOWN"/>
        <enum-item name="BUILDING_TRIGGER_MAX_SIZE_UP"/>
        <enum-item name="BUILDING_TRIGGER_MAX_SIZE_DOWN"/>
        <enum-item name="BUILDING_ROLLERS_SPEED_UP"/>
        <enum-item name="BUILDING_ROLLERS_SPEED_DOWN"/>
        <enum-item name="BUILDING_TRACK_STOP_FRICTION_UP"/>
        <enum-item name="BUILDING_TRACK_STOP_FRICTION_DOWN"/>
        <enum-item name="BUILDING_TRACK_STOP_DUMP"/>
        <enum-item name="DESTROYBUILDING"/>
        <enum-item name="SUSPENDBUILDING"/>
        <enum-item name="BUILDINGLIST_ZOOM_T"/>
        <enum-item name="BUILDINGLIST_ZOOM_Q"/>
        <enum-item name="HOTKEY_MAKE_ASH"/>
        <enum-item name="HOTKEY_MAKE_CHARCOAL"/>
        <enum-item name="HOTKEY_MELT_OBJECT"/>
        <enum-item name="HOTKEY_GLASS_GREEN"/>
        <enum-item name="HOTKEY_GLASS_CLEAR"/>
        <enum-item name="HOTKEY_GLASS_CRYSTAL"/>
        <enum-item name="HOTKEY_COLLECT_SAND"/>
        <enum-item name="HOTKEY_COLLECT_CLAY"/>
        <enum-item name="HOTKEY_GLASS_ROUGH"/>
        <enum-item name="HOTKEY_GLASS_ARMORSTAND"/>
        <enum-item name="HOTKEY_GLASS_BOX"/>
        <enum-item name="HOTKEY_GLASS_CABINET"/>
        <enum-item name="HOTKEY_GLASS_COFFIN"/>
        <enum-item name="HOTKEY_GLASS_FLOODGATE"/>
        <enum-item name="HOTKEY_GLASS_HATCH_COVER"/>
        <enum-item name="HOTKEY_GLASS_GRATE"/>
        <enum-item name="HOTKEY_GLASS_GOBLET"/>
        <enum-item name="HOTKEY_GLASS_TOY"/>
        <enum-item name="HOTKEY_GLASS_INSTRUMENT"/>
        <enum-item name="HOTKEY_GLASS_DOOR"/>
        <enum-item name="HOTKEY_GLASS_STATUE"/>
        <enum-item name="HOTKEY_GLASS_TABLE"/>
        <enum-item name="HOTKEY_GLASS_CAGE"/>
        <enum-item name="HOTKEY_GLASS_CHAIR"/>
        <enum-item name="HOTKEY_GLASS_BLOCKS"/>
        <enum-item name="HOTKEY_GLASS_FLASK"/>
        <enum-item name="HOTKEY_GLASS_WEAPONRACK"/>
        <enum-item name="HOTKEY_GLASS_WINDOW"/>
        <enum-item name="HOTKEY_ASHERY_LYE"/>
        <enum-item name="HOTKEY_ASHERY_POTASH"/>
        <enum-item name="HOTKEY_ASHERY_POTASH_DIRECT"/>
        <enum-item name="HOTKEY_CARPENTER_BARREL"/>
        <enum-item name="HOTKEY_CARPENTER_BLOCKS"/>
        <enum-item name="HOTKEY_CARPENTER_BUCKET"/>
        <enum-item name="HOTKEY_CARPENTER_TRAP_ANIMAL"/>
        <enum-item name="HOTKEY_CARPENTER_CAGE"/>
        <enum-item name="HOTKEY_CARPENTER_ARMORSTAND"/>
        <enum-item name="HOTKEY_CARPENTER_BED"/>
        <enum-item name="HOTKEY_CARPENTER_CHAIR"/>
        <enum-item name="HOTKEY_CARPENTER_COFFIN"/>
        <enum-item name="HOTKEY_CARPENTER_DOOR"/>
        <enum-item name="HOTKEY_CARPENTER_FLOODGATE"/>
        <enum-item name="HOTKEY_CARPENTER_HATCH_COVER"/>
        <enum-item name="HOTKEY_CARPENTER_GRATE"/>
        <enum-item name="HOTKEY_CARPENTER_CABINET"/>
        <enum-item name="HOTKEY_CARPENTER_BIN"/>
        <enum-item name="HOTKEY_CARPENTER_BOX"/>
        <enum-item name="HOTKEY_CARPENTER_WEAPONRACK"/>
        <enum-item name="HOTKEY_CARPENTER_TABLE"/>
        <enum-item name="HOTKEY_SIEGE_BALLISTA"/>
        <enum-item name="HOTKEY_SIEGE_CATAPULT"/>
        <enum-item name="HOTKEY_LEATHER_BOX"/>
        <enum-item name="HOTKEY_LEATHER_FLASK"/>
        <enum-item name="HOTKEY_LEATHER_SHIRT"/>
        <enum-item name="HOTKEY_LEATHER_CLOAK"/>
        <enum-item name="HOTKEY_LEATHER_BACKPACK"/>
        <enum-item name="HOTKEY_LEATHER_QUIVER"/>
        <enum-item name="HOTKEY_LEATHER_IMAGE"/>
        <enum-item name="HOTKEY_CLOTHES_MAT_PLANT"/>
        <enum-item name="HOTKEY_CLOTHES_MAT_SILK"/>
        <enum-item name="HOTKEY_CLOTHES_MAT_YARN"/>
        <enum-item name="HOTKEY_CLOTHES_SHIRT"/>
        <enum-item name="HOTKEY_CLOTHES_CLOAK"/>
        <enum-item name="HOTKEY_CLOTHES_BOX"/>
        <enum-item name="HOTKEY_CLOTHES_CHAIN"/>
        <enum-item name="HOTKEY_CLOTHES_IMAGE"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_STONE"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_WOOD"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_BONE"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_SHELL"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_TOOTH"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_HORN"/>
        <enum-item name="HOTKEY_CRAFTS_DEC_PEARL"/>
        <enum-item name="HOTKEY_CRAFTS_TOTEM"/>
        <enum-item name="HOTKEY_CRAFTS_CLOTH"/>
        <enum-item name="HOTKEY_CRAFTS_SILK"/>
        <enum-item name="HOTKEY_CRAFTS_YARN"/>
        <enum-item name="HOTKEY_CRAFTS_SEL_WOOD"/>
        <enum-item name="HOTKEY_CRAFTS_SEL_BONE"/>
        <enum-item name="HOTKEY_CRAFTS_SEL_SHELL"/>
        <enum-item name="HOTKEY_CRAFTS_SHELL"/>
        <enum-item name="HOTKEY_CRAFTS_TOOTH"/>
        <enum-item name="HOTKEY_CRAFTS_HORN"/>
        <enum-item name="HOTKEY_CRAFTS_PEARL"/>
        <enum-item name="HOTKEY_CRAFTS_BONE"/>
        <enum-item name="HOTKEY_CRAFTS_LEATHER"/>
        <enum-item name="HOTKEY_CRAFTS_SLAB"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_CRAFTS"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_GOBLET"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_INSTRUMENT"/>
        <enum-item name="HOTKEY_CRAFTS_MAT_TOY"/>
        <enum-item name="HOTKEY_SMITH_WEAPON"/>
        <enum-item name="HOTKEY_SMITH_ARMOR"/>
        <enum-item name="HOTKEY_SMITH_FURNITURE"/>
        <enum-item name="HOTKEY_SMITH_SIEGE"/>
        <enum-item name="HOTKEY_SMITH_TRAP"/>
        <enum-item name="HOTKEY_SMITH_OTHER"/>
        <enum-item name="HOTKEY_SMITH_METAL"/>
        <enum-item name="HOTKEY_ALCHEMIST_SOAP"/>
        <enum-item name="HOTKEY_STILL_BREW"/>
        <enum-item name="HOTKEY_STILL_EXTRACT"/>
        <enum-item name="HOTKEY_LOOM_COLLECT_SILK"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_CLOTH"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_SILK"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_YARN"/>
        <enum-item name="HOTKEY_LOOM_WEAVE_METAL"/>
        <enum-item name="HOTKEY_KITCHEN_COOK_2"/>
        <enum-item name="HOTKEY_KITCHEN_COOK_3"/>
        <enum-item name="HOTKEY_KITCHEN_COOK_4"/>
        <enum-item name="HOTKEY_KITCHEN_RENDER_FAT"/>
        <enum-item name="HOTKEY_FARMER_PROCESS"/>
        <enum-item name="HOTKEY_FARMER_PROCESS_VIAL"/>
        <enum-item name="HOTKEY_FARMER_PROCESS_BAG"/>
        <enum-item name="HOTKEY_FARMER_PROCESS_BARREL"/>
        <enum-item name="HOTKEY_FARMER_CHEESE"/>
        <enum-item name="HOTKEY_FARMER_MILK"/>
        <enum-item name="HOTKEY_FARMER_SHEAR_CREATURE"/>
        <enum-item name="HOTKEY_FARMER_SPIN_THREAD"/>
        <enum-item name="HOTKEY_MILL_MILL"/>
        <enum-item name="HOTKEY_KENNEL_CATCH_VERMIN"/>
        <enum-item name="HOTKEY_KENNEL_TAME_VERMIN"/>
        <enum-item name="HOTKEY_FISHERY_PROCESS"/>
        <enum-item name="HOTKEY_FISHERY_EXTRACT"/>
        <enum-item name="HOTKEY_FISHERY_CATCH"/>
        <enum-item name="HOTKEY_BUTCHER_BUTCHER"/>
        <enum-item name="HOTKEY_BUTCHER_EXTRACT"/>
        <enum-item name="HOTKEY_BUTCHER_CATCH"/>
        <enum-item name="HOTKEY_TANNER_TAN"/>
        <enum-item name="HOTKEY_DYER_THREAD"/>
        <enum-item name="HOTKEY_DYER_CLOTH"/>
        <enum-item name="HOTKEY_JEWELER_FURNITURE"/>
        <enum-item name="HOTKEY_JEWELER_FINISHED"/>
        <enum-item name="HOTKEY_JEWELER_AMMO"/>
        <enum-item name="HOTKEY_JEWELER_CUT"/>
        <enum-item name="HOTKEY_JEWELER_ENCRUST"/>
        <enum-item name="HOTKEY_MECHANIC_PARTS"/>
        <enum-item name="HOTKEY_MECHANIC_TRACTION_BENCH"/>
        <enum-item name="HOTKEY_MASON_ARMORSTAND"/>
        <enum-item name="HOTKEY_MASON_BLOCKS"/>
        <enum-item name="HOTKEY_MASON_CHAIR"/>
        <enum-item name="HOTKEY_MASON_COFFIN"/>
        <enum-item name="HOTKEY_MASON_DOOR"/>
        <enum-item name="HOTKEY_MASON_FLOODGATE"/>
        <enum-item name="HOTKEY_MASON_HATCH_COVER"/>
        <enum-item name="HOTKEY_MASON_GRATE"/>
        <enum-item name="HOTKEY_MASON_CABINET"/>
        <enum-item name="HOTKEY_MASON_BOX"/>
        <enum-item name="HOTKEY_MASON_STATUE"/>
        <enum-item name="HOTKEY_MASON_TABLE"/>
        <enum-item name="HOTKEY_MASON_WEAPONRACK"/>
        <enum-item name="HOTKEY_MASON_QUERN"/>
        <enum-item name="HOTKEY_MASON_MILLSTONE"/>
        <enum-item name="HOTKEY_MASON_SLAB"/>
        <enum-item name="HOTKEY_TRAP_BRIDGE"/>
        <enum-item name="HOTKEY_TRAP_DOOR"/>
        <enum-item name="HOTKEY_TRAP_FLOODGATE"/>
        <enum-item name="HOTKEY_TRAP_SPIKE"/>
        <enum-item name="HOTKEY_TRAP_HATCH"/>
        <enum-item name="HOTKEY_TRAP_GRATE_WALL"/>
        <enum-item name="HOTKEY_TRAP_GRATE_FLOOR"/>
        <enum-item name="HOTKEY_TRAP_BARS_VERTICAL"/>
        <enum-item name="HOTKEY_TRAP_BARS_FLOOR"/>
        <enum-item name="HOTKEY_TRAP_SUPPORT"/>
        <enum-item name="HOTKEY_TRAP_CHAIN"/>
        <enum-item name="HOTKEY_TRAP_CAGE"/>
        <enum-item name="HOTKEY_TRAP_GEAR_ASSEMBLY"/>
        <enum-item name="HOTKEY_TRAP_TRACK_STOP"/>
        <enum-item name="HOTKEY_TRAP_PULL_LEVER"/>
        <enum-item name="BUILDJOB_STOCKPILE_MASTER"/>
        <enum-item name="BUILDJOB_STOCKPILE_LINK_ANYWHERE"/>
        <enum-item name="BUILDJOB_STOCKPILE_GIVE_TO"/>
        <enum-item name="BUILDJOB_STOCKPILE_DELETE_CHILD"/>
        <enum-item name="BUILDJOB_STOCKPILE_SETTINGS"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_UP"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_DOWN"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_ZERO"/>
        <enum-item name="BUILDJOB_STOCKPILE_BARREL_MAX"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_UP"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_DOWN"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_ZERO"/>
        <enum-item name="BUILDJOB_STOCKPILE_BIN_MAX"/>
        <enum-item name="BUILDJOB_STOCKPILE_WHEELBARROW"/>
        <enum-item name="STOCKPILE_ANIMAL"/>
        <enum-item name="STOCKPILE_FOOD"/>
        <enum-item name="STOCKPILE_WEAPON"/>
        <enum-item name="STOCKPILE_ARMOR"/>
        <enum-item name="STOCKPILE_CUSTOM"/>
        <enum-item name="STOCKPILE_CUSTOM_SETTINGS"/>
        <enum-item name="STOCKPILE_FURNITURE"/>
        <enum-item name="STOCKPILE_GRAVEYARD"/>
        <enum-item name="STOCKPILE_REFUSE"/>
        <enum-item name="STOCKPILE_WOOD"/>
        <enum-item name="STOCKPILE_STONE"/>
        <enum-item name="STOCKPILE_GEM"/>
        <enum-item name="STOCKPILE_BARBLOCK"/>
        <enum-item name="STOCKPILE_CLOTH"/>
        <enum-item name="STOCKPILE_LEATHER"/>
        <enum-item name="STOCKPILE_AMMO"/>
        <enum-item name="STOCKPILE_COINS"/>
        <enum-item name="STOCKPILE_FINISHED"/>
        <enum-item name="STOCKPILE_NONE"/>
        <enum-item name="STOCKPILE_SETTINGS_ENABLE"/>
        <enum-item name="STOCKPILE_SETTINGS_DISABLE"/>
        <enum-item name="STOCKPILE_SETTINGS_PERMIT_ALL"/>
        <enum-item name="STOCKPILE_SETTINGS_FORBID_ALL"/>
        <enum-item name="STOCKPILE_SETTINGS_PERMIT_SUB"/>
        <enum-item name="STOCKPILE_SETTINGS_FORBID_SUB"/>
        <enum-item name="STOCKPILE_SETTINGS_SPECIFIC1"/>
        <enum-item name="STOCKPILE_SETTINGS_SPECIFIC2"/>
        <enum-item name="CIVZONE_REMOVE"/>
        <enum-item name="CIVZONE_REMOVE_ZONE"/>
        <enum-item name="CIVZONE_SHAPE"/>
        <enum-item name="CIVZONE_NEXT"/>
        <enum-item name="CIVZONE_WATER_SOURCE"/>
        <enum-item name="CIVZONE_FISH"/>
        <enum-item name="CIVZONE_DUMP"/>
        <enum-item name="CIVZONE_POND"/>
        <enum-item name="CIVZONE_HOSPITAL"/>
        <enum-item name="CIVZONE_SAND_COLLECT"/>
        <enum-item name="CIVZONE_CLAY_COLLECT"/>
        <enum-item name="CIVZONE_ACTIVE"/>
        <enum-item name="CIVZONE_MEETING"/>
        <enum-item name="CIVZONE_ANIMAL_TRAINING"/>
        <enum-item name="CIVZONE_PEN"/>
        <enum-item name="CIVZONE_PEN_OPTIONS"/>
        <enum-item name="CIVZONE_POND_OPTIONS"/>
        <enum-item name="CIVZONE_POND_WATER"/>
        <enum-item name="CIVZONE_HOSPITAL_OPTIONS"/>
        <enum-item name="STORES_VIEW"/>
        <enum-item name="STORES_ZOOM"/>
        <enum-item name="STORES_FORBID"/>
        <enum-item name="STORES_MELT"/>
        <enum-item name="STORES_DUMP"/>
        <enum-item name="STORES_HIDE"/>
        <enum-item name="PET_BUTCHER"/>
        <enum-item name="ANIMAL_SELECT_TRAINER"/>
        <enum-item name="ANIMAL_WAR_TRAINING"/>
        <enum-item name="ANIMAL_HUNTING_TRAINING"/>
        <enum-item name="KITCHEN_COOK"/>
        <enum-item name="KITCHEN_BREW"/>
        <enum-item name="ORDERS_AUTOFORBID"/>
        <enum-item name="ORDERS_FORBID_PROJECTILE"/>
        <enum-item name="ORDERS_FORBID_YOUR_CORPSE"/>
        <enum-item name="ORDERS_FORBID_YOUR_ITEMS"/>
        <enum-item name="ORDERS_FORBID_OTHER_CORPSE"/>
        <enum-item name="ORDERS_FORBID_OTHER_ITEMS"/>
        <enum-item name="ORDERS_REFUSE_GATHER"/>
        <enum-item name="ORDERS_REFUSE_OUTSIDE"/>
        <enum-item name="ORDERS_REFUSE_OUTSIDE_VERMIN"/>
        <enum-item name="ORDERS_REFUSE_DUMP_CORPSE"/>
        <enum-item name="ORDERS_REFUSE_DUMP_SKULL"/>
        <enum-item name="ORDERS_REFUSE_DUMP_BONE"/>
        <enum-item name="ORDERS_REFUSE_DUMP_SHELL"/>
        <enum-item name="ORDERS_REFUSE_DUMP_SKIN"/>
        <enum-item name="ORDERS_REFUSE_DUMP_OTHER"/>
        <enum-item name="ORDERS_REFUSE_DUMP_STRAND_TISSUE"/>
        <enum-item name="ORDERS_GATHER_FURNITURE"/>
        <enum-item name="ORDERS_GATHER_ANIMALS"/>
        <enum-item name="ORDERS_GATHER_FOOD"/>
        <enum-item name="ORDERS_GATHER_BODIES"/>
        <enum-item name="ORDERS_REFUSE"/>
        <enum-item name="ORDERS_GATHER_STONE"/>
        <enum-item name="ORDERS_GATHER_WOOD"/>
        <enum-item name="ORDERS_ALL_HARVEST"/>
        <enum-item name="ORDERS_SAMEPILE"/>
        <enum-item name="ORDERS_MIXFOODS"/>
        <enum-item name="ORDERS_LOOM"/>
        <enum-item name="ORDERS_DYED_CLOTH"/>
        <enum-item name="ORDERS_EXCEPTIONS"/>
        <enum-item name="ORDERS_WORKSHOP"/>
        <enum-item name="ORDERS_COLLECT_WEB"/>
        <enum-item name="ORDERS_SLAUGHTER"/>
        <enum-item name="ORDERS_BUTCHER"/>
        <enum-item name="ORDERS_TAN"/>
        <enum-item name="ORDERS_AUTO_FISHERY"/>
        <enum-item name="ORDERS_AUTO_KITCHEN"/>
        <enum-item name="ORDERS_AUTO_KILN"/>
        <enum-item name="ORDERS_AUTO_SMELTER"/>
        <enum-item name="ORDERS_AUTO_OTHER"/>
        <enum-item name="ORDERS_ZONE"/>
        <enum-item name="ORDERS_ZONE_DRINKING"/>
        <enum-item name="ORDERS_ZONE_FISHING"/>
        <enum-item name="D_ONESTEP"/>
        <enum-item name="D_PAUSE"/>
        <enum-item name="D_DEPOT"/>
        <enum-item name="D_HOT_KEYS"/>
        <enum-item name="D_HOTKEY1"/>
        <enum-item name="D_HOTKEY2"/>
        <enum-item name="D_HOTKEY3"/>
        <enum-item name="D_HOTKEY4"/>
        <enum-item name="D_HOTKEY5"/>
        <enum-item name="D_HOTKEY6"/>
        <enum-item name="D_HOTKEY7"/>
        <enum-item name="D_HOTKEY8"/>
        <enum-item name="D_HOTKEY9"/>
        <enum-item name="D_HOTKEY10"/>
        <enum-item name="D_HOTKEY11"/>
        <enum-item name="D_HOTKEY12"/>
        <enum-item name="D_HOTKEY13"/>
        <enum-item name="D_HOTKEY14"/>
        <enum-item name="D_HOTKEY15"/>
        <enum-item name="D_HOTKEY16"/>
        <enum-item name="D_HOTKEY_CHANGE_NAME"/>
        <enum-item name="D_HOTKEY_ZOOM"/>
        <enum-item name="D_ANNOUNCE"/>
        <enum-item name="D_REPORTS"/>
        <enum-item name="D_BUILDING"/>
        <enum-item name="D_CIVLIST"/>
        <enum-item name="D_DESIGNATE"/>
        <enum-item name="D_ARTLIST"/>
        <enum-item name="D_NOBLES"/>
        <enum-item name="D_ORDERS"/>
        <enum-item name="D_MILITARY"/>
        <enum-item name="D_ROOMS"/>
        <enum-item name="D_SQUADS"/>
        <enum-item name="D_STOCKPILES"/>
        <enum-item name="D_CIVZONE"/>
        <enum-item name="D_VIEWUNIT"/>
        <enum-item name="D_JOBLIST"/>
        <enum-item name="D_UNITLIST"/>
        <enum-item name="D_LOOK"/>
        <enum-item name="D_HAULING"/>
        <enum-item name="D_HAULING_NEW_ROUTE"/>
        <enum-item name="D_HAULING_NEW_STOP"/>
        <enum-item name="D_HAULING_REMOVE"/>
        <enum-item name="D_HAULING_PROMOTE"/>
        <enum-item name="D_HAULING_VEHICLE"/>
        <enum-item name="D_HAULING_NICKNAME"/>
        <enum-item name="D_HAULING_STOP_NEW_DEPART"/>
        <enum-item name="D_HAULING_STOP_NEW_LINK"/>
        <enum-item name="D_HAULING_STOP_REMOVE"/>
        <enum-item name="D_HAULING_STOP_SL_SELECT_PILE"/>
        <enum-item name="D_HAULING_STOP_SL_TAKE_GIVE"/>
        <enum-item name="D_HAULING_STOP_LC_DIR"/>
        <enum-item name="D_HAULING_STOP_LC_MODE"/>
        <enum-item name="D_HAULING_STOP_LC_TIMER_UP"/>
        <enum-item name="D_HAULING_STOP_LC_TIMER_DOWN"/>
        <enum-item name="D_HAULING_STOP_LC_FULLNESS_UP"/>
        <enum-item name="D_HAULING_STOP_LC_FULLNESS_DOWN"/>
        <enum-item name="D_HAULING_STOP_LC_MORE_LESS"/>
        <enum-item name="D_HAULING_STOP_LC_DESIRED_TOTAL"/>
        <enum-item name="D_HAULING_STOP_LC_CHANGE"/>
        <enum-item name="D_HAULING_STOP_LC_ADVANCED"/>
        <enum-item name="D_BURROWS"/>
        <enum-item name="D_BURROWS_ADD"/>
        <enum-item name="D_BURROWS_DELETE"/>
        <enum-item name="D_BURROWS_DEFINE"/>
        <enum-item name="D_BURROWS_ADD_UNIT"/>
        <enum-item name="D_BURROWS_CENTER"/>
        <enum-item name="D_BURROWS_NAME"/>
        <enum-item name="D_BURROWS_CHANGE_SELECTION"/>
        <enum-item name="D_BURROWS_BRUSH"/>
        <enum-item name="D_BURROWS_REMOVE"/>
        <enum-item name="D_NOTE"/>
        <enum-item name="D_NOTE_PLACE"/>
        <enum-item name="D_NOTE_DELETE"/>
        <enum-item name="D_NOTE_NAME"/>
        <enum-item name="D_NOTE_ENTER"/>
        <enum-item name="D_NOTE_ADOPT_SYMBOL"/>
        <enum-item name="D_NOTE_CHANGE_SELECTION"/>
        <enum-item name="D_NOTE_POINTS"/>
        <enum-item name="D_NOTE_ROUTE"/>
        <enum-item name="D_NOTE_ROUTE_ADD"/>
        <enum-item name="D_NOTE_ROUTE_EDIT"/>
        <enum-item name="D_NOTE_ROUTE_DELETE"/>
        <enum-item name="D_NOTE_ROUTE_CENTER"/>
        <enum-item name="D_NOTE_ROUTE_NAME"/>
        <enum-item name="D_BUILDJOB"/>
        <enum-item name="D_STATUS"/>
        <enum-item name="D_STATUS_OVERALL_HEALTH_RECENTER"/>
        <enum-item name="D_BUILDITEM"/>
        <enum-item name="D_BITEM_FORBID"/>
        <enum-item name="D_BITEM_DUMP"/>
        <enum-item name="D_BITEM_MELT"/>
        <enum-item name="D_BITEM_HIDE"/>
        <enum-item name="D_LOOK_FORBID"/>
        <enum-item name="D_LOOK_DUMP"/>
        <enum-item name="D_LOOK_MELT"/>
        <enum-item name="D_LOOK_HIDE"/>
        <enum-item name="D_LOOK_FOLLOW"/>
        <enum-item name="D_LOOK_ARENA_CREATURE"/>
        <enum-item name="D_LOOK_ARENA_ADV_MODE"/>
        <enum-item name="D_LOOK_ARENA_WATER"/>
        <enum-item name="D_LOOK_ARENA_MAGMA"/>
        <enum-item name="ARENA_CREATURE_SIDE_DOWN"/>
        <enum-item name="ARENA_CREATURE_SIDE_UP"/>
        <enum-item name="ARENA_CREATURE_NEW_ITEM"/>
        <enum-item name="ARENA_CREATURE_BLANK_LIST"/>
        <enum-item name="ARENA_CREATURE_REMOVE_ITEM"/>
        <enum-item name="ARENA_CREATURE_UNDEAD"/>
        <enum-item name="ARENA_CREATURE_STRING"/>
        <enum-item name="ASSIGNTRADE_VIEW"/>
        <enum-item name="ASSIGNTRADE_STRING"/>
        <enum-item name="ASSIGNTRADE_EXCLUDE_PROHIBITED"/>
        <enum-item name="ASSIGNTRADE_PENDING"/>
        <enum-item name="ASSIGNTRADE_SORT"/>
        <enum-item name="NOBLELIST_REPLACE"/>
        <enum-item name="NOBLELIST_SETTINGS"/>
        <enum-item name="NOBLELIST_CAPITAL"/>
        <enum-item name="NOBLELIST_VIEW_CANDIDATE"/>
        <enum-item name="TRADE_VIEW"/>
        <enum-item name="TRADE_TRADE"/>
        <enum-item name="TRADE_OFFER"/>
        <enum-item name="TRADE_SEIZE"/>
        <enum-item name="MILITARY_ACTIVATE"/>
        <enum-item name="MILITARY_VIEW"/>
        <enum-item name="MILITARY_WEAPON"/>
        <enum-item name="MILITARY_ZOOM"/>
        <enum-item name="ANNOUNCE_ZOOM"/>
        <enum-item name="UNITJOB_REMOVE_CRE"/>
        <enum-item name="UNITJOB_ZOOM_CRE"/>
        <enum-item name="UNITJOB_ZOOM_BUILD"/>
        <enum-item name="UNITJOB_VIEW"/>
        <enum-item name="UNITJOB_MANAGER"/>
        <enum-item name="MANAGER_NEW_ORDER"/>
        <enum-item name="MANAGER_REMOVE"/>
        <enum-item name="MANAGER_PROMOTE"/>
        <enum-item name="MANAGER_MAX"/>
        <enum-item name="MANAGER_WAGES"/>
        <enum-item name="DESIGNATE_BITEM"/>
        <enum-item name="DESIGNATE_CLAIM"/>
        <enum-item name="DESIGNATE_UNCLAIM"/>
        <enum-item name="DESIGNATE_MELT"/>
        <enum-item name="DESIGNATE_NO_MELT"/>
        <enum-item name="DESIGNATE_DUMP"/>
        <enum-item name="DESIGNATE_NO_DUMP"/>
        <enum-item name="DESIGNATE_HIDE"/>
        <enum-item name="DESIGNATE_NO_HIDE"/>
        <enum-item name="DESIGNATE_DIG"/>
        <enum-item name="DESIGNATE_DIG_REMOVE_STAIRS_RAMPS"/>
        <enum-item name="DESIGNATE_TRAFFIC"/>
        <enum-item name="DESIGNATE_TRAFFIC_HIGH"/>
        <enum-item name="DESIGNATE_TRAFFIC_NORMAL"/>
        <enum-item name="DESIGNATE_TRAFFIC_LOW"/>
        <enum-item name="DESIGNATE_TRAFFIC_RESTRICTED"/>
        <enum-item name="DESIGNATE_TRAFFIC_INCREASE_WEIGHT"/>
        <enum-item name="DESIGNATE_TRAFFIC_DECREASE_WEIGHT"/>
        <enum-item name="DESIGNATE_TRAFFIC_INCREASE_WEIGHT_MORE"/>
        <enum-item name="DESIGNATE_TRAFFIC_DECREASE_WEIGHT_MORE"/>
        <enum-item name="DESIGNATE_STAIR_UP"/>
        <enum-item name="DESIGNATE_STAIR_DOWN"/>
        <enum-item name="DESIGNATE_STAIR_UPDOWN"/>
        <enum-item name="DESIGNATE_RAMP"/>
        <enum-item name="DESIGNATE_CHANNEL"/>
        <enum-item name="DESIGNATE_CHOP"/>
        <enum-item name="DESIGNATE_PLANTS"/>
        <enum-item name="DESIGNATE_SMOOTH"/>
        <enum-item name="DESIGNATE_ENGRAVE"/>
        <enum-item name="DESIGNATE_FORTIFY"/>
        <enum-item name="DESIGNATE_TRACK"/>
        <enum-item name="DESIGNATE_TOGGLE_ENGRAVING"/>
        <enum-item name="DESIGNATE_UNDO"/>
        <enum-item name="DESIGNATE_REMOVE_CONSTRUCTION"/>
        <enum-item name="ITEM_DESCRIPTION"/>
        <enum-item name="ITEM_FORBID"/>
        <enum-item name="ITEM_MELT"/>
        <enum-item name="ITEM_DUMP"/>
        <enum-item name="ITEM_HIDE"/>
        <enum-item name="UNITVIEW_CUSTOMIZE"/>
        <enum-item name="UNITVIEW_HEALTH"/>
        <enum-item name="UNITVIEW_RELATIONSHIPS"/>
        <enum-item name="UNITVIEW_RELATIONSHIPS_ZOOM"/>
        <enum-item name="UNITVIEW_RELATIONSHIPS_VIEW"/>
        <enum-item name="UNITVIEW_KILLS"/>
        <enum-item name="UNITVIEW_GEN"/>
        <enum-item name="UNITVIEW_INV"/>
        <enum-item name="UNITVIEW_PRF"/>
        <enum-item name="UNITVIEW_WND"/>
        <enum-item name="UNITVIEW_FOLLOW"/>
        <enum-item name="UNITVIEW_NEXT"/>
        <enum-item name="UNITVIEW_SLAUGHTER"/>
        <enum-item name="UNITVIEW_GEN_COMBAT"/>
        <enum-item name="UNITVIEW_GEN_LABOR"/>
        <enum-item name="UNITVIEW_GEN_MISC"/>
        <enum-item name="UNITVIEW_PRF_PROF"/>
        <enum-item name="UNITVIEW_PRF_PET"/>
        <enum-item name="UNITVIEW_PRF_VIEW"/>
        <enum-item name="UNITVIEW_PRF_NEW_SQUAD"/>
        <enum-item name="UNITVIEW_PRF_REMOVE_FROM_SQUAD"/>
        <enum-item name="UNITVIEW_PRF_NAME_CURRENT_SQUAD"/>
        <enum-item name="UNITVIEW_PRF_NAME_SELECTED_SQUAD"/>
        <enum-item name="CUSTOMIZE_UNIT_NICKNAME"/>
        <enum-item name="CUSTOMIZE_UNIT_PROFNAME"/>
        <enum-item name="D_MILITARY_CREATE_SQUAD"/>
        <enum-item name="D_MILITARY_DISBAND_SQUAD"/>
        <enum-item name="D_MILITARY_CREATE_SUB_SQUAD"/>
        <enum-item name="D_MILITARY_CANCEL_ORDERS"/>
        <enum-item name="D_MILITARY_POSITIONS"/>
        <enum-item name="D_MILITARY_ALERTS"/>
        <enum-item name="D_MILITARY_ALERTS_ADD"/>
        <enum-item name="D_MILITARY_ALERTS_DELETE"/>
        <enum-item name="D_MILITARY_ALERTS_SET"/>
        <enum-item name="D_MILITARY_ALERTS_NAME"/>
        <enum-item name="D_MILITARY_ALERTS_SET_RETAIN"/>
        <enum-item name="D_MILITARY_EQUIP"/>
        <enum-item name="D_MILITARY_EQUIP_CUSTOMIZE"/>
        <enum-item name="D_MILITARY_EQUIP_UNIFORM"/>
        <enum-item name="D_MILITARY_EQUIP_PRIORITY"/>
        <enum-item name="D_MILITARY_UNIFORMS"/>
        <enum-item name="D_MILITARY_SUPPLIES"/>
        <enum-item name="D_MILITARY_SUPPLIES_WATER_DOWN"/>
        <enum-item name="D_MILITARY_SUPPLIES_WATER_UP"/>
        <enum-item name="D_MILITARY_SUPPLIES_FOOD_DOWN"/>
        <enum-item name="D_MILITARY_SUPPLIES_FOOD_UP"/>
        <enum-item name="D_MILITARY_AMMUNITION"/>
        <enum-item name="D_MILITARY_AMMUNITION_ADD_ITEM"/>
        <enum-item name="D_MILITARY_AMMUNITION_REMOVE_ITEM"/>
        <enum-item name="D_MILITARY_AMMUNITION_LOWER_AMOUNT"/>
        <enum-item name="D_MILITARY_AMMUNITION_RAISE_AMOUNT"/>
        <enum-item name="D_MILITARY_AMMUNITION_LOWER_AMOUNT_LOTS"/>
        <enum-item name="D_MILITARY_AMMUNITION_RAISE_AMOUNT_LOTS"/>
        <enum-item name="D_MILITARY_AMMUNITION_MATERIAL"/>
        <enum-item name="D_MILITARY_AMMUNITION_COMBAT"/>
        <enum-item name="D_MILITARY_AMMUNITION_TRAINING"/>
        <enum-item name="D_MILITARY_TRAINING"/>
        <enum-item name="D_MILITARY_SCHEDULE"/>
        <enum-item name="D_MILITARY_ADD_UNIFORM"/>
        <enum-item name="D_MILITARY_DELETE_UNIFORM"/>
        <enum-item name="D_MILITARY_NAME_UNIFORM"/>
        <enum-item name="D_MILITARY_NAME_SQUAD"/>
        <enum-item name="D_MILITARY_ADD_ARMOR"/>
        <enum-item name="D_MILITARY_ADD_PANTS"/>
        <enum-item name="D_MILITARY_ADD_HELM"/>
        <enum-item name="D_MILITARY_ADD_GLOVES"/>
        <enum-item name="D_MILITARY_ADD_BOOTS"/>
        <enum-item name="D_MILITARY_ADD_SHIELD"/>
        <enum-item name="D_MILITARY_ADD_WEAPON"/>
        <enum-item name="D_MILITARY_ADD_MATERIAL"/>
        <enum-item name="D_MILITARY_ADD_COLOR"/>
        <enum-item name="D_MILITARY_REPLACE_CLOTHING"/>
        <enum-item name="D_MILITARY_EXACT_MATCH"/>
        <enum-item name="D_SQUADS_MOVE"/>
        <enum-item name="D_SQUADS_KILL"/>
        <enum-item name="D_SQUADS_KILL_LIST"/>
        <enum-item name="D_SQUADS_KILL_RECT"/>
        <enum-item name="D_SQUADS_SCHEDULE"/>
        <enum-item name="D_SQUADS_CANCEL_ORDER"/>
        <enum-item name="D_SQUADS_ALERT"/>
        <enum-item name="D_SQUADS_SELECT_INDIVIDUALS"/>
        <enum-item name="D_SQUADS_CENTER"/>
        <enum-item name="D_SQUAD_SCH_SLEEP"/>
        <enum-item name="D_SQUAD_SCH_CIVILIAN_UNIFORM"/>
        <enum-item name="D_SQUAD_SCH_GIVE_ORDER"/>
        <enum-item name="D_SQUAD_SCH_EDIT_ORDER"/>
        <enum-item name="D_SQUAD_SCH_CANCEL_ORDER"/>
        <enum-item name="D_SQUAD_SCH_COPY_ORDERS"/>
        <enum-item name="D_SQUAD_SCH_PASTE_ORDERS"/>
        <enum-item name="D_SQUAD_SCH_MS_NAME"/>
        <enum-item name="STRING_A000"/>
        <enum-item name="STRING_A001"/>
        <enum-item name="STRING_A002"/>
        <enum-item name="STRING_A003"/>
        <enum-item name="STRING_A004"/>
        <enum-item name="STRING_A005"/>
        <enum-item name="STRING_A006"/>
        <enum-item name="STRING_A007"/>
        <enum-item name="STRING_A008"/>
        <enum-item name="STRING_A009"/>
        <enum-item name="STRING_A010"/>
        <enum-item name="STRING_A011"/>
        <enum-item name="STRING_A012"/>
        <enum-item name="STRING_A013"/>
        <enum-item name="STRING_A014"/>
        <enum-item name="STRING_A015"/>
        <enum-item name="STRING_A016"/>
        <enum-item name="STRING_A017"/>
        <enum-item name="STRING_A018"/>
        <enum-item name="STRING_A019"/>
        <enum-item name="STRING_A020"/>
        <enum-item name="STRING_A021"/>
        <enum-item name="STRING_A022"/>
        <enum-item name="STRING_A023"/>
        <enum-item name="STRING_A024"/>
        <enum-item name="STRING_A025"/>
        <enum-item name="STRING_A026"/>
        <enum-item name="STRING_A027"/>
        <enum-item name="STRING_A028"/>
        <enum-item name="STRING_A029"/>
        <enum-item name="STRING_A030"/>
        <enum-item name="STRING_A031"/>
        <enum-item name="STRING_A032"/>
        <enum-item name="STRING_A033"/>
        <enum-item name="STRING_A034"/>
        <enum-item name="STRING_A035"/>
        <enum-item name="STRING_A036"/>
        <enum-item name="STRING_A037"/>
        <enum-item name="STRING_A038"/>
        <enum-item name="STRING_A039"/>
        <enum-item name="STRING_A040"/>
        <enum-item name="STRING_A041"/>
        <enum-item name="STRING_A042"/>
        <enum-item name="STRING_A043"/>
        <enum-item name="STRING_A044"/>
        <enum-item name="STRING_A045"/>
        <enum-item name="STRING_A046"/>
        <enum-item name="STRING_A047"/>
        <enum-item name="STRING_A048"/>
        <enum-item name="STRING_A049"/>
        <enum-item name="STRING_A050"/>
        <enum-item name="STRING_A051"/>
        <enum-item name="STRING_A052"/>
        <enum-item name="STRING_A053"/>
        <enum-item name="STRING_A054"/>
        <enum-item name="STRING_A055"/>
        <enum-item name="STRING_A056"/>
        <enum-item name="STRING_A057"/>
        <enum-item name="STRING_A058"/>
        <enum-item name="STRING_A059"/>
        <enum-item name="STRING_A060"/>
        <enum-item name="STRING_A061"/>
        <enum-item name="STRING_A062"/>
        <enum-item name="STRING_A063"/>
        <enum-item name="STRING_A064"/>
        <enum-item name="STRING_A065"/>
        <enum-item name="STRING_A066"/>
        <enum-item name="STRING_A067"/>
        <enum-item name="STRING_A068"/>
        <enum-item name="STRING_A069"/>
        <enum-item name="STRING_A070"/>
        <enum-item name="STRING_A071"/>
        <enum-item name="STRING_A072"/>
        <enum-item name="STRING_A073"/>
        <enum-item name="STRING_A074"/>
        <enum-item name="STRING_A075"/>
        <enum-item name="STRING_A076"/>
        <enum-item name="STRING_A077"/>
        <enum-item name="STRING_A078"/>
        <enum-item name="STRING_A079"/>
        <enum-item name="STRING_A080"/>
        <enum-item name="STRING_A081"/>
        <enum-item name="STRING_A082"/>
        <enum-item name="STRING_A083"/>
        <enum-item name="STRING_A084"/>
        <enum-item name="STRING_A085"/>
        <enum-item name="STRING_A086"/>
        <enum-item name="STRING_A087"/>
        <enum-item name="STRING_A088"/>
        <enum-item name="STRING_A089"/>
        <enum-item name="STRING_A090"/>
        <enum-item name="STRING_A091"/>
        <enum-item name="STRING_A092"/>
        <enum-item name="STRING_A093"/>
        <enum-item name="STRING_A094"/>
        <enum-item name="STRING_A095"/>
        <enum-item name="STRING_A096"/>
        <enum-item name="STRING_A097"/>
        <enum-item name="STRING_A098"/>
        <enum-item name="STRING_A099"/>
        <enum-item name="STRING_A100"/>
        <enum-item name="STRING_A101"/>
        <enum-item name="STRING_A102"/>
        <enum-item name="STRING_A103"/>
        <enum-item name="STRING_A104"/>
        <enum-item name="STRING_A105"/>
        <enum-item name="STRING_A106"/>
        <enum-item name="STRING_A107"/>
        <enum-item name="STRING_A108"/>
        <enum-item name="STRING_A109"/>
        <enum-item name="STRING_A110"/>
        <enum-item name="STRING_A111"/>
        <enum-item name="STRING_A112"/>
        <enum-item name="STRING_A113"/>
        <enum-item name="STRING_A114"/>
        <enum-item name="STRING_A115"/>
        <enum-item name="STRING_A116"/>
        <enum-item name="STRING_A117"/>
        <enum-item name="STRING_A118"/>
        <enum-item name="STRING_A119"/>
        <enum-item name="STRING_A120"/>
        <enum-item name="STRING_A121"/>
        <enum-item name="STRING_A122"/>
        <enum-item name="STRING_A123"/>
        <enum-item name="STRING_A124"/>
        <enum-item name="STRING_A125"/>
        <enum-item name="STRING_A126"/>
        <enum-item name="STRING_A127"/>
        <enum-item name="STRING_A128"/>
        <enum-item name="STRING_A129"/>
        <enum-item name="STRING_A130"/>
        <enum-item name="STRING_A131"/>
        <enum-item name="STRING_A132"/>
        <enum-item name="STRING_A133"/>
        <enum-item name="STRING_A134"/>
        <enum-item name="STRING_A135"/>
        <enum-item name="STRING_A136"/>
        <enum-item name="STRING_A137"/>
        <enum-item name="STRING_A138"/>
        <enum-item name="STRING_A139"/>
        <enum-item name="STRING_A140"/>
        <enum-item name="STRING_A141"/>
        <enum-item name="STRING_A142"/>
        <enum-item name="STRING_A143"/>
        <enum-item name="STRING_A144"/>
        <enum-item name="STRING_A145"/>
        <enum-item name="STRING_A146"/>
        <enum-item name="STRING_A147"/>
        <enum-item name="STRING_A148"/>
        <enum-item name="STRING_A149"/>
        <enum-item name="STRING_A150"/>
        <enum-item name="STRING_A151"/>
        <enum-item name="STRING_A152"/>
        <enum-item name="STRING_A153"/>
        <enum-item name="STRING_A154"/>
        <enum-item name="STRING_A155"/>
        <enum-item name="STRING_A156"/>
        <enum-item name="STRING_A157"/>
        <enum-item name="STRING_A158"/>
        <enum-item name="STRING_A159"/>
        <enum-item name="STRING_A160"/>
        <enum-item name="STRING_A161"/>
        <enum-item name="STRING_A162"/>
        <enum-item name="STRING_A163"/>
        <enum-item name="STRING_A164"/>
        <enum-item name="STRING_A165"/>
        <enum-item name="STRING_A166"/>
        <enum-item name="STRING_A167"/>
        <enum-item name="STRING_A168"/>
        <enum-item name="STRING_A169"/>
        <enum-item name="STRING_A170"/>
        <enum-item name="STRING_A171"/>
        <enum-item name="STRING_A172"/>
        <enum-item name="STRING_A173"/>
        <enum-item name="STRING_A174"/>
        <enum-item name="STRING_A175"/>
        <enum-item name="STRING_A176"/>
        <enum-item name="STRING_A177"/>
        <enum-item name="STRING_A178"/>
        <enum-item name="STRING_A179"/>
        <enum-item name="STRING_A180"/>
        <enum-item name="STRING_A181"/>
        <enum-item name="STRING_A182"/>
        <enum-item name="STRING_A183"/>
        <enum-item name="STRING_A184"/>
        <enum-item name="STRING_A185"/>
        <enum-item name="STRING_A186"/>
        <enum-item name="STRING_A187"/>
        <enum-item name="STRING_A188"/>
        <enum-item name="STRING_A189"/>
        <enum-item name="STRING_A190"/>
        <enum-item name="STRING_A191"/>
        <enum-item name="STRING_A192"/>
        <enum-item name="STRING_A193"/>
        <enum-item name="STRING_A194"/>
        <enum-item name="STRING_A195"/>
        <enum-item name="STRING_A196"/>
        <enum-item name="STRING_A197"/>
        <enum-item name="STRING_A198"/>
        <enum-item name="STRING_A199"/>
        <enum-item name="STRING_A200"/>
        <enum-item name="STRING_A201"/>
        <enum-item name="STRING_A202"/>
        <enum-item name="STRING_A203"/>
        <enum-item name="STRING_A204"/>
        <enum-item name="STRING_A205"/>
        <enum-item name="STRING_A206"/>
        <enum-item name="STRING_A207"/>
        <enum-item name="STRING_A208"/>
        <enum-item name="STRING_A209"/>
        <enum-item name="STRING_A210"/>
        <enum-item name="STRING_A211"/>
        <enum-item name="STRING_A212"/>
        <enum-item name="STRING_A213"/>
        <enum-item name="STRING_A214"/>
        <enum-item name="STRING_A215"/>
        <enum-item name="STRING_A216"/>
        <enum-item name="STRING_A217"/>
        <enum-item name="STRING_A218"/>
        <enum-item name="STRING_A219"/>
        <enum-item name="STRING_A220"/>
        <enum-item name="STRING_A221"/>
        <enum-item name="STRING_A222"/>
        <enum-item name="STRING_A223"/>
        <enum-item name="STRING_A224"/>
        <enum-item name="STRING_A225"/>
        <enum-item name="STRING_A226"/>
        <enum-item name="STRING_A227"/>
        <enum-item name="STRING_A228"/>
        <enum-item name="STRING_A229"/>
        <enum-item name="STRING_A230"/>
        <enum-item name="STRING_A231"/>
        <enum-item name="STRING_A232"/>
        <enum-item name="STRING_A233"/>
        <enum-item name="STRING_A234"/>
        <enum-item name="STRING_A235"/>
        <enum-item name="STRING_A236"/>
        <enum-item name="STRING_A237"/>
        <enum-item name="STRING_A238"/>
        <enum-item name="STRING_A239"/>
        <enum-item name="STRING_A240"/>
        <enum-item name="STRING_A241"/>
        <enum-item name="STRING_A242"/>
        <enum-item name="STRING_A243"/>
        <enum-item name="STRING_A244"/>
        <enum-item name="STRING_A245"/>
        <enum-item name="STRING_A246"/>
        <enum-item name="STRING_A247"/>
        <enum-item name="STRING_A248"/>
        <enum-item name="STRING_A249"/>
        <enum-item name="STRING_A250"/>
        <enum-item name="STRING_A251"/>
        <enum-item name="STRING_A252"/>
        <enum-item name="STRING_A253"/>
        <enum-item name="STRING_A254"/>
        <enum-item name="STRING_A255"/>
        <enum-item name="KEYBINDING_COMPLETE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="language_word_flags">
        <enum-item name="FRONT_COMPOUND_NOUN_SING"/>
        <enum-item name="FRONT_COMPOUND_NOUN_PLUR"/>
        <enum-item name="FRONT_COMPOUND_ADJ"/>
        <enum-item name="FRONT_COMPOUND_PREFIX"/>
        <enum-item name="REAR_COMPOUND_NOUN_SING"/>
        <enum-item name="REAR_COMPOUND_NOUN_PLUR"/>
        <enum-item name="REAR_COMPOUND_ADJ"/>
        <enum-item name="THE_NOUN_SING"/>
        <enum-item name="THE_NOUN_PLUR"/>
        <enum-item name="THE_COMPOUND_NOUN_SING"/>
        <enum-item name="THE_COMPOUND_NOUN_PLUR"/>
        <enum-item name="THE_COMPOUND_ADJ"/>
        <enum-item name="THE_COMPOUND_PREFIX"/>
        <enum-item name="OF_NOUN_SING"/>
        <enum-item name="OF_NOUN_PLUR"/>
        <enum-item name="STANDARD_VERB"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="part_of_speech">
        <enum-item name="Noun"/>
        <enum-item name="NounPlural"/>
        <enum-item name="Adjective"/>
        <enum-item name="Prefix"/>
        <enum-item name="Verb"/>
        <enum-item name="Verb3rdPerson"/>
        <enum-item name="VerbPast"/>
        <enum-item name="VerbPassive"/>
        <enum-item name="VerbGerund"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="sphere_type">
        <enum-item name="AGRICULTURE"/>
        <enum-item name="ANIMALS"/>
        <enum-item name="ART"/>
        <enum-item name="BALANCE"/>
        <enum-item name="BEAUTY"/>
        <enum-item name="BIRTH"/>
        <enum-item name="BLIGHT"/>
        <enum-item name="BOUNDARIES"/>
        <enum-item name="CAVERNS"/>
        <enum-item name="CHAOS"/>
        <enum-item name="CHARITY"/>
        <enum-item name="CHILDREN"/>
        <enum-item name="COASTS"/>
        <enum-item name="CONSOLATION"/>
        <enum-item name="COURAGE"/>
        <enum-item name="CRAFTS"/>
        <enum-item name="CREATION"/>
        <enum-item name="DANCE"/>
        <enum-item name="DARKNESS"/>
        <enum-item name="DAWN"/>
        <enum-item name="DAY"/>
        <enum-item name="DEATH"/>
        <enum-item name="DEFORMITY"/>
        <enum-item name="DEPRAVITY"/>
        <enum-item name="DISCIPLINE"/>
        <enum-item name="DISEASE"/>
        <enum-item name="DREAMS"/>
        <enum-item name="DUSK"/>
        <enum-item name="DUTY"/>
        <enum-item name="EARTH"/>
        <enum-item name="FAMILY"/>
        <enum-item name="FAME"/>
        <enum-item name="FATE"/>
        <enum-item name="FERTILITY"/>
        <enum-item name="FESTIVALS"/>
        <enum-item name="FIRE"/>
        <enum-item name="FISH"/>
        <enum-item name="FISHING"/>
        <enum-item name="FOOD"/>
        <enum-item name="FORGIVENESS"/>
        <enum-item name="FORTRESSES"/>
        <enum-item name="FREEDOM"/>
        <enum-item name="GAMBLING"/>
        <enum-item name="GAMES"/>
        <enum-item name="GENEROSITY"/>
        <enum-item name="HAPPINESS"/>
        <enum-item name="HEALING"/>
        <enum-item name="HOSPITALITY"/>
        <enum-item name="HUNTING"/>
        <enum-item name="INSPIRATION"/>
        <enum-item name="JEALOUSY"/>
        <enum-item name="JEWELS"/>
        <enum-item name="JUSTICE"/>
        <enum-item name="LABOR"/>
        <enum-item name="LAKES"/>
        <enum-item name="LAWS"/>
        <enum-item name="LIES"/>
        <enum-item name="LIGHT"/>
        <enum-item name="LIGHTNING"/>
        <enum-item name="LONGEVITY"/>
        <enum-item name="LOVE"/>
        <enum-item name="LOYALTY"/>
        <enum-item name="LUCK"/>
        <enum-item name="LUST"/>
        <enum-item name="MARRIAGE"/>
        <enum-item name="MERCY"/>
        <enum-item name="METALS"/>
        <enum-item name="MINERALS"/>
        <enum-item name="MISERY"/>
        <enum-item name="MIST"/>
        <enum-item name="MOON"/>
        <enum-item name="MOUNTAINS"/>
        <enum-item name="MUCK"/>
        <enum-item name="MURDER"/>
        <enum-item name="MUSIC"/>
        <enum-item name="NATURE"/>
        <enum-item name="NIGHT"/>
        <enum-item name="NIGHTMARES"/>
        <enum-item name="OATHS"/>
        <enum-item name="OCEANS"/>
        <enum-item name="ORDER"/>
        <enum-item name="PAINTING"/>
        <enum-item name="PEACE"/>
        <enum-item name="PERSUASION"/>
        <enum-item name="PLANTS"/>
        <enum-item name="POETRY"/>
        <enum-item name="PREGNANCY"/>
        <enum-item name="RAIN"/>
        <enum-item name="RAINBOWS"/>
        <enum-item name="REBIRTH"/>
        <enum-item name="REVELRY"/>
        <enum-item name="REVENGE"/>
        <enum-item name="RIVERS"/>
        <enum-item name="RULERSHIP"/>
        <enum-item name="RUMORS"/>
        <enum-item name="SACRIFICE"/>
        <enum-item name="SALT"/>
        <enum-item name="SCHOLARSHIP"/>
        <enum-item name="SEASONS"/>
        <enum-item name="SILENCE"/>
        <enum-item name="SKY"/>
        <enum-item name="SONG"/>
        <enum-item name="SPEECH"/>
        <enum-item name="STARS"/>
        <enum-item name="STORMS"/>
        <enum-item name="STRENGTH"/>
        <enum-item name="SUICIDE"/>
        <enum-item name="SUN"/>
        <enum-item name="THEFT"/>
        <enum-item name="THRALLDOM"/>
        <enum-item name="THUNDER"/>
        <enum-item name="TORTURE"/>
        <enum-item name="TRADE"/>
        <enum-item name="TRAVELERS"/>
        <enum-item name="TREACHERY"/>
        <enum-item name="TREES"/>
        <enum-item name="TRICKERY"/>
        <enum-item name="TRUTH"/>
        <enum-item name="TWILIGHT"/>
        <enum-item name="VALOR"/>
        <enum-item name="VICTORY"/>
        <enum-item name="VOLCANOS"/>
        <enum-item name="WAR"/>
        <enum-item name="WATER"/>
        <enum-item name="WEALTH"/>
        <enum-item name="WEATHER"/>
        <enum-item name="WIND"/>
        <enum-item name="WISDOM"/>
        <enum-item name="WRITING"/>
        <enum-item name="YOUTH"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_word" instance-vector="$global.world.raws.language.words">
        <ld:field name="word" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.word</code-helper>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="forms" count="9" index-enum="part_of_speech" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="adj_dist" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field size="7" comment="looks like garbage" ld:level="1" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="language_word_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_translation" instance-vector="$global.world.raws.language.translations">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.name</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unknown1" comment="empty" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unknown2" comment="empty" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" index-refers-to="$global.world.raws.language.words[$]" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_symbol" instance-vector="$global.world.raws.language.symbols">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unknown" comment="empty" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="words" ld:is-container="true">
            <ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_name">
        <ld:field name="first_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="nickname" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" name="words" count="7" ld:is-container="true">
            <ld:item ref-target="language_word" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="parts_of_speech" count="7" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="part_of_speech" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>

        <ld:field name="language" ref-target="language_translation" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unknown" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="has_name" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <code-helper name="describe">
          (when $.has_name
            (let* ((nick $.nickname)
                   (lraw $global.world.raws.language)
                   (language $lraw.translations[$.language])
                   (english $lraw.words)
                   (fname $.first_name)
                   (lwords $language.words))
              (flet ((get-words (start end)
                       (loop for i from start to end
                         for word = $.words[i]
                         collect $lwords[word].value))
                     (get-english (start end)
                       (loop for i from start to end
                         for word = $.words[i] and ps = $.parts_of_speech[i]
                         collect $english[word].forms[ps])))
                (list
                 (fmt "Name:~:(~@[ ~A~]~@[ '~A'~]~@[ ~{~A~}~]~@[ ~{~A~}~]~@[ ~{~A~}~]~)"
                      (if (&gt; (length fname) 0) fname)
                      (if (&gt; (length nick) 0) nick)
                      (flatten (get-words 0 1))
                      (flatten (get-words 2 5))
                      (flatten (get-words 6 6)))
                 (fmt "aka~:(~@[ ~A~]~@[ ~{~A~}~]~@[ the ~A~]~@[ of ~{~A~}~]~)"
                      (if (&gt; (length fname) 0) fname)
                      (flatten (get-english 0 1))
                      (when (&gt;= $.words[5] 0)
                        (apply #'format nil "~@[~A ~]~@[~A ~]~@[~A-~]~A" (get-english 2 5)))
                      (flatten (get-english 6 6)))))))
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="language_word_table">
        <ld:field ld:level="1" ld:meta="static-array" name="words" count="6" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" index-refers-to="$$._parent._parent.parts[$$._key][$]" ld:is-container="true">
                <ld:item ref-target="language_word" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="parts" count="6" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="part_of_speech" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="invasion_info" instance-vector="$global.ui.invasions.list" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="active_size1" comment="0 unless active" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="active_size2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="duration_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="active" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="siege" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="unk4b" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_population_unk4">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_1">
                <ld:field name="idx" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_3">
                <ld:field name="idx" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_population" key-field="id" instance-vector="$global.world.entity_populations">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
        </code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="races" ld:is-container="true">
            <ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="counts" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk3" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="entity_population_unk4" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="entity_population_unk4"/></ld:item>
        </ld:field>
        <ld:field name="unk5" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk6" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk7" comment="unk6 == -1" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="nemesis_flags">
        <enum-item name="ACTIVE_ADVENTURER" comment="used when loading save"/>
        <enum-item name="RETIRED_ADVENTURER" comment="allows resuming play"/>
        <enum-item name="ADVENTURER" comment="blue color in legends"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="nemesis_record" key-field="id" instance-vector="$global.world.nemesis.all">
        <ld:field name="id" comment="sequential index in the array" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="save_file_id" ref-target="unit_chunk" comment="unit-*.dat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="member_idx" comment="index in the file" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="pointer" name="figure" type-name="historical_figure" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_figure"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <code-helper name="describe">
            (describe-obj $.figure)
        </code-helper>

        <ld:field name="group_leader_id" ref-target="nemesis_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="companions" ld:is-container="true">
            <ld:item ref-target="nemesis_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="unk10" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk11" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk12" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="nemesis_flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="artifact_record" key-field="id" instance-vector="$global.world.artifacts.all">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">
            (describe-obj $.name)
        </code-helper>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>

        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="machine_type">
        <enum-item name="standard"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="machine_info">
        <ld:field name="machine_id" ref-target="machine" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="frozen" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="power_info">
        <ld:field name="produced" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="consumed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="machine_conn_modes" base-type="uint8_t">
        <ld:field name="up" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="down" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="right" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="left" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="z_up" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="z_down" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="machine_tile_set">
        <ld:field name="tiles" type-name="coord_path" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="can_connect" ld:is-container="true">
            <ld:item type-name="machine_conn_modes" ld:level="2" ld:meta="global"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="machine" original-name="machinest" instance-vector="$global.world.machines.all" key-field="id">
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="components" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_components">
                <ld:field name="building_id" ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="connections" type-name="int32_t" comment="indices into the same component vector" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field name="cur_power" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_power" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="visual_phase" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="phase_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="active" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="frozen" comment="?" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unfreeze" comment="?" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="machine_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="machine_type"/></vmethod>
            <vmethod ld:level="1" name="moveMachine">
                <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="z" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="machine_standardst" inherits-from="machine">
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_axle_horizontalst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>
        <ld:field name="is_vertical" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_axle_verticalst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_gear_assemblyst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="gear_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_gear_flags">
            <ld:field name="disengaged" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_windmillst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>

        <ld:field name="orient_angle" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="orient_mode" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="is_working" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="visual_rotated" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="rotate_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="orient_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_water_wheelst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>
        <ld:field name="is_vertical" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="gives_power" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="screw_pump_direction" base-type="int8_t">
        <enum-item name="FromNorth"/>
        <enum-item name="FromEast"/>
        <enum-item name="FromSouth"/>
        <enum-item name="FromWest"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_screw_pumpst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>

        <ld:field name="pump_energy" comment="decreases by 1 every frame. powering or manually pumping maintains near 100" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field ld:subtype="enum" name="direction" base-type="int8_t" type-name="screw_pump_direction" ld:level="1" ld:meta="global"/>

        <ld:field name="pump_manually" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="building_rollersst" inherits-from="building_actual">
        <ld:field name="machine" type-name="machine_info" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="direction" base-type="int32_t" type-name="screw_pump_direction" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="speed" init-value="50000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord2d" custom-methods="true">
        <ld:field name="x" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">(fmt "(~A,~A)" $.x $.y)</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord2d_path" custom-methods="true">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <code-helper name="describe">
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A)" $.x[i] $.y[i]))
            (when (&gt; $.x.count 3) "...")
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord" custom-methods="true">
        <ld:field name="x" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="y" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="z" init-value="-30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">(fmt "(~A,~A,~A)" $.x $.y $.z)</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="coord_path" custom-methods="true">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="x" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="y" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="z" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <code-helper name="describe">
            (fmt "[~A]" $.x.count)
            (loop for i from 0 below (min $.x.count 3)
              collect (fmt "(~A,~A,~A)" $.x[i] $.y[i] $.z[i]))
            (when (&gt; $.x.count 3) "...")
        </code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_traffic" base-type="uint32_t">
        <enum-item name="Normal"/>
        <enum-item name="Low"/>
        <enum-item name="High"/>
        <enum-item name="Restricted"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_dig_designation" base-type="uint32_t">
        <enum-item name="No" comment="no designation"/>
        <enum-item name="Default" comment="dig walls, remove stairs and ramps, gather plants, fell trees"/>
        <enum-item name="UpDownStair"/>
        <enum-item name="Channel"/>
        <enum-item name="Ramp"/>
        <enum-item name="DownStair"/>
        <enum-item name="UpStair"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_liquid" base-type="uint32_t">
        <enum-item name="Water"/>
        <enum-item name="Magma"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="tile_designation">
        <ld:field name="flow_size" count="3" comment="liquid amount" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pile" comment="stockpile?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dig" count="3" type-name="tile_dig_designation" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="smooth" count="2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="geolayer_index" count="4" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="light" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="subterranean" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="outside" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="biome" count="4" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="liquid_type" type-name="tile_liquid" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="water_table" comment="aquifer" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rained" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="traffic" count="2" type-name="tile_traffic" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="flow_forbid" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="liquid_static" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="feature_local" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="feature_global" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="water_stagnant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="water_salt" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_building_occ" base-type="uint32_t">
        <enum-item name="None" comment="no building"/>
        <enum-item name="Planned" comment="nothing built yet"/>
        <enum-item name="Passable"/>
        <enum-item name="Obstacle" comment="workshop tile; ~fortification"/>
        <enum-item name="Well"/>
        <enum-item name="Floored" comment="depot; lowered bridge"/>
        <enum-item name="Impassable"/>
        <enum-item name="Dynamic" comment="doors, grates, etc"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="tile_occupancy">
        <ld:field name="building" count="3" type-name="tile_building_occ" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unit" comment="standing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unit_grounded" comment="prone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="item" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="edge_flow_in" comment="if set on an edge tile, water or magma will flow in" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="moss" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="arrow_color" count="4" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="arrow_variant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk13_noncitizen_unit" comment="when noncitizen moves in, something happens and it is cleared" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="monster_lair" comment="A monster lair. Items placed wont be moved." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="no_grow" comment="seems to be set on terrain tiles where grass growth is impossible" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk16" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk17" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="carve_track_north" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="carve_track_south" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="carve_track_east" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="carve_track_west" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="block_flags">
        <ld:field name="designated" comment="for jobs etc" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="update_temperature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="update_liquid" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="update_liquid_twice" comment="Protects UpdateLiquid from being cleared the first time." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="repath_on_freeze" comment="reindex_pathfinding set and flag cleared if temperature below 10000" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="repath_on_melt" comment="reindex_pathfinding set and flag cleared if temperature above 10000" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_aquifer" comment="has actual aquifer tiles (?)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="check_aquifer" comment="has tiles that may get flooded by an adjacent aquifer" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="z_level_flags">
        <ld:field name="update" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="can_stop" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="update_twice" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tile_liquid_flow_dir" base-type="uint16_t">
        <enum-item name="none"/>
        <enum-item name="south"/>
        <enum-item name="east"/>
        <enum-item name="northeast"/>
        <enum-item name="west"/>
        <enum-item name="northwest"/>
        <enum-item name="southeast"/>
        <enum-item name="southwest"/>
        <enum-item name="inv_8"/>
        <enum-item name="inv_9"/>
        <enum-item name="north"/>
        <enum-item name="inv_b"/>
        <enum-item name="inv_c"/>
        <enum-item name="inv_d"/>
        <enum-item name="inv_e"/>
        <enum-item name="inv_f"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="tile_liquid_flow" base-type="uint16_t">
        <ld:field name="temp_flow_timer" count="3" comment="set when water sloshes around, counts down to zero" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk_1" count="3" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="perm_flow_dir" count="4" type-name="tile_liquid_flow_dir" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk_2" count="6" comment="periodically set whenever perm_flow_dir is nonzero" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="tile_bitmask" custom-methods="true">
        <ld:field ld:level="1" ld:meta="static-array" name="bits" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="block_burrow" custom-methods="true">
        <ld:field name="id" ref-target="burrow" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="tile_bitmask" type-name="tile_bitmask" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="pointer" name="link" type-name="block_burrow_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="block_burrow_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="block_burrow_link">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="block_burrow" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="block_burrow"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="block_burrow_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="block_burrow_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="block_burrow_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="block_burrow_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="map_block">
        <ld:field name="flags" type-name="block_flags" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="block_events" pointer-type="block_square_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="block_square_event"><ld:item ld:level="3" ld:meta="global" type-name="block_square_event"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="block_burrows" type-name="block_burrow_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="block_burrow_link"/></ld:field>

        <ld:field name="local_feature" init-value="-1" comment="index into world_data.region_map" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="global_feature" init-value="-1" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk2" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        This is compared to unit.animal.population.depth when a revealed
        necromancer searches for a map edge tile to run away to:
        <ld:field name="layer_depth" comment="uninitialized" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="dsgn_check_cooldown" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="tile_designation" name="default_liquid" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="flows" pointer-type="flow_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="flow_info"><ld:item ld:level="3" ld:meta="global" type-name="flow_info"/></ld:item></ld:field>

        <ld:field name="flow_pool" type-name="flow_reuse_pool" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="plants" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="plant"><ld:item ld:level="3" ld:meta="global" type-name="plant"/></ld:item></ld:field>

        <ld:field name="map_pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="static-array" name="tiletype" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="tiletype" init-value="OpenSpace" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="designation" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item type-name="tile_designation" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="occupancy" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item type-name="tile_occupancy" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="fog_of_war" count="16" comment="for adventure mode" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="path_cost" count="16" ld:is-container="true">
            <comment>flood; 256*cost for straight, 362*cost for diagonal</comment>
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="path_tag" count="16" ld:is-container="true">
            <comment>flood; sync to path_distance; same value; inc per run; reset to 0 on wraparound</comment>
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="walkable" count="16" ld:is-container="true">
            <comment>0 = non-walkable; same nonzero at A and B = walkable from A to B</comment>
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="map_edge_distance" count="16" ld:is-container="true">
            <comment>1 at walkable map edge; then +1 per 10 tiles it seems; 0 in dug tunnels</comment>
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="temperature_1" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="temperature_2" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="unk13" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="liquid_flow" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item type-name="tile_liquid_flow" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="region_offset" count="9" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="cave_column_link">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="cave_column" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="cave_column"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="cave_column_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="cave_column_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="cave_column_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="cave_column_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="cave_column" original-name="cave_columnst">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field init-value="30000" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>

        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="cave_column_rectangle" original-name="cave_column_rectanglest">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_9"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>

        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="map_block_column">
        <ld:field name="sink_level" comment="water at or above this level sinks into aquifer tiles" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="beach_level" comment="water at this level disappears if above more water" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="ground_level" comment="for coloring unallocated blocks" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unmined_glyphs" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unmined_glyphs">
                <ld:field ld:level="3" ld:meta="static-array" name="x" count="4" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" name="y" count="4" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" name="tile" count="4" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
            </ld:item>
                
                
                
            </ld:item>
        </ld:field>

        <ld:field name="z_base" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" name="cave_columns" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="df-linked-list" type-name="cave_column_link" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="cave_column_link"/></ld:item>
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="column_rectangles" pointer-type="cave_column_rectangle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="cave_column_rectangle"><ld:item ld:level="3" ld:meta="global" type-name="cave_column_rectangle"/></ld:item></ld:field>

        <ld:field name="z_shift" comment="seems to be 0 originally, but updated when map is shifted" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" comment="0 process cave columns for caveins" ld:is-container="true"/>

        <ld:field name="map_pos" type-name="coord2d" comment="top left in tiles" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_c3c" comment="uninitialized" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="block_square_event_type">
        <enum-item name="mineral"/>
        <enum-item name="frozen_liquid"/>
        <enum-item name="world_construction"/>
        <enum-item name="material_spatter"/>
        <enum-item name="grass"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="block_square_event" original-name="block_square_eventst">
        <virtual-methods>
            <vmethod ld:level="1" ret-type="block_square_event_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="block_square_event_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isEmpty"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>

            <vmethod ld:level="1" name="checkTemperature">
                <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="temperature" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="block_square_event_mineralst" inherits-from="block_square_event" custom-methods="true">
        <ld:field name="inorganic_mat" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tile_bitmask" type-name="tile_bitmask" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="discovered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="cluster" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="vein" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="cluster_small" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="cluster_one" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="block_square_event_frozen_liquidst" inherits-from="block_square_event">
        <ld:field ld:level="1" ld:meta="static-array" name="tiles" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="tiletype" ld:level="3" ld:meta="global"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="liquid_type" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int8_t" type-name="tile_liquid" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="block_square_event_world_constructionst" inherits-from="block_square_event">
        <ld:field name="construction_id" ref-target="world_construction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tile_bitmask" type-name="tile_bitmask" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="block_square_event_material_spatterst" inherits-from="block_square_event">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mat_state" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="static-array" name="amount" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field name="min_temperature" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="max_temperature" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="block_square_event_grassst" inherits-from="block_square_event">
        <ld:field name="plant_index" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="amount" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="feature_type">
        <enum-item name="outdoor_river"/>
        <enum-item name="cave"/>
        <enum-item name="pit"/>
        <enum-item name="magma_pool"/>
        <enum-item name="volcano"/>
        <enum-item name="deep_special_tube"/>
        <enum-item name="deep_surface_portal"/>
        <enum-item name="subterranean_from_layer"/>
        <enum-item name="magma_core_from_layer"/>
        <enum-item name="feature_underworld_from_layer"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature" original-name="featurest">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="population" pointer-type="world_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_population"><ld:item ld:level="3" ld:meta="global" type-name="world_population"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>

        <ld:field name="embark_pos" type-name="coord2d_path" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="min_map_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="max_map_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="feature_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="feature_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_3"/>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_4"/>

            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_outdoor_riverst" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_cavest" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_pitst" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_magma_poolst" inherits-from="feature">
        <ld:field name="magma_fill_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_volcanost" inherits-from="feature">
        <ld:field name="magma_fill_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_deep_special_tubest" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_deep_surface_portalst" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_subterranean_from_layerst" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_magma_core_from_layerst" inherits-from="feature"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_underworld_from_layerst" inherits-from="feature"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="feature_init_flags">
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Discovered"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init" original-name="feature_initst">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="feature_init_flags" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="alterations" pointer-type="feature_alteration" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="feature_alteration"><ld:item ld:level="3" ld:meta="global" type-name="feature_alteration"/></ld:item></ld:field>
        <ld:field name="start_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="start_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="end_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="end_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="start_depth" comment="in underground layers" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="end_depth" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="feature_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="feature_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="createFeature">
                <ret-type ld:level="3" ld:meta="pointer" type-name="feature" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="feature"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="recreateFeature" comment="destroyFeature(), then createFeature()">
                <ret-type ld:level="3" ld:meta="pointer" type-name="feature" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="feature"/></ret-type>
            </vmethod>

            <vmethod ld:level="1" name="destroyFeature"/>
            <vmethod ld:level="1" name="getFeature">
                <ret-type ld:level="3" ld:meta="pointer" type-name="feature" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="feature"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="getMaterial">
                <ld:field ld:level="2" ld:meta="pointer" name="mat_type" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="mat_index" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_9"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_10"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_11"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_12"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getColor">
                <ld:field ld:level="2" ld:meta="pointer" name="foreground" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="background" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="bright" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getName">
                <ld:field ld:level="2" ld:meta="pointer" name="name" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>

            <vmethod ld:level="1" name="isWater" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="isSubterranean" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="isMagma" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="isChasm" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="isLayer" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_20"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getLayer"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_outdoor_riverst" inherits-from="feature_init">
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_outdoor_riverst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_outdoor_riverst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_cavest" inherits-from="feature_init">
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_cavest" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_cavest"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_pitst" inherits-from="feature_init">
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_pitst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_pitst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_magma_poolst" inherits-from="feature_init">
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_magma_poolst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_magma_poolst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_volcanost" inherits-from="feature_init">
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_volcanost" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_volcanost"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_deep_special_tubest" inherits-from="feature_init">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_deep_special_tubest" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_deep_special_tubest"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_deep_surface_portalst" inherits-from="feature_init">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_deep_surface_portalst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_deep_surface_portalst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_subterranean_from_layerst" inherits-from="feature_init">
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_subterranean_from_layerst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_subterranean_from_layerst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_magma_core_from_layerst" inherits-from="feature_init">
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_magma_core_from_layerst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_magma_core_from_layerst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_init_underworld_from_layerst" inherits-from="feature_init">
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="feature" type-name="feature_underworld_from_layerst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_underworld_from_layerst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="feature_alteration_type">
        <enum-item name="new_pop_max"/>
        <enum-item name="new_lava_fill_z"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_alteration" original-name="feature_alterationst">
        <virtual-methods>
            <vmethod ld:level="1" ret-type="feature_alteration_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="feature_alteration_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_alteration_new_pop_maxst" inherits-from="feature_alteration">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="feature_alteration_new_lava_fill_zst" inherits-from="feature_alteration">
        <ld:field name="magma_fill_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="world_construction_type">
        <enum-item name="ROAD"/>
        <enum-item name="TUNNEL"/>
        <enum-item name="BRIDGE"/>
        <enum-item name="WALL"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_square" original-name="world_construction_squarest">
        <code-helper name="describe"> (describe-obj $.region_pos) </code-helper>

        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="construction_id" ref-target="world_construction" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="embark_x" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="embark_y" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="embark_unk" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="embark_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="world_construction_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="world_construction_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" comment="10 parms, possibly responsible for actually placing it on the map" ld:anon-name="anon_vmethod_4"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_square_roadst" inherits-from="world_construction_square">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_square_tunnelst" inherits-from="world_construction_square"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_square_bridgest" inherits-from="world_construction_square">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_square_wallst" inherits-from="world_construction_square">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction" original-name="world_constructionst" instance-vector="$global.world.world_data.constructions.list" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="square_obj" pointer-type="world_construction_square" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_construction_square"><ld:item ld:level="3" ld:meta="global" type-name="world_construction_square"/></ld:item></ld:field>
        <ld:field name="square_pos" type-name="coord2d_path" ld:level="1" ld:meta="global"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="world_construction_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="world_construction_type"/></vmethod>
            <vmethod ld:level="1" name="getName"><ret-type ld:level="3" ld:meta="pointer" type-name="language_name" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_name"/></ret-type></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_roadst" inherits-from="world_construction">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_tunnelst" inherits-from="world_construction">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_bridgest" inherits-from="world_construction">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="world_construction_wallst" inherits-from="world_construction">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="biome_type">
        <enum-item name="MOUNTAIN"/>
        <enum-item name="GLACIER"/>
        <enum-item name="TUNDRA"/>
        <enum-item name="SWAMP_TEMPERATE_FRESHWATER"/>
        <enum-item name="SWAMP_TEMPERATE_SALTWATER"/>
        <enum-item name="MARSH_TEMPERATE_FRESHWATER"/>
        <enum-item name="MARSH_TEMPERATE_SALTWATER"/>
        <enum-item name="SWAMP_TROPICAL_FRESHWATER"/>
        <enum-item name="SWAMP_TROPICAL_SALTWATER"/>
        <enum-item name="SWAMP_MANGROVE"/>
        <enum-item name="MARSH_TROPICAL_FRESHWATER"/>
        <enum-item name="MARSH_TROPICAL_SALTWATER"/>
        <enum-item name="FOREST_TAIGA"/>
        <enum-item name="FOREST_TEMPERATE_CONIFER"/>
        <enum-item name="FOREST_TEMPERATE_BROADLEAF"/>
        <enum-item name="FOREST_TROPICAL_CONIFER"/>
        <enum-item name="FOREST_TROPICAL_DRY_BROADLEAF"/>
        <enum-item name="FOREST_TROPICAL_MOIST_BROADLEAF"/>
        <enum-item name="GRASSLAND_TEMPERATE"/>
        <enum-item name="SAVANNA_TEMPERATE"/>
        <enum-item name="SHRUBLAND_TEMPERATE"/>
        <enum-item name="GRASSLAND_TROPICAL"/>
        <enum-item name="SAVANNA_TROPICAL"/>
        <enum-item name="SHRUBLAND_TROPICAL"/>
        <enum-item name="DESERT_BADLAND"/>
        <enum-item name="DESERT_ROCK"/>
        <enum-item name="DESERT_SAND"/>
        <enum-item name="OCEAN_TROPICAL"/>
        <enum-item name="OCEAN_TEMPERATE"/>
        <enum-item name="OCEAN_ARCTIC"/>
        <enum-item name="POOL_TEMPERATE_FRESHWATER"/>
        <enum-item name="POOL_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="POOL_TEMPERATE_SALTWATER"/>
        <enum-item name="POOL_TROPICAL_FRESHWATER"/>
        <enum-item name="POOL_TROPICAL_BRACKISHWATER"/>
        <enum-item name="POOL_TROPICAL_SALTWATER"/>
        <enum-item name="LAKE_TEMPERATE_FRESHWATER"/>
        <enum-item name="LAKE_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="LAKE_TEMPERATE_SALTWATER"/>
        <enum-item name="LAKE_TROPICAL_FRESHWATER"/>
        <enum-item name="LAKE_TROPICAL_BRACKISHWATER"/>
        <enum-item name="LAKE_TROPICAL_SALTWATER"/>
        <enum-item name="RIVER_TEMPERATE_FRESHWATER"/>
        <enum-item name="RIVER_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="RIVER_TEMPERATE_SALTWATER"/>
        <enum-item name="RIVER_TROPICAL_FRESHWATER"/>
        <enum-item name="RIVER_TROPICAL_BRACKISHWATER"/>
        <enum-item name="RIVER_TROPICAL_SALTWATER"/>
        <enum-item name="SUBTERRANEAN_WATER"/>
        <enum-item name="SUBTERRANEAN_CHASM"/>
        <enum-item name="SUBTERRANEAN_LAVA"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="construction_flags" base-type="uint8_t">
        <ld:field name="no_build_item" comment="build item is created from scratch upon removing construction, does not exist beforehand" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="top_of_wall" comment="used on the floors above constructed walls so you cannot remove them" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="construction" instance-vector="$global.world.constructions" key-field="pos">
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" type-name="item_type" base-type="int16_t" name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="construction_flags" name="flags" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="tiletype" name="original_tile" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="flow_type" base-type="int16_t">
        <enum-item name="Miasma"/>
        <enum-item name="Steam" comment="only if mat_type=1"/>
        <enum-item name="Mist"/>
        <enum-item name="MaterialDust"/>
        <enum-item name="MagmaMist"/>
        <enum-item name="Smoke"/>
        <enum-item name="Dragonfire"/>
        <enum-item name="Fire"/>
        <enum-item name="Web"/>
        <enum-item name="MaterialGas"/>
        <enum-item name="MaterialVapor"/>
        <enum-item name="OceanWave"/>
        <enum-item name="SeaFoam"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="flow_info">
        <ld:field ld:subtype="enum" type-name="flow_type" base-type="int16_t" name="type" ld:level="1" ld:meta="global"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="density" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="dest" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="expanding" init-value="1" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="reuse" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="unk3" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="flow_reuse_pool">
        <ld:field name="reuse_idx" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="active" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="effect_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="job" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        <ld:field name="type" comment="2 = falling into chasm" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="foreground" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="background" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bright" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field type-name="coord" name="pos" ld:level="1" ld:meta="global"/>
        <ld:field name="timer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="craft_material_class" comment="not in DF">
        <enum-attr name="make_skill" type-name="job_skill" default-value="NONE"/>
        <enum-attr name="improve_skill" type-name="job_skill" default-value="NONE"/>

        <enum-item name="None" value="-1"/>

        <enum-item name="Metal">
            <item-attr name="make_skill" value="FORGE_FURNITURE"/>
            <item-attr name="improve_skill" value="METALCRAFT"/>
        </enum-item>
        <enum-item name="Wood">
            <item-attr name="make_skill" value="CARPENTRY"/>
            <item-attr name="improve_skill" value="WOODCRAFT"/>
        </enum-item>
        <enum-item name="Gem">
            <item-attr name="make_skill" value="CUTGEM"/>
            <item-attr name="improve_skill" value="ENCRUSTGEM"/>
        </enum-item>
        <enum-item name="Glass">
            <item-attr name="make_skill" value="GLASSMAKER"/>
        </enum-item>
        <enum-item name="Stone">
            <item-attr name="make_skill" value="MASONRY"/>
        </enum-item>

        <enum-item name="Bone">
            <item-attr name="make_skill" value="BONECARVE"/>
            <item-attr name="improve_skill" value="BONECARVE"/>
        </enum-item>
        <enum-item name="Ivory">
            <item-attr name="make_skill" value="BONECARVE"/>
            <item-attr name="improve_skill" value="BONECARVE"/>
        </enum-item>
        <enum-item name="Horn">
            <item-attr name="make_skill" value="BONECARVE"/>
            <item-attr name="improve_skill" value="BONECARVE"/>
        </enum-item>
        <enum-item name="Pearl">
            <item-attr name="make_skill" value="BONECARVE"/>
            <item-attr name="improve_skill" value="BONECARVE"/>
        </enum-item>
        <enum-item name="Shell">
            <item-attr name="make_skill" value="BONECARVE"/>
            <item-attr name="improve_skill" value="BONECARVE"/>
        </enum-item>

        <enum-item name="Leather">
            <item-attr name="make_skill" value="LEATHERWORK"/>
            <item-attr name="improve_skill" value="LEATHERWORK"/>
        </enum-item>
        <enum-item name="Cloth">
            <item-attr name="make_skill" value="CLOTHESMAKING"/>
            <item-attr name="improve_skill" value="CLOTHESMAKING"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="builtin_mats">
        <enum-item name="INORGANIC"/>
        <enum-item name="AMBER"/>
        <enum-item name="CORAL"/>
        <enum-item name="GLASS_GREEN"/>
        <enum-item name="GLASS_CLEAR"/>
        <enum-item name="GLASS_CRYSTAL"/>
        <enum-item name="WATER"/>
        <enum-item name="COAL"/>
        <enum-item name="POTASH"/>
        <enum-item name="ASH"/>
        <enum-item name="PEARLASH"/>
        <enum-item name="LYE"/>
        <enum-item name="MUD"/>
        <enum-item name="VOMIT"/>
        <enum-item name="SALT"/>
        <enum-item name="FILTH_B"/>
        <enum-item name="FILTH_Y"/>
        <enum-item name="UNKNOWN_SUBSTANCE"/>
        <enum-item name="GRIME"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="material_flags">
        <enum-attr name="type" type-name="craft_material_class" default-value="None"/>

        <enum-item name="BONE">
            <item-attr name="type" value="Bone"/>
        </enum-item>
        <enum-item name="MEAT"/>
        <enum-item name="EDIBLE_VERMIN"/>
        <enum-item name="EDIBLE_RAW"/>
        <enum-item name="EDIBLE_COOKED"/>
        <enum-item name="ALCOHOL"/>
        <enum-item name="ITEMS_METAL"/>
        <enum-item name="ITEMS_BARRED"/>

        <enum-item name="ITEMS_SCALED"/>
        <enum-item name="ITEMS_LEATHER"/>
        <enum-item name="ITEMS_SOFT"/>
        <enum-item name="ITEMS_HARD"/>
        <enum-item name="IMPLIES_ANIMAL_KILL"/>
        <enum-item name="ALCOHOL_PLANT"/>
        <enum-item name="ALCOHOL_CREATURE"/>
        <enum-item name="CHEESE_PLANT"/>

        <enum-item name="CHEESE_CREATURE"/>
        <enum-item name="POWDER_MISC_PLANT"/>
        <enum-item name="POWDER_MISC_CREATURE"/>
        <enum-item name="STOCKPILE_GLOB"/>
        <enum-item name="LIQUID_MISC_PLANT"/>
        <enum-item name="LIQUID_MISC_CREATURE"/>
        <enum-item name="LIQUID_MISC_OTHER"/>
        <enum-item name="WOOD">
            <item-attr name="type" value="Wood"/>
        </enum-item>

        <enum-item name="THREAD_PLANT">
            <item-attr name="type" value="Cloth"/>
        </enum-item>
        <enum-item name="TOOTH">
            <item-attr name="type" value="Ivory"/>
        </enum-item>
        <enum-item name="HORN">
            <item-attr name="type" value="Horn"/>
        </enum-item>
        <enum-item name="PEARL">
            <item-attr name="type" value="Pearl"/>
        </enum-item>
        <enum-item name="SHELL">
            <item-attr name="type" value="Shell"/>
        </enum-item>
        <enum-item name="LEATHER">
            <item-attr name="type" value="Leather"/>
        </enum-item>
        <enum-item name="SILK">
            <item-attr name="type" value="Cloth"/>
        </enum-item>
        <enum-item name="SOAP"/>

        <enum-item name="ROTS"/>
        <enum-item name="IS_DYE"/>
        <enum-item name="POWDER_MISC"/>
        <enum-item name="LIQUID_MISC"/>
        <enum-item name="STRUCTURAL_PLANT_MAT"/>
        <enum-item name="SEED_MAT"/>
        <enum-item name="LEAF_MAT"/>
        <enum-item name="CHEESE"/>

        <enum-item name="ENTERS_BLOOD"/>
        <enum-item name="BLOOD_MAP_DESCRIPTOR"/>
        <enum-item name="ICHOR_MAP_DESCRIPTOR"/>
        <enum-item name="GOO_MAP_DESCRIPTOR"/>
        <enum-item name="SLIME_MAP_DESCRIPTOR"/>
        <enum-item name="PUS_MAP_DESCRIPTOR"/>
        <enum-item name="GENERATES_MIASMA"/>
        <enum-item name="IS_METAL">
            <item-attr name="type" value="Metal"/>
        </enum-item>

        <enum-item name="IS_GEM">
            <item-attr name="type" value="Gem"/>
        </enum-item>
        <enum-item name="IS_GLASS">
            <item-attr name="type" value="Glass"/>
        </enum-item>
        <enum-item name="CRYSTAL_GLASSABLE"/>
        <enum-item name="ITEMS_WEAPON"/>
        <enum-item name="ITEMS_WEAPON_RANGED"/>
        <enum-item name="ITEMS_ANVIL"/>
        <enum-item name="ITEMS_AMMO"/>
        <enum-item name="ITEMS_DIGGER"/>

        <enum-item name="ITEMS_ARMOR"/>
        <enum-item name="ITEMS_DELICATE"/>
        <enum-item name="ITEMS_SIEGE_ENGINE"/>
        <enum-item name="ITEMS_QUERN"/>
        <enum-item name="IS_STONE">
            <item-attr name="type" value="Stone"/>
        </enum-item>
        <enum-item name="UNDIGGABLE"/>
        <enum-item name="YARN">
            <item-attr name="type" value="Cloth"/>
        </enum-item>
        <enum-item name="STOCKPILE_GLOB_PASTE"/>

        <enum-item name="STOCKPILE_GLOB_PRESSED"/>
        <enum-item name="DISPLAY_UNGLAZED"/>
        <enum-item name="DO_NOT_CLEAN_GLOB"/>
        <enum-item name="NO_STONE_STOCKPILE"/>
        <enum-item name="STOCKPILE_THREAD_METAL"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="matter_state" base-type="int16_t">
        <enum-item name="Solid"/>
        <enum-item name="Liquid"/>
        <enum-item name="Gas"/>
        <enum-item name="Powder"/>
        <enum-item name="Paste"/>
        <enum-item name="Pressed"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="strain_type">
        <enum-item name="BENDING"/>
        <enum-item name="SHEAR"/>
        <enum-item name="TORSION"/>
        <enum-item name="IMPACT"/>
        <enum-item name="TENSILE"/>
        <enum-item name="COMPRESSIVE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="material_common">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="gem_name1" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="gem_name2" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="stone_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="heat" ld:level="1" ld:meta="compound" ld:typedef-name="T_heat">
            <ld:field name="spec_heat" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="heatdam_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="colddam_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="ignite_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="melting_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="boiling_point" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="mat_fixed_temp" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        </ld:field>

        <ld:field name="solid_density" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="liquid_density" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="molar_mass" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="static-array" name="state_color" type-name="int32_t" count="6" index-enum="matter_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="state_name" type-name="stl-string" count="6" index-enum="matter_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="state_adj" type-name="stl-string" count="6" index-enum="matter_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="strength" ld:level="1" ld:meta="compound" ld:typedef-name="T_strength">
            <ld:field name="absorption" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" name="yield" type-name="int32_t" count="6" index-enum="strain_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="fracture" type-name="int32_t" count="6" index-enum="strain_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="strain_at_yield" type-name="int32_t" count="6" index-enum="strain_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="max_edge" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="material_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="material_flags" ld:is-container="true"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="extract_storage" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="butcher_special_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="butcher_special_subtype" refers-to="(item-subtype-target $$._parent.butcher_special_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" name="meat_name" type-name="stl-string" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="block_name" type-name="stl-string" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>

        <ld:field name="reaction_product" ld:level="1" ld:meta="compound" ld:typedef-name="T_reaction_product">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="id" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field name="material" type-name="material_vec_ref" ld:level="2" ld:meta="global"/>

            <ld:field ld:level="2" ld:meta="static-array" name="str" count="3" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="hardens_with_water" ld:level="1" ld:meta="compound" ld:typedef-name="T_hardens_with_water">
            <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" name="str" type-name="stl-string" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reaction_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field ld:level="1" ld:meta="static-array" name="basic_color" type-name="int16_t" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="build_color" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="tile_color" type-name="int16_t" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="item_symbol" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field name="powder_dye" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> // color token index
        <ld:field name="temp_diet_info" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syndrome" pointer-type="syndrome" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="syndrome"><ld:item ld:level="3" ld:meta="global" type-name="syndrome"/></ld:item></ld:field>

        <ld:field name="soap_level" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="material" inherits-from="material_common" custom-methods="true">
        <code-helper name="find-instance">(material-by-id $ $$)</code-helper>
        <code-helper name="describe"> (describe-material $) </code-helper>

        <ld:field name="prefix" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:level="1" ld:meta="static-array" name="food_mat_index" count="37" index-enum="organic_mat_category" ld:is-container="true">
            <ld:item refers-to="(food-mat-by-idx $$._key $)" comment="When valid, refers to itself." ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="powder_dye_str" comment="temporary" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="static-array" name="state_color_str" type-name="stl-string" count="6" index-enum="matter_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="material_vec_ref">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mat_type" ld:is-container="true">
            <ld:item ref-target="material" aux-value="$$._parent.mat_index[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mat_index" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="material_template" inherits-from="material_common">
        <code-helper name="describe"> (describe-material $) </code-helper>

        <ld:field name="powder_dye_str" comment="temporary" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="static-array" name="state_color_str" type-name="stl-string" count="6" index-enum="matter_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="inorganic_flags">
        <enum-item name="LAVA"/>
        <enum-item name="GENERATED"/>
        <enum-item name="ENVIRONMENT_NON_SOIL_OCEAN" comment="has ENVIRONMENT with anything but SOIL_OCEAN"/>
        <enum-item name="SEDIMENTARY"/>
        <enum-item name="SEDIMENTARY_OCEAN_SHALLOW"/>
        <enum-item name="IGNEOUS_INTRUSIVE"/>
        <enum-item name="IGNEOUS_EXTRUSIVE"/>
        <enum-item name="METAMORPHIC"/>

        <enum-item name="DEEP_SURFACE"/>
        <enum-item name="METAL_ORE"/>
        <enum-item name="AQUIFER"/>
        <enum-item name="SOIL_ANY"/>
        <enum-item name="SOIL_OCEAN"/>
        <enum-item name="SOIL_SAND"/>
        <enum-item name="SEDIMENTARY_OCEAN_DEEP"/>
        <enum-item name="THREAD_METAL"/>

        <enum-item name="SPECIAL" comment="or any DEEP_*"/>
        <enum-item name="SOIL"/>
        <enum-item name="DEEP_SPECIAL"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item name="WAFERS"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="environment_type" base-type="int16_t">
        <enum-item name="SOIL"/>
        <enum-item name="SOIL_OCEAN"/>
        <enum-item name="SOIL_SAND"/>
        <enum-item name="METAMORPHIC"/>
        <enum-item name="SEDIMENTARY"/>
        <enum-item name="IGNEOUS_INTRUSIVE"/>
        <enum-item name="IGNEOUS_EXTRUSIVE"/>
        <enum-item name="ALLUVIAL"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="inclusion_type" base-type="int16_t">
        <enum-item comment="unused"/>
        <enum-item name="VEIN"/>
        <enum-item name="CLUSTER"/>
        <enum-item name="CLUSTER_SMALL"/>
        <enum-item name="CLUSTER_ONE"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="inorganic_raw" instance-vector="$global.world.raws.inorganics" custom-methods="true">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="str" comment="v0.34.01" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <code-helper name="describe">$.id</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="inorganic_flags" ld:is-container="true"/>

        <ld:field name="metal_ore" ld:level="1" ld:meta="compound" ld:typedef-name="T_metal_ore">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="str" comment="only during parsing" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_index" ld:is-container="true">
                <ld:item ref-target="inorganic_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="probability" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field name="thread_metal" ld:level="1" ld:meta="compound" ld:typedef-name="T_thread_metal">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="str" comment="only during parsing" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_index" ld:is-container="true">
                <ld:item ref-target="inorganic_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="probability" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="economic_uses" ref-target="reaction" ld:is-container="true"><ld:item ref-target="reaction" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="environment_spec" ld:level="1" ld:meta="compound" ld:typedef-name="T_environment_spec">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="str" comment="only during parsing" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_index" ld:is-container="true">
                <ld:item ref-target="inorganic_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="inclusion_type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="inclusion_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int8_t" name="probability" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="environment" ld:level="1" ld:meta="compound" ld:typedef-name="T_environment">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="location" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="environment_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="inclusion_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int8_t" name="probability" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="material" type-name="material" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="organic_mat_category">
        <enum-item name="Meat"/>
        <enum-item name="Fish"/>
        <enum-item name="UnpreparedFish"/>
        <enum-item name="Eggs"/>
        <enum-item name="Plants"/>
        <enum-item name="PlantDrink"/>
        <enum-item name="CreatureDrink"/>
        <enum-item name="PlantCheese"/>
        <enum-item name="CreatureCheese"/>
        <enum-item name="Seed"/>
        <enum-item name="Leaf"/>
        <enum-item name="PlantPowder"/>
        <enum-item name="CreaturePowder"/>
        <enum-item name="Glob"/>
        <enum-item name="PlantLiquid"/>
        <enum-item name="CreatureLiquid"/>
        <enum-item name="MiscLiquid"/>
        <enum-item name="Leather"/>
        <enum-item name="Silk"/>
        <enum-item name="PlantFiber"/>
        <enum-item name="Bone"/>
        <enum-item name="Shell"/>
        <enum-item name="Wood"/>
        <enum-item name="Horn"/>
        <enum-item name="Pearl"/>
        <enum-item name="Tooth"/>
        <enum-item name="EdibleCheese"/>
        <enum-item name="AnyDrink"/>
        <enum-item name="EdiblePlant"/>
        <enum-item name="CookableLiquid"/>
        <enum-item name="CookablePowder"/>
        <enum-item name="CookableSeed"/>
        <enum-item name="CookableLeaf"/>
        <enum-item name="Paste"/>
        <enum-item name="Pressed"/>
        <enum-item name="Yarn"/>
        <enum-item name="MetalThread"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="special_mat_table">
        <ld:field ld:level="1" ld:meta="static-array" name="organic_types" count="37" index-enum="organic_mat_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" index-refers-to="(food-mat-by-idx $$._key $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="organic_indexes" count="37" index-enum="organic_mat_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="organic_unknown" count="37" comment="everything 0" index-enum="organic_mat_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="builtin" count="659" index-enum="builtin_mats" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" type-name="material" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="material"/></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="dipscript_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="script_file" comment="data/dipscript/dwarf_liaison" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="script_steps" pointer-type="script_stepst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="script_stepst"><ld:item ld:level="3" ld:meta="global" type-name="script_stepst"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="script_vars" pointer-type="script_varst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="script_varst"><ld:item ld:level="3" ld:meta="global" type-name="script_varst"/></ld:item></ld:field>
        <ld:field name="code" comment="DWARF_LIAISON etc" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <code-helper name="describe">$.code</code-helper>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="dipscript_popup">
        <ld:field ld:level="1" ld:meta="pointer" name="meeting_holder" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="activity" type-name="activity_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="activity_info"/></ld:field>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="close_screen" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="new_screen" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_stepst">
        <ld:field name="next_step_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" name="setNextStep" ret-type="bool">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="idx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="execute" ret-type="int32_t">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" name="context" type-name="meeting_context" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="meeting_context"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="skip" ret-type="int32_t">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" name="context" type-name="meeting_context" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="meeting_context"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_setvarst" inherits-from="script_stepst">
        <ld:field name="dest_type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="dest_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="src_type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="src_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_simpleactionst" inherits-from="script_stepst">
        <ld:field name="type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="subtype" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_conditionalst" inherits-from="script_stepst">
        <ld:field name="condition" ld:level="1" ld:meta="compound" ld:typedef-name="T_condition">
            <ld:field name="var1_type" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="var1_name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="comparison" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="var2_type" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="var2_name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
        </ld:field>
        <ld:field name="conditional_next_step_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_textviewerst" inherits-from="script_stepst">
        <ld:field name="filename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="outvar_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_diphistoryst" inherits-from="script_stepst">
        <ld:field name="event" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_discussst" inherits-from="script_stepst">
        <ld:field name="event" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_topicdiscussionst" inherits-from="script_stepst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_constructtopiclistst" inherits-from="script_stepst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_dipeventst" inherits-from="script_step_eventst">
        <ld:field name="parm1" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm2" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm3" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm4" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="parm5" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_invasionst" inherits-from="script_step_eventst">
        <ld:field name="parm" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_step_eventst" inherits-from="script_stepst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_varst">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <virtual-methods>
            <vmethod ld:level="1" name="instantiate">
                <ret-type ld:level="3" ld:meta="pointer" type-name="active_script_varst" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="active_script_varst"/></ret-type>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_var_unitst" inherits-from="script_varst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="script_var_longst" inherits-from="script_varst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="active_script_varst">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <virtual-methods>
            <vmethod ld:level="1" name="setColor"/>
            <vmethod ld:level="1" name="formatString">
                <ld:field ld:level="2" ld:meta="pointer" type-name="static-string" name="output" ld:is-container="true"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="format" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getValue">
                <ld:field ld:level="2" ld:meta="pointer" name="int_value" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="ref_value" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="setValue">
                <ld:field ld:level="2" ld:meta="pointer" name="var" type-name="meeting_variable" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="meeting_variable"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="removeUnit">
                <ld:field ld:level="2" ld:meta="pointer" name="ref_value" type-name="specific_ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="active_script_var_unitst" inherits-from="active_script_varst">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="active_script_var_longst" inherits-from="active_script_varst">
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_variable">
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ref" type-name="specific_ref" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="pointer" name="active_var" type-name="active_script_varst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="active_script_varst"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_context">
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_diplomat_info">
        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk1" comment="maybe is_first_contact" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="diplomat_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="associate_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="topic_list" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int32_t" type-name="meeting_topic" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="topic_parms" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_requests" name="sell_requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_requests"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_requests" name="buy_requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_requests"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="dipscript" type-name="dipscript_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_info"/></ld:field>
        <ld:field name="cur_step" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="active_script_vars" pointer-type="active_script_varst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="active_script_varst"><ld:item ld:level="3" ld:meta="global" type-name="active_script_varst"/></ld:item></ld:field>
        <ld:field name="unk_50" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_6c" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="dynamic_load" comment="destroy dipscript_info in destructor" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="failure" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="success" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="meeting_event" name="events" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_event"><ld:item ld:level="3" ld:meta="global" type-name="meeting_event"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_entity" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_topic" type-name="meeting_topic" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_topic"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_outcome" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_entity" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contact_tick" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="meeting_topic" base-type="int16_t">
        <enum-item name="DiscussCurrent"/>
        <enum-item name="RequestPeace"/>
        <enum-item name="TreeQuota"/>
        <enum-item name="BecomeLandHolder"/>
        <enum-item name="PromoteLandHolder"/>
        <enum-item name="ExportAgreement"/>
        <enum-item name="ImportAgreement"/>
        <enum-item name="PleasantPlace"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="meeting_event_type" base-type="int16_t">
        <enum-item name="AcceptAgreement"/>
        <enum-item name="RejectAgreement"/>
        <enum-item name="AcceptPeace"/>
        <enum-item name="RejectPeace"/>
        <enum-item name="ExportAgreement"/>
        <enum-item name="ImportAgreement"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="meeting_event">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_event_type" name="type" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="meeting_topic" name="topic" ld:level="1" ld:meta="global"/>
        <ld:field name="topic_parm" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="quota_total" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="quota_remaining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ticks" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_prices" name="sell_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_prices"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_prices" name="buy_prices" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_prices"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="activity_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="unit_actor" type-name="unit" comment="diplomat or worker" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unit_noble" type-name="unit" comment="meeting recipient" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="place" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="next_step" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="checked_building" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="add_delay" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="topic_discussed" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="meeting_done" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="unk3" comment="3" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="delay" comment="0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="tree_quota" comment="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="pet_info">
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pet_item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pet_unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="owner_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="party_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="location" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field name="timer" comment="-1 per 10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="room_rent_info">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="elements" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field name="rent_value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="eviction_underway" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="move_underway" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="activity_entry" instance-vector="$global.world.activities.all" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="is_individual" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="events" pointer-type="activity_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="activity_event"><ld:item ld:level="3" ld:meta="global" type-name="activity_event"/></ld:item></ld:field>
        <ld:field name="next_event_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="activity_event_type">
        <enum-item name="TrainingSession"/>
        <enum-item name="CombatTraining"/>
        <enum-item name="SkillDemonstration"/>
        <enum-item name="IndividualSkillDrill"/>
        <enum-item name="Sparring"/>
        <enum-item name="RangedPractice"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="activity_event_participants">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfigs" ld:is-container="true">
            <ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" ld:is-container="true">
            <ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        -- Seemingly units that are free to be grouped
        -- away into subevents or sparring pairs.
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="free_histfigs" ld:is-container="true">
            <ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="free_units" ld:is-container="true">
            <ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        -- Holder event
        <ld:field name="activity_id" ref-target="activity_entry" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="event_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event" original-name="activity_eventst">
        <ld:field name="event_id" comment="mostly, but not always, the index in activity.events" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="activity_id" ref-target="activity_entry" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="find-instance">
            (let ((activity (find-instance $activity_entry $$)))
              (find-by-id $activity.events $event_id $))
        </code-helper>

        <ld:field name="parent_event_id" ref-target="activity_event" aux-value="$$.activity_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="dismissed" comment="to be removed from squad_position, anyway" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="squad" comment="for all in training session, but not ind.drill" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="activity_event_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="activity_event_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" ret-type="bool" name="isEmpty" comment="returns true if hist_figure_ids empty or if various subclass fields are uninitialized"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" comment="returns -1" ld:anon-name="anon_vmethod_5"/>
            <vmethod ld:level="1" comment="does nothing" ld:anon-name="anon_vmethod_6"> <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="getParticipantInfo">
                <ret-type ld:level="3" ld:meta="pointer" type-name="activity_event_participants" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="activity_event_participants"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="dismiss"> <ld:field name="children_too" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/> </vmethod>
            <vmethod ld:level="1" name="removeParticipant"> <ld:field name="histfig" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>

            <vmethod ld:level="1" name="process"> <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="checkDrillInvalid"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="decUniformLock"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getSquadEventType">
                <ret-type ld:subtype="enum" base-type="int16_t" type-name="squad_event_type" ld:level="3" ld:meta="global"/>
            </vmethod>
            <vmethod ld:level="1" name="setDemoSkill">
                <ld:field ld:subtype="enum" base-type="int16_t" name="skill" type-name="job_skill" ld:level="2" ld:meta="global"/>
            </vmethod>

            <vmethod ld:level="1" name="setSkillDemoTimers">
                <ld:field name="wait_countdown" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="train_rounds" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="train_countdown" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="adjustOrganizeCounter">
                <ld:field name="amount" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getOrganizer" comment="or perhaps somebody else - only works for combat_training and skill_demonstration">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="hist_figure_id" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" name="unit_id" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getBuilding" comment="returns pointer to building_id">
                <ret-type ld:level="3" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSparring"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="int16_t" name="getUniformType"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="getName">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="str" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event_individual_skill_drillst" inherits-from="activity_event">
        <ld:field name="participants" type-name="activity_event_participants" ld:level="1" ld:meta="global"/>

        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="countdown" init-value="300" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event_training_sessionst" inherits-from="activity_event">
        <ld:field name="participants" type-name="activity_event_participants" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event_combat_trainingst" inherits-from="activity_event">
        <ld:field name="participants" type-name="activity_event_participants" ld:level="1" ld:meta="global"/>

        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="organize_counter" comment="gt 0 =&gt; organizing, lt 0 =&gt; done" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event_skill_demonstrationst" inherits-from="activity_event">
        <ld:field name="participants" type-name="activity_event_participants" ld:level="1" ld:meta="global"/>

        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="skill" type-name="job_skill" ld:level="1" ld:meta="global"/>
        <ld:field name="organize_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="wait_countdown" init-value="100" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="train_rounds" init-value="15" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="train_countdown" init-value="20" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event_ranged_practicest" inherits-from="activity_event">
        <ld:field name="participants" type-name="activity_event_participants" ld:level="1" ld:meta="global"/>

        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="uniform_lock" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="activity_event_sparringst" inherits-from="activity_event">
        <ld:field name="participants" type-name="activity_event_participants" ld:level="1" ld:meta="global"/>

        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="groups" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_groups">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="units" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field name="countdown" init-value="300" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="building_id" ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="countdown" init-value="300" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="schedule_info" key-field="id" instance-vector="$global.world.schedules.all">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="slots" pointer-type="schedule_slot" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="schedule_slot"><ld:item ld:level="3" ld:meta="global" type-name="schedule_slot"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="schedule_slot">
        <ld:field name="type" comment="0:Eat, 1:Sleep, 2-4:???" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="start_time" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="end_time" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field name="processed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="uniform_indiv_choice">
        <ld:field name="any" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="melee" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ranged" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="item_filter_spec">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="material_class" type-name="entity_material_category" ld:level="1" ld:meta="global"/>

        <ld:field name="mattype" ref-target="material" aux-value="$$.matindex" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="matindex" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="squad_uniform_spec">
        <ld:field name="item" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="item_filter" type-name="item_filter_spec" ld:level="1" ld:meta="global"/>

        <ld:field name="color" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="indiv_choice" type-name="uniform_indiv_choice" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="squad_ammo_spec">
        <ld:field name="item_filter" type-name="item_filter_spec" ld:level="1" ld:meta="global"/>

        <ld:field name="amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" base-type="uint32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="use_combat" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="use_training" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="squad_use_flags" base-type="uint32_t">
        <ld:field name="sleep" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="train" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="indiv_eq" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="squad_eq" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="uniform_category" base-type="int16_t">
        <enum-item name="body"/>
        <enum-item name="head"/>
        <enum-item name="pants"/>
        <enum-item name="gloves"/>
        <enum-item name="shoes"/>
        <enum-item name="shield"/>
        <enum-item name="weapon"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="uniform_flags" base-type="uint32_t">
        <ld:field name="replace_clothing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="exact_matches" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="barrack_preference_category">
        <enum-item name="Bed"/>
        <enum-item name="Armorstand"/>
        <enum-item name="Box"/>
        <enum-item name="Cabinet"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="squad_event_type" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="Unk0"/>
        <enum-item name="Unk1"/>
        <enum-item name="Unk2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="squad_position">
        <ld:field name="occupant" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">(describe-obj @.occupant)</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orders" pointer-type="squad_order" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad_order"><ld:item ld:level="3" ld:meta="global" type-name="squad_order"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="preferences" count="4" index-enum="barrack_preference_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ref-target="building" ld:is-container="true"><ld:item ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="uniform" count="7" index-enum="uniform_category" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="squad_uniform_spec" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad_uniform_spec"><ld:item ld:level="4" ld:meta="global" type-name="squad_uniform_spec"/></ld:item></ld:item>
        </ld:field>

        <ld:field name="unk_c4" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="flags" type-name="uniform_flags" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assigned_items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="quiver" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="backpack" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="flask" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        -- May be invalid:
        <ld:field ld:level="1" ld:meta="static-array" name="activities" count="3" index-enum="squad_event_type" type-name="int32_t" ref-target="activity_entry" ld:is-container="true"><ld:item ref-target="activity_entry" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="events" count="3" index-enum="squad_event_type" type-name="int32_t" ref-target="activity_event" aux-value="$._global.activities[$._key]" ld:is-container="true"><ld:item ref-target="activity_event" aux-value="$._global.activities[$._key]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="unk_118" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_11c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="squad_schedule_order">
        <ld:field ld:level="1" ld:meta="pointer" name="order" type-name="squad_order" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="squad_order"/></ld:field>
        <ld:field name="min_count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-bit-vector" name="positions" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="squad_schedule_entry">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="sleep_mode" comment="0 room, 1 barrack will, 2 barrack need" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="uniform_mode" comment="0 uniformed, 1 civ clothes" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orders" pointer-type="squad_schedule_order" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad_schedule_order"><ld:item ld:level="3" ld:meta="global" type-name="squad_schedule_order"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="order_assignments" index-refers-to="$$._global._upglobal.positions[$]" ld:is-container="true">
            -- weird change to pointer to int in v0.34.01
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item refers-to="$$._parent._parent._parent.orders[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="squad" key-field="id" instance-vector="$global.world.squads.all">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <ld:field name="alias" comment="if not empty, used instead of name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">
            (describe-obj $.name)
        </code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="positions" pointer-type="squad_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad_position"><ld:item ld:level="3" ld:meta="global" type-name="squad_position"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orders" pointer-type="squad_order" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad_order"><ld:item ld:level="3" ld:meta="global" type-name="squad_order"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="schedule" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="12" type-name="squad_schedule_entry" ld:is-container="true" ld:typedef-name="T_schedule"><ld:item ld:level="4" ld:meta="global" type-name="squad_schedule_entry"/></ld:item>
            </ld:item>
        </ld:field>

        <ld:field name="cur_alert_idx" refers-to="$$._parent.schedule[$]" init-value="0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rooms" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_rooms">
                <ld:field name="building_id" ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="mode" type-name="squad_use_flags" ld:level="3" ld:meta="global"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rack_combat" type-name="int32_t" ref-target="building" ld:is-container="true"><ld:item ref-target="building" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rack_training" type-name="int32_t" ref-target="building" ld:is-container="true"><ld:item ref-target="building" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="uniform_priority" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="activity" ref-target="activity_entry" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ammunition" pointer-type="squad_ammo_spec" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad_ammo_spec"><ld:item ld:level="3" ld:meta="global" type-name="squad_ammo_spec"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="train_weapon_free" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="train_weapon_inuse" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ammo_items" ld:is-container="true">
            <ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ammo_units" ld:is-container="true">
            <ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="carry_food" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="carry_water" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="squad_order_type">
        <enum-item name="MOVE"/>
        <enum-item name="KILL_LIST"/>
        <enum-item name="DEFEND_BURROWS"/>
        <enum-item name="PATROL_ROUTE"/>
        <enum-item name="TRAIN"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="squad_order_cannot_reason">
        text in viewscreen_unitlistst
        <enum-item name="not_following_order"/>
        <enum-item name="activity_cancelled"/>
        <enum-item name="no_barracks"/>
        <enum-item name="improper_barracks"/>
        <enum-item name="no_activity"/>
        <enum-item name="cannot_individually_drill"/>
        <enum-item name="does_not_exist"/>
        <enum-item name="no_archery_target"/>
        <enum-item name="improper_building"/>
        <enum-item name="unreachable_location"/>
        <enum-item name="invalid_location"/>
        <enum-item name="no_reachable_valid_target"/>
        <enum-item name="no_burrow"/>
        <enum-item name="not_in_squad"/>
        <enum-item name="no_patrol_route"/>
        <enum-item name="no_reachable_point_on_route"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="squad_order" original-name="squad_orderst">
        <virtual-methods>
            <vmethod ld:level="1" name="clone"> <ret-type ld:level="3" ld:meta="pointer" type-name="squad_order" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="squad_order"/></ret-type> </vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="squad_order_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="squad_order_type"/></vmethod>
            <vmethod ld:level="1" name="isPatrol" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod> whether or not dwarves get unhappy while doing this

            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="offsetPosition">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="process">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" name="soldier" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="squad_order_cannot_reason" name="reasonCannot">
                <ret-type ld:level="2" ld:meta="global" type-name="squad_order_cannot_reason"/>
                <ld:field ld:level="2" ld:meta="pointer" name="soldier" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="decUniformLock">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" name="soldier" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            </vmethod>

            <vmethod ld:level="1" name="isFulfilled" ret-type="bool" comment="v0.34.11; true if all killed"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="getTargetUnits">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getUniformType">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="2" ld:meta="pointer" name="soldier" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getDescription"> <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field> </vmethod>
            <vmethod ld:level="1" name="isInactive" ret-type="bool" comment="always false"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="isCombat" ret-type="bool" comment="not train"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="squad_order_trainst" inherits-from="squad_order"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="squad_order_movest" inherits-from="squad_order">
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="unk" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="squad_order_kill_listst" inherits-from="squad_order">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" ld:is-container="true">
            <ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfigs" ld:is-container="true">
            <ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field name="title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_path_goal" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="ComeToJobBuilding"/>
        <enum-item name="ValidPondDumpUnit"/>
        <enum-item name="ValidPondDump"/>
        <enum-item name="ConflictDefense"/>
        <enum-item name="AdventureMove"/>
        <enum-item name="MarauderMill"/>
        <enum-item name="WildernessCuriousStealTarget"/>
        <enum-item name="WildernessRoamer"/>
        <enum-item name="ThiefTarget"/>
        <enum-item name="Owner"/>
        <enum-item name="CheckChest"/>
        <enum-item name="SleepBed"/>
        <enum-item name="SleepBarracks"/>
        <enum-item name="SleepGround"/>
        <enum-item name="LeaveWall"/>
        <enum-item name="FleeTerrain"/>
        <enum-item name="TaxRoom"/>
        <enum-item name="GuardTaxes"/>
        <enum-item name="RansackTaxes"/>
        <enum-item name="GetEmptySandBag"/>
        <enum-item name="SandZone"/>
        <enum-item name="GrabCage"/>
        <enum-item name="UncageAnimal"/>
        <enum-item name="CaptureSmallPet"/>
        <enum-item name="GrabCageUnit"/>
        <enum-item name="GoToCage"/>
        <enum-item name="GrabAnimalTrap"/>
        <enum-item name="CageVermin"/>
        <enum-item name="GrabUnfillBucket"/>
        <enum-item name="SeekFillBucket"/>
        <enum-item name="SeekPatientForCarry"/>
        <enum-item name="SeekPatientForDiagnosis"/>
        <enum-item name="SeekPatientForImmobilizeBreak"/>
        <enum-item name="SeekPatientForCrutch"/>
        <enum-item name="SeekPatientForSuturing"/>
        <enum-item name="SeekSurgerySite"/>
        <enum-item name="CarryPatientToBed"/>
        <enum-item name="SeekGiveWaterBucket"/>
        <enum-item name="SeekJobItem"/>
        <enum-item name="SeekUnitForItemDrop"/>
        <enum-item name="SeekUnitForJob"/>
        <enum-item name="SeekSplint"/>
        <enum-item name="SeekCrutch"/>
        <enum-item name="SeekSutureThread"/>
        <enum-item name="SeekDressingCloth"/>
        <enum-item name="GoToGiveWaterTarget"/>
        <enum-item name="SeekFoodForTarget"/>
        <enum-item name="SeekTargetForFood"/>
        <enum-item name="SeekAnimalForSlaughter"/>
        <enum-item name="SeekSlaughterBuilding"/>
        <enum-item name="SeekAnimalForChain"/>
        <enum-item name="SeekChainForAnimal"/>
        <enum-item name="SeekCageForUnchain"/>
        <enum-item name="SeekAnimalForUnchain"/>
        <enum-item name="GrabFoodForTaming"/>
        <enum-item name="SeekAnimalForTaming"/>
        <enum-item name="SeekDrinkItem"/>
        <enum-item name="SeekFoodItem"/>
        <enum-item name="SeekEatingChair"/>
        <enum-item name="SeekEatingChair2"/>
        <enum-item name="SeekBadMoodBuilding"/>
        <enum-item name="SetGlassMoodBuilding"/>
        <enum-item name="SetMoodBuilding"/>
        <enum-item name="SeekFellVictim"/>
        <enum-item name="CleanBuildingSite"/>
        <enum-item name="ResetPriorityGoal"/>
        <enum-item name="MainJobBuilding"/>
        <enum-item name="DropOffJobItems"/>
        <enum-item name="GrabJobResources"/>
        <enum-item name="WorkAtBuilding"/>
        <enum-item name="GrabUniform"/>
        <enum-item name="GrabClothing"/>
        <enum-item name="GrabWeapon"/>
        <enum-item name="GrabAmmunition"/>
        <enum-item name="GrabShield"/>
        <enum-item name="GrabArmor"/>
        <enum-item name="GrabHelm"/>
        <enum-item name="GrabBoots"/>
        <enum-item name="GrabGloves"/>
        <enum-item name="GrabPants"/>
        <enum-item name="GrabQuiver"/>
        <enum-item name="GrabBackpack"/>
        <enum-item name="GrabWaterskin"/>
        <enum-item name="StartHunt"/>
        <enum-item name="StartFish"/>
        <enum-item name="Clean"/>
        <enum-item name="HuntVermin"/>
        <enum-item name="Patrol"/>
        <enum-item name="SquadStation"/>
        <enum-item name="SeekInfant"/>
        <enum-item name="ShopSpecific"/>
        <enum-item name="MillInShop"/>
        <enum-item name="GoToShop"/>
        <enum-item name="SeekTrainingAmmunition"/>
        <enum-item name="ArcheryTrainingSite"/>
        <enum-item name="SparringPartner"/>
        <enum-item name="SparringSite"/>
        <enum-item name="AttendParty"/>
        <enum-item name="SeekArtifact"/>
        <enum-item name="GrabAmmunitionForBuilding"/>
        <enum-item name="SeekBuildingForAmmunition"/>
        <enum-item name="SeekItemForStorage"/>
        <enum-item name="StoreItem"/>
        <enum-item name="GrabKill"/>
        <enum-item name="DropKillAtButcher"/>
        <enum-item name="DropKillOutFront"/>
        <enum-item name="GoToBeatingTarget"/>
        <enum-item name="SeekKidnapVictim"/>
        <enum-item name="SeekHuntingTarget"/>
        <enum-item name="SeekTargetMechanism"/>
        <enum-item name="SeekTargetForMechanism"/>
        <enum-item name="SeekMechanismForTrigger"/>
        <enum-item name="SeekTriggerForMechanism"/>
        <enum-item name="SeekTrapForVerminCatch"/>
        <enum-item name="SeekVerminForCatching"/>
        <enum-item name="SeekVerminCatchLocation"/>
        <enum-item name="WanderVerminCatchLocation"/>
        <enum-item name="SeekVerminForHunting"/>
        <enum-item name="SeekVerminHuntingSpot"/>
        <enum-item name="WanderVerminHuntingSpot"/>
        <enum-item name="SeekFishTrap"/>
        <enum-item name="SeekFishCatchLocation"/>
        <enum-item name="SeekWellForWater"/>
        <enum-item name="SeekDrinkAreaForWater"/>
        <enum-item name="ManageWorkOrders"/>
        <enum-item name="UpdateStockpileRecords"/>
        <enum-item name="UpgradeSquadEquipment"/>
        <enum-item name="PrepareEquipmentManifests"/>
        <enum-item name="WanderDepot"/>
        <enum-item name="SeekUpdateOffice"/>
        <enum-item name="SeekManageOffice"/>
        <enum-item name="AssignedBuildingJob"/>
        <enum-item name="ChaseOpponent"/>
        <enum-item name="FleeFromOpponent"/>
        <enum-item name="AttackBuilding"/>
        <enum-item name="StartBedCarry"/>
        <enum-item name="StartGiveFoodWater"/>
        <enum-item name="StartMedicalAid"/>
        <enum-item name="SeekStationFlood"/>
        <enum-item name="SeekStation"/>
        <enum-item name="StartWaterJobWell"/>
        <enum-item name="StartWaterJobDrinkArea"/>
        <enum-item name="StartEatJob"/>
        <enum-item name="ScheduledMeal"/>
        <enum-item name="ScheduledSleepBed"/>
        <enum-item name="ScheduledSleepGround"/>
        <enum-item name="Rest"/>
        <enum-item name="RemoveConstruction"/>
        <enum-item name="Chop"/>
        <enum-item name="Detail"/>
        <enum-item name="GatherPlant"/>
        <enum-item name="Dig"/>
        <enum-item name="Mischief"/>
        <enum-item name="ChaseOpponentSameSquare"/>
        <enum-item name="RestRecovered"/>
        <enum-item name="RestReset"/>
        <enum-item name="CombatTraining"/>
        <enum-item name="SkillDemonstration"/>
        <enum-item name="IndividualSkillDrill"/>
        <enum-item name="SeekBuildingForItemDrop"/>
        <enum-item name="SeekBuildingForJob"/>
        <enum-item name="GrabMilkUnit"/>
        <enum-item name="GoToMilkStation"/>
        <enum-item name="SeekPatientForDressWound"/>
        <enum-item name="UndeadHunt"/>
        <enum-item name="GrabShearUnit"/>
        <enum-item name="GoToShearStation"/>
        <enum-item name="LayEggNestBox"/>
        <enum-item name="ClayZone"/>
        <enum-item name="ColonyToInstall"/>
        <enum-item name="ReturnColonyToInstall"/>
        <enum-item name="Nonsense"/>
        <enum-item name="SeekBloodSuckVictim"/>
        <enum-item name="SeekSheriff"/>
        <enum-item name="GrabExecutionWeapon"/>
        <enum-item name="TrainAnimal"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_station_type" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="Nonsense"/>
        <enum-item name="DungeonCommander"/>
        <enum-item name="InsaneMood"/>
        <enum-item name="UndeadHunt"/>
        <enum-item name="SiegerPatrol"/>
        <enum-item name="MaraudeTarget"/>
        <enum-item name="SiegerBasepoint"/>
        <enum-item name="SiegerMill"/>
        <enum-item name="AmbushPatrol"/>
        <enum-item name="MarauderMill"/>
        <enum-item name="WildernessCuriousWander"/>
        <enum-item name="WildernessCuriousStealTarget"/>
        <enum-item name="WildernessRoamer"/>
        <enum-item name="PatternPatrol"/>
        <enum-item name="InactiveMarauder"/>
        <enum-item name="Owner"/>
        <enum-item name="Commander"/>
        <enum-item name="ChainedAnimal"/>
        <enum-item name="MeetingLocation"/>
        <enum-item name="MeetingLocationBuilding"/>
        <enum-item name="Depot"/>
        <enum-item name="VerminHunting"/>
        <enum-item name="SeekCommander"/>
        <enum-item name="ReturnToBase"/>
        <enum-item name="MillAnywhere"/>
        <enum-item name="Wagon"/>
        <enum-item name="MillBuilding"/>
        <enum-item name="HeadForEdge"/>
        <enum-item name="MillingFlood"/>
        <enum-item name="MillingBurrow"/>
        <enum-item name="SquadMove"/>
        <enum-item name="SquadKillList"/>
        <enum-item name="SquadPatrol"/>
        <enum-item name="SquadDefendBurrow"/>
        <enum-item name="SquadDefendBurrowFromTarget"/>
        <enum-item name="LairHunter"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="plant_raw_flags">
        <enum-item name="SPRING"/>
        <enum-item name="SUMMER"/>
        <enum-item name="AUTUMN"/>
        <enum-item name="WINTER"/>
        <enum-item/>
        <enum-item name="SEED"/>
        <enum-item name="LEAVES"/>
        <enum-item name="DRINK"/>

        <enum-item name="EXTRACT_BARREL"/>
        <enum-item name="EXTRACT_VIAL"/>
        <enum-item name="EXTRACT_STILL_VIAL"/>
        <enum-item/>
        <enum-item name="THREAD"/>
        <enum-item name="MILL"/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="WET"/>
        <enum-item name="DRY"/>
        <enum-item name="BIOME_MOUNTAIN"/>
        <enum-item name="BIOME_GLACIER"/>

        <enum-item name="BIOME_TUNDRA"/>
        <enum-item name="BIOME_SWAMP_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_SWAMP_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_SWAMP_MANGROVE"/>

        <enum-item name="BIOME_MARSH_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_MARSH_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_FOREST_TAIGA"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_CONIFER"/>
        <enum-item name="BIOME_FOREST_TEMPERATE_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_CONIFER"/>
        <enum-item name="BIOME_FOREST_TROPICAL_DRY_BROADLEAF"/>
        <enum-item name="BIOME_FOREST_TROPICAL_MOIST_BROADLEAF"/>

        <enum-item name="BIOME_GRASSLAND_TEMPERATE"/>
        <enum-item name="BIOME_SAVANNA_TEMPERATE"/>
        <enum-item name="BIOME_SHRUBLAND_TEMPERATE"/>
        <enum-item name="BIOME_GRASSLAND_TROPICAL"/>
        <enum-item name="BIOME_SAVANNA_TROPICAL"/>
        <enum-item name="BIOME_SHRUBLAND_TROPICAL"/>
        <enum-item name="BIOME_DESERT_BADLAND"/>
        <enum-item name="BIOME_DESERT_ROCK"/>

        <enum-item name="BIOME_DESERT_SAND"/>
        <enum-item name="BIOME_OCEAN_TROPICAL"/>
        <enum-item name="BIOME_OCEAN_TEMPERATE"/>
        <enum-item name="BIOME_OCEAN_ARCTIC"/>
        <enum-item name="BIOME_POOL_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_SUBTERRANEAN_WATER"/>
        <enum-item name="BIOME_SUBTERRANEAN_CHASM"/>
        <enum-item name="BIOME_SUBTERRANEAN_LAVA"/>

        <enum-item name="GOOD"/>
        <enum-item name="EVIL"/>
        <enum-item name="SAVAGE"/>
        <enum-item name="BIOME_POOL_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="BIOME_POOL_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_POOL_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_POOL_TROPICAL_BRACKISHWATER"/>
        <enum-item name="BIOME_POOL_TROPICAL_SALTWATER"/>

        <enum-item name="BIOME_LAKE_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_LAKE_TEMPERATE_BRACKISHWATER"/>
        <enum-item name="BIOME_LAKE_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_LAKE_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_LAKE_TROPICAL_BRACKISHWATER"/>
        <enum-item name="BIOME_LAKE_TROPICAL_SALTWATER"/>
        <enum-item name="BIOME_RIVER_TEMPERATE_FRESHWATER"/>
        <enum-item name="BIOME_RIVER_TEMPERATE_BRACKISHWATER"/>

        <enum-item name="BIOME_RIVER_TEMPERATE_SALTWATER"/>
        <enum-item name="BIOME_RIVER_TROPICAL_FRESHWATER"/>
        <enum-item name="BIOME_RIVER_TROPICAL_BRACKISHWATER"/>
        <enum-item name="BIOME_RIVER_TROPICAL_SALTWATER"/>
        <enum-item name="AUTUMNCOLOR"/>
        <enum-item name="SAPLING"/>
        <enum-item name="TREE"/>
        <enum-item name="GRASS"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="plant_raw" instance-vector="$global.world.raws.plants.all">
        <ld:field name="id" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.id</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="plant_raw_flags" ld:is-container="true"/>

        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="adj" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="seed_singular" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="seed_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="leaves_singular" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="leaves_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

        <ld:field name="tiles" ld:level="1" ld:meta="compound" ld:typedef-name="T_tiles">
            <ld:field name="picked_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="dead_picked_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="shrub_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="dead_shrub_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="leaves_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="tree_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="dead_tree_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="sapling_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="dead_sapling_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="uint8_t" name="grass_tiles" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="uint8_t" name="alt_grass_tiles" count="12" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="growdur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="colors" ld:level="1" ld:meta="compound" ld:typedef-name="T_colors">
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="picked_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="dead_picked_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="shrub_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="dead_shrub_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="seed_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="leaves_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="dead_leaves_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="tree_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="dead_tree_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="sapling_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="dead_sapling_color" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="grass_colors_0" count="20" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="grass_colors_1" count="20" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int8_t" name="grass_colors_2" count="20" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" name="alt_period" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="shrub_drown_level" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="tree_drown_level" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="sapling_drown_level" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="frequency" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="clustersize" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="prefstring" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="material" pointer-type="material" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="material"><ld:item ld:level="3" ld:meta="global" type-name="material"/></ld:item></ld:field>

        <ld:field name="material_defs" ld:level="1" ld:meta="compound" ld:typedef-name="T_material_defs">
            <ld:field name="type_basic_mat" ref-target="material" aux-value="$$.idx_basic_mat" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_tree" ref-target="material" aux-value="$$.idx_tree" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_drink" ref-target="material" aux-value="$$.idx_drink" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_seed" ref-target="material" aux-value="$$.idx_seed" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_thread" ref-target="material" aux-value="$$.idx_thread" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_mill" ref-target="material" aux-value="$$.idx_mill" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_extract_vial" ref-target="material" aux-value="$$.idx_extract_vial" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_extract_barrel" ref-target="material" aux-value="$$.idx_extract_barrel" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_extract_still_vial" ref-target="material" aux-value="$$.idx_extract_still_vial" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="type_leaves" ref-target="material" aux-value="$$.idx_leaves" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field name="idx_basic_mat" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_tree" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_drink" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_seed" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_thread" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_mill" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_extract_vial" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_extract_barrel" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_extract_still_vial" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="idx_leaves" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_basic_mat" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_tree" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_drink" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_seed" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_thread" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_mill" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_extract_vial" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_extract_barrel" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_extract_still_vial" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="stl-string" name="str_leaves" count="3" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        </ld:field>

        <ld:field name="underground_depth_min" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="underground_depth_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="plant_flags" base-type="uint16_t">
        <ld:field name="watery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="is_shrub" comment="If it is not a shrub, then it is a tree" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="plant" instance-vector="$global.world.plants.all">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>
        <ld:field type-name="plant_flags" name="flags" ld:level="1" ld:meta="global"/>
        <ld:field name="material" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="grow_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="temperature" type-name="temperaturest" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="bitfield" name="damage_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_damage_flags">
            <ld:field name="is_burning" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="is_drowning" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="hitpoints" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="update_order" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contaminants" pointer-type="contaminant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="contaminant"><ld:item ld:level="3" ld:meta="global" type-name="contaminant"/></ld:item></ld:field>
        <ld:field name="temperature_tile_tick" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="temperature_tile" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="min_safe_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="max_safe_temp" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="projectile_type">
        <enum-item name="Item"/>
        <enum-item name="Unit"/>
        <enum-item name="Magic"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="proj_list_link">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="projectile" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="projectile"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="prev" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="next" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="projectile_flags">
        <ld:field name="no_impact_destroy" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_hit_ground" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bouncing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="high_flying" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="piercing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="to_be_deleted" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk6" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk7" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="parabolic" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk9" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk10" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="no_collide" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="projectile" original-name="projst" key-field="id">
        <ld:field ld:level="1" ld:meta="pointer" name="link" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="firer" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field name="origin_pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="target_pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="cur_pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="prev_pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="distance_flown" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fall_threshold" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_hit_distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_ground_distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags" type-name="projectile_flags" ld:level="1" ld:meta="global"/>

        <ld:field name="fall_counter" comment="counts down from delay to 0, then it moves" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="fall_delay" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="hit_rating" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk21" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk22" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="bow_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        -- Parabolic projectile info:
        <ld:field name="unk_item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pos_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pos_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pos_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="speed_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="speed_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="speed_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="accel_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="accel_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="accel_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="projectile_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="projectile_type"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkImpact">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="noDamageFloor" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="checkMovement"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_5">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isObjectLost"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="proj_itemst" inherits-from="projectile">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="proj_unitst" inherits-from="projectile">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" comment="?" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="proj_magicst" inherits-from="projectile">
        <ld:field ld:level="1" ld:meta="pointer" name="unk" comment="?" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_raws">
        -- Materials

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="material_templates" pointer-type="material_template" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="material_template"><ld:item ld:level="3" ld:meta="global" type-name="material_template"/></ld:item></ld:field>

        -- Inorganic

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inorganics" pointer-type="inorganic_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="inorganic_raw"><ld:item ld:level="3" ld:meta="global" type-name="inorganic_raw"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inorganics_subset" pointer-type="inorganic_raw" comment="all inorganics with value less than 4" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="inorganic_raw"><ld:item ld:level="3" ld:meta="global" type-name="inorganic_raw"/></ld:item></ld:field>

        -- Plants

        <ld:field name="plants" ld:level="1" ld:meta="compound" ld:typedef-name="T_plants">
            dtor 852cc20

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="plant_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant_raw"><ld:item ld:level="4" ld:meta="global" type-name="plant_raw"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bushes" pointer-type="plant_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant_raw"><ld:item ld:level="4" ld:meta="global" type-name="plant_raw"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bushes_idx" index-refers-to="$$._parent.bushes[$]" ld:is-container="true">
                <ld:item ref-target="plant_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trees" pointer-type="plant_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant_raw"><ld:item ld:level="4" ld:meta="global" type-name="plant_raw"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trees_idx" index-refers-to="$$._parent.trees[$]" ld:is-container="true">
                <ld:item ref-target="plant_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="grasses" pointer-type="plant_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant_raw"><ld:item ld:level="4" ld:meta="global" type-name="plant_raw"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="grasses_idx" index-refers-to="$$._parent.grasses[$]" ld:is-container="true">
                <ld:item ref-target="plant_raw" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
        </ld:field>

        -- Creature RAWs

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue_templates" pointer-type="tissue_template" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="tissue_template"><ld:item ld:level="3" ld:meta="global" type-name="tissue_template"/></ld:item></ld:field>

        dtor 89bab50
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_detail_plans" pointer-type="body_detail_plan" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="body_detail_plan"><ld:item ld:level="3" ld:meta="global" type-name="body_detail_plan"/></ld:item></ld:field>

        dtor 8527e40
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_templates" pointer-type="body_template" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="body_template"><ld:item ld:level="3" ld:meta="global" type-name="body_template"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bodyglosses" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" key-field="id" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" key-field="id" ld:typedef-name="T_bodyglosses">
                <ld:field name="id" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="old_singular" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="new_singular" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="old_plural" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="new_plural" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>

        dtor 89ba980
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="creature_variations" pointer-type="creature_variation" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="creature_variation"><ld:item ld:level="3" ld:meta="global" type-name="creature_variation"/></ld:item></ld:field>

        -- Creatures

        <ld:field name="creatures" ld:level="1" ld:meta="compound" ld:typedef-name="T_creatures">
            dtor 81448c0

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="alphabetic" pointer-type="creature_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="creature_raw"><ld:item ld:level="4" ld:meta="global" type-name="creature_raw"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="creature_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="creature_raw"><ld:item ld:level="4" ld:meta="global" type-name="creature_raw"/></ld:item></ld:field>

            <ld:field name="num_caste" comment="seems equal to length of vectors below" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list_creature" type-name="int32_t" comment="Together with list_caste, a list of all caste indexes in order." ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list_caste" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        -- Item RAWs

        <ld:field name="itemdefs" ld:level="1" ld:meta="compound" ld:typedef-name="T_itemdefs">
            dtor 852e080

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="itemdef" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef"><ld:item ld:level="4" ld:meta="global" type-name="itemdef"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="weapons" pointer-type="itemdef_weaponst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_weaponst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_weaponst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="trapcomps" pointer-type="itemdef_trapcompst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_trapcompst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_trapcompst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="toys" pointer-type="itemdef_toyst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_toyst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_toyst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tools" pointer-type="itemdef_toolst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_toolst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_toolst"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="tools_by_type" count="17" index-enum="tool_uses" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="itemdef_toolst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="itemdef_toolst"><ld:item ld:level="5" ld:meta="global" type-name="itemdef_toolst"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="instruments" pointer-type="itemdef_instrumentst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_instrumentst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_instrumentst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="armor" pointer-type="itemdef_armorst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_armorst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_armorst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo" pointer-type="itemdef_ammost" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_ammost"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_ammost"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="siege_ammo" pointer-type="itemdef_siegeammost" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_siegeammost"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_siegeammost"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="gloves" pointer-type="itemdef_glovesst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_glovesst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_glovesst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shoes" pointer-type="itemdef_shoesst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_shoesst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_shoesst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shields" pointer-type="itemdef_shieldst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_shieldst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_shieldst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="helms" pointer-type="itemdef_helmst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_helmst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_helmst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="pants" pointer-type="itemdef_pantsst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_pantsst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_pantsst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="food" pointer-type="itemdef_foodst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="itemdef_foodst"><ld:item ld:level="4" ld:meta="global" type-name="itemdef_foodst"/></ld:item></ld:field>
        </ld:field>

        -- Entity RAWs

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" pointer-type="entity_raw" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_raw"><ld:item ld:level="3" ld:meta="global" type-name="entity_raw"/></ld:item></ld:field>

        -- Language RAWs

        <ld:field name="language" ld:level="1" ld:meta="compound" ld:typedef-name="T_language">
            dtor 852bc90

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="words" pointer-type="language_word" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="language_word"><ld:item ld:level="4" ld:meta="global" type-name="language_word"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="symbols" pointer-type="language_symbol" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="language_symbol"><ld:item ld:level="4" ld:meta="global" type-name="language_symbol"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="translations" pointer-type="language_translation" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="language_translation"><ld:item ld:level="4" ld:meta="global" type-name="language_translation"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="word_table" count="2" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="language_word_table" count="59" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_word_table"/></ld:item>
            </ld:field>

            -- Descriptors

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="colors" pointer-type="descriptor_color" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="descriptor_color"><ld:item ld:level="4" ld:meta="global" type-name="descriptor_color"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shapes" pointer-type="descriptor_shape" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="descriptor_shape"><ld:item ld:level="4" ld:meta="global" type-name="descriptor_shape"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="patterns" pointer-type="descriptor_pattern" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="descriptor_pattern"><ld:item ld:level="4" ld:meta="global" type-name="descriptor_pattern"/></ld:item></ld:field>
        </ld:field>

        -- Reaction RAWs

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reactions" pointer-type="reaction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="reaction"><ld:item ld:level="3" ld:meta="global" type-name="reaction"/></ld:item></ld:field>

        -- Workshops

        <ld:field name="buildings" ld:level="1" ld:meta="compound" ld:typedef-name="T_buildings">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="building_def" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building_def"><ld:item ld:level="4" ld:meta="global" type-name="building_def"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="workshops" pointer-type="building_def_workshopst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building_def_workshopst"><ld:item ld:level="4" ld:meta="global" type-name="building_def_workshopst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="furnaces" pointer-type="building_def_furnacest" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building_def_furnacest"><ld:item ld:level="4" ld:meta="global" type-name="building_def_furnacest"/></ld:item></ld:field>

            <ld:field name="next_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        -- Interactions

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="interactions" comment="v0.34.01" pointer-type="interaction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="interaction"><ld:item ld:level="3" ld:meta="global" type-name="interaction"/></ld:item></ld:field>

        -- Material index

        <ld:field name="mat_table" type-name="special_mat_table" ld:level="1" ld:meta="global"/>

        -- Interaction effects

        <ld:field name="syndromes" ld:level="1" ld:meta="compound" ld:typedef-name="T_syndromes">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_types" index-refers-to="$$._parent.all[$]" ld:is-container="true">
                <ld:item ref-target="material" aux-value="$$._parent.mat_indexes[$._key]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_indexes" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interactions" ld:is-container="true">
                <ld:item ref-target="interaction" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" comment="v0.34.01" pointer-type="syndrome" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="syndrome"><ld:item ld:level="4" ld:meta="global" type-name="syndrome"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="effects" ld:level="1" ld:meta="compound" ld:typedef-name="T_effects">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_types" index-refers-to="$$._parent.all[$]" ld:is-container="true">
                <ld:item ref-target="material" aux-value="$$._parent.mat_indexes[$._key]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_indexes" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interactions" ld:is-container="true">
                <ld:item ref-target="interaction" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" comment="v0.34.01" pointer-type="creature_interaction_effect" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="creature_interaction_effect"><ld:item ld:level="4" ld:meta="global" type-name="creature_interaction_effect"/></ld:item></ld:field>
        </ld:field>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="reaction_flags">
        <enum-item name="FUEL"/>
        <enum-item name="AUTOMATIC"/>
        <enum-item name="ADVENTURE_MODE_ENABLED"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="reaction" instance-vector="$global.world.raws.reactions">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.code</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="reaction_flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reagents" pointer-type="reaction_reagent" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="reaction_reagent"><ld:item ld:level="3" ld:meta="global" type-name="reaction_reagent"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="products" pointer-type="reaction_product" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="reaction_product"><ld:item ld:level="3" ld:meta="global" type-name="reaction_product"/></ld:item></ld:field>

        <ld:field ld:subtype="enum" base-type="int16_t" name="skill" type-name="job_skill" ld:level="1" ld:meta="global"/>

        <ld:field name="building" ld:level="1" ld:meta="compound" ld:typedef-name="T_building">
            <ld:field ld:level="2" ld:meta="static-array" name="str" count="2" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="stl-string"><ld:item ld:level="5" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="type" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="building_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="subtype" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="custom" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="hotkey" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="reaction_reagent_type">
        <enum-item name="item"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="reaction_reagent" original-name="reaction_reagentst">
        <ld:field name="code" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.code</code-helper>

        <ld:field name="quantity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags" type-name="reaction_reagent_flags" ld:level="1" ld:meta="global"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="reaction_reagent_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="reaction_reagent_type"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_1"/>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="resolveTokens">
                <ld:field name="reactionID" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_4"/>

            <vmethod ld:level="1" ret-type="bool" name="matchesRoot">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>
                <ld:field name="index" ref-target="reaction" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="matchesChild">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="reaction" comment="or maybe reaction code string ref" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="reaction"/></ld:field>
                <ld:field name="index" ref-target="reaction" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getDescription">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
                <ld:field name="index" ref-target="reaction" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isLyeBearing"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="reaction_reagent_flags">
        <ld:field name="PRESERVE_REAGENT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="IN_CONTAINER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="DOES_NOT_DETERMINE_PRODUCT_AMOUNT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="reaction_reagent_itemst" inherits-from="reaction_reagent">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="reaction_class" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="has_material_reaction_product" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="flags1" type-name="job_item_flags1" ld:level="1" ld:meta="global"/>
        <ld:field name="flags2" type-name="job_item_flags2" ld:level="1" ld:meta="global"/>
        <ld:field name="flags3" type-name="job_item_flags3" ld:level="1" ld:meta="global"/>
        <ld:field name="flags4" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="flags5" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field name="metal_ore" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_dimension" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="contains" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:subtype="enum" base-type="int16_t" name="has_tool_use" type-name="tool_uses" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="item_str" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="material_str" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="metal_ore_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="contains_str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="reaction_product_type">
        <enum-item name="item"/>
        <enum-item name="improvement"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="reaction_product" original-name="reaction_productst">
        <virtual-methods>
            <vmethod ld:level="1" ret-type="reaction_product_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="reaction_product_type"/></vmethod>
            <vmethod ld:level="1" name="resolveTokens">
                <ld:field name="reactionID" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="produce">
                <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="out_items" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="in_reag" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="reaction_reagent" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="reaction_reagent"><ld:item ld:level="5" ld:meta="global" type-name="reaction_reagent"/></ld:item></ld:item></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="in_items" ld:is-container="true"><ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item></ld:field>
                <ld:field name="quantity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" type-name="job_skill" base-type="int16_t" ld:level="2" ld:meta="global"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="world_site" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getDescription" comment="used in Adventurer mode reactions?">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="desc" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="reaction_product_item_flags">
        <enum-item name="GET_MATERIAL_SAME"/>
        <enum-item name="GET_MATERIAL_PRODUCT"/>
        <enum-item name="FORCE_EDGE"/>
        <enum-item name="PASTE"/>
        <enum-item name="PRESSED"/>
        <enum-item name="CRAFTS"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="reaction_product_itemst" inherits-from="reaction_product">
        <ld:field name="product_to_container" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="probability" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="product_dimension" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="reaction_product_item_flags" ld:is-container="true"/>

        <ld:field name="get_material" ld:level="1" ld:meta="compound" ld:typedef-name="T_get_material">
            <ld:field name="reagent_code" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="product_code" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="item_str" count="2" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="material_str" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="reaction_product_improvement_flags">
        <enum-item name="GET_MATERIAL_SAME"/>
        <enum-item name="GET_MATERIAL_PRODUCT"/>
        <enum-item name="GLAZED"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="reaction_product_item_improvementst" inherits-from="reaction_product">
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_1"/>
        <ld:field name="target_reagent" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:subtype="enum" base-type="int32_t" name="improvement_type" type-name="improvement_type" ld:level="1" ld:meta="global"/>

        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="probability" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="reaction_product_improvement_flags" ld:is-container="true"/>

        <ld:field name="get_material" ld:level="1" ld:meta="compound" ld:typedef-name="T_get_material">
            <ld:field name="reagent_code" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="product_code" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="material_str" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="general_ref_type">
        <enum-item name="ARTIFACT"/>
        <enum-item name="IS_ARTIFACT"/>
        <enum-item name="NEMESIS"/>
        <enum-item name="IS_NEMESIS"/>
        <enum-item name="ITEM"/>
        <enum-item name="ITEM_TYPE"/>
        <enum-item name="COINBATCH"/>
        <enum-item name="MAPSQUARE"/>
        <enum-item name="ENTITY_ART_IMAGE"/>
        <enum-item name="CONTAINS_UNIT"/>
        <enum-item name="CONTAINS_ITEM"/>
        <enum-item name="CONTAINED_IN_ITEM"/>
        <enum-item name="PROJECTILE"/>
        <enum-item name="UNIT"/>
        <enum-item name="UNIT_MILKEE"/>
        <enum-item name="UNIT_TRAINEE"/>
        <enum-item name="UNIT_ITEMOWNER"/>
        <enum-item name="UNIT_TRADEBRINGER"/>
        <enum-item name="UNIT_HOLDER"/>
        <enum-item name="UNIT_WORKER"/>
        <enum-item name="UNIT_CAGEE"/>
        <enum-item name="UNIT_BEATEE"/>
        <enum-item name="UNIT_FOODRECEIVER"/>
        <enum-item name="UNIT_KIDNAPEE"/>
        <enum-item name="UNIT_PATIENT"/>
        <enum-item name="UNIT_INFANT"/>
        <enum-item name="UNIT_SLAUGHTEREE"/>
        <enum-item name="UNIT_SHEAREE"/>
        <enum-item name="UNIT_SUCKEE"/>
        <enum-item name="UNIT_REPORTEE"/>
        <enum-item name="BUILDING"/>
        <enum-item name="BUILDING_CIVZONE_ASSIGNED"/>
        <enum-item name="BUILDING_TRIGGER"/>
        <enum-item name="BUILDING_TRIGGERTARGET"/>
        <enum-item name="BUILDING_CHAIN"/>
        <enum-item name="BUILDING_CAGED"/>
        <enum-item name="BUILDING_HOLDER"/>
        <enum-item name="BUILDING_WELL_TAG"/>
        <enum-item name="BUILDING_USE_TARGET_1"/>
        <enum-item name="BUILDING_USE_TARGET_2"/>
        <enum-item name="BUILDING_DESTINATION"/>
        <enum-item name="BUILDING_NEST_BOX"/>
        <enum-item name="ENTITY"/>
        <enum-item name="ENTITY_STOLEN"/>
        <enum-item name="ENTITY_OFFERED"/>
        <enum-item name="ENTITY_ITEMOWNER"/>
        <enum-item name="LOCATION"/>
        <enum-item name="INTERACTION"/>
        <enum-item name="ABSTRACT_BUILDING"/>
        <enum-item name="HISTORICAL_EVENT"/>
        <enum-item name="SPHERE"/>
        <enum-item name="SITE"/>
        <enum-item name="SUBREGION"/>
        <enum-item name="FEATURE_LAYER"/>
        <enum-item name="HISTORICAL_FIGURE"/>
        <enum-item name="ENTITY_POP"/>
        <enum-item name="CREATURE"/>
        <enum-item name="UNIT_RIDER"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref" original-name="general_refst">
        <virtual-methods>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="general_ref_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="general_ref_type"/></vmethod>
            <vmethod ld:level="1" name="getItem">
                <ret-type ld:level="3" ld:meta="pointer" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getUnit">
                <ret-type ld:level="3" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getProjectile">
                <ret-type ld:level="3" ld:meta="pointer" type-name="projectile" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="projectile"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getBuilding">
                <ret-type ld:level="3" ld:meta="pointer" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getEntity">
                <ret-type ld:level="3" ld:meta="pointer" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="historical_entity"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getArtifact">
                <ret-type ld:level="3" ld:meta="pointer" type-name="artifact_record" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="artifact_record"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getNemesis">
                <ret-type ld:level="3" ld:meta="pointer" type-name="nemesis_record" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="nemesis_record"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="setID"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getID"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setLocation">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getLocation">
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="general_ref" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="general_ref"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_16">
                <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getSecretName" comment="for interactions">
                <ld:field ld:level="2" ld:meta="pointer" name="str" type-name="stl-string" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_artifact" inherits-from="general_ref" original-name="general_ref_artifactst">
        <ld:field name="artifact_id" ref-target="artifact_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_nemesis" inherits-from="general_ref" original-name="general_ref_nemesisst">
        <ld:field name="nemesis_id" ref-target="nemesis_record" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_item" inherits-from="general_ref" original-name="general_ref_itemst">
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_item_type" inherits-from="general_ref" original-name="general_ref_item_typest">
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="item_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="subtype" refers-to="(item-subtype-target $$._parent.type $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_coinbatch" inherits-from="general_ref" original-name="general_ref_coinbatchst">
        <ld:field name="batch" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_mapsquare" inherits-from="general_ref" original-name="general_ref_mapsquarest">
        <ld:field ld:subtype="enum" base-type="int16_t" name="tiletype" type-name="tiletype" ld:level="1" ld:meta="global"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity_art_image" inherits-from="general_ref" original-name="general_ref_entity_art_imagest">
        <ld:field name="entity_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="index" comment="lookup in entity.resources.art_image_*" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_projectile" inherits-from="general_ref" original-name="general_ref_projectilest">
        <ld:field name="projectile_id" ref-target="projectile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit" inherits-from="general_ref" original-name="general_ref_unitst">
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building" inherits-from="general_ref" original-name="general_ref_buildingst">
        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity" inherits-from="general_ref" original-name="general_ref_entityst">
        <ld:field name="entity_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_locationst" inherits-from="general_ref">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_interactionst" inherits-from="general_ref">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_abstract_buildingst" inherits-from="general_ref">
        <ld:field name="site_id" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="building_id" ref-target="abstract_building" aux-value="$$.site_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_historical_eventst" inherits-from="general_ref">
        <ld:field name="event_id" ref-target="history_event" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_spherest" inherits-from="general_ref">
        <ld:field ld:subtype="enum" base-type="int16_t" name="sphere_type" type-name="sphere_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_sitest" inherits-from="general_ref">
        <ld:field name="site_id" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_subregionst" inherits-from="general_ref">
        <ld:field name="region_id" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_feature_layerst" inherits-from="general_ref">
        <ld:field name="underground_region_id" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_historical_figurest" inherits-from="general_ref">
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity_popst" inherits-from="general_ref">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="animated_corpse" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="ghostly" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_creaturest" inherits-from="general_ref">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="animated_corpse" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="ghostly" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_is_artifactst" inherits-from="general_ref_artifact"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_is_nemesisst" inherits-from="general_ref_nemesis"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_contains_unitst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_contains_itemst" inherits-from="general_ref_item"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_contained_in_itemst" inherits-from="general_ref_item"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_milkeest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_traineest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_itemownerst" inherits-from="general_ref_unit">
        <ld:field ld:subtype="bitfield" name="flags" comment="v0.34.06" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="litter" comment="apparetly set after 1000 ticks, then confiscated in 1000 more ticks" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_tradebringerst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_holderst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_workerst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_cageest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_beateest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_foodreceiverst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_kidnapeest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_patientst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_infantst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_slaughtereest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_sheareest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_suckeest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_reporteest" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_unit_riderst" inherits-from="general_ref_unit"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_civzone_assignedst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_triggerst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_triggertargetst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_chainst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_cagedst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_holderst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_well_tag" inherits-from="general_ref_building" original-name="general_ref_building_well_tagst">
        <ld:field name="direction" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_use_target_1st" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_use_target_2st" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_destinationst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_building_nest_boxst" inherits-from="general_ref_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity_stolenst" inherits-from="general_ref_entity"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity_offeredst" inherits-from="general_ref_entity"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="general_ref_entity_itemownerst" inherits-from="general_ref_entity"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="specific_ref_type">
        <enum-item/>
        <enum-item name="UNIT_INVENTORY"/>
        <enum-item name="JOB"/>
        <enum-item name="BUILDING_PARTY"/>
        <enum-item name="ACTIVITY"/>

        <enum-item name="ITEM_GENERAL"/>
        <enum-item name="EFFECT"/>
        <enum-item name="PETINFO_PET"/>
        <enum-item name="PETINFO_OWNER"/>
        <enum-item name="VERMIN_EVENT"/>

        <enum-item name="VERMIN_ESCAPED_PET"/>
        <enum-item name="ENTITY"/>
        <enum-item name="PLOT_INFO"/>
        <enum-item name="VIEWSCREEN"/>
        <enum-item name="UNIT_ITEM_WRESTLE"/>

        <enum-item name="NULL_REF"/>
        <enum-item name="HIST_FIG"/>
        <enum-item name="SITE"/>
        <enum-item name="ARTIFACT"/>
        <enum-item name="ITEM_IMPROVEMENT"/>

        <enum-item name="COIN_FRONT"/>
        <enum-item name="COIN_BACK"/>
        <enum-item name="DETAIL_EVENT"/>
        <enum-item name="SUBREGION"/>
        <enum-item name="FEATURE_LAYER"/>

        <enum-item name="ART_IMAGE"/>
        <enum-item name="CREATURE_DEF"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="ENTITY_POPULATION"/>
        <enum-item name="BREED"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="specific_ref">
        <ld:field ld:subtype="enum" name="type" base-type="int32_t" type-name="specific_ref_type" ld:level="1" ld:meta="global"/>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field ld:level="1" ld:meta="pointer" name="object" ld:is-container="true"/>
            <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="activity" type-name="activity_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="activity_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="pet" type-name="pet_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="pet_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="screen" type-name="viewscreen" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="vermin" type-name="vermin" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="vermin"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="effect" type-name="effect_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="effect_info"/></ld:field>
            <ld:field ld:level="1" ld:meta="pointer" name="job" type-name="job" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job"/></ld:field>
        </ld:field>

        <ld:field is-union="true" name="arg2" ld:level="1" ld:meta="compound" ld:typedef-name="T_arg2" ld:in-union="true">
            <ld:field ld:level="2" ld:meta="pointer" name="wrestle" type-name="unit_item_wrestle" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_item_wrestle"/></ld:field>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_entity_link_type">
        <enum-item name="MEMBER"/>
        <enum-item name="FORMER_MEMBER"/>
        <enum-item name="MERCENARY"/>
        <enum-item name="FORMER_MERCENARY"/>
        <enum-item name="SLAVE"/>
        <enum-item name="FORMER_SLAVE"/>
        <enum-item name="PRISONER"/>
        <enum-item name="FORMER_PRISONER"/>
        <enum-item name="ENEMY"/>
        <enum-item name="CRIMINAL"/>
        <enum-item name="POSITION"/>
        <enum-item name="HERO"/>
        <enum-item name="FORMER_POSITION"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link" original-name="histfig_entity_linkst">
        <ld:field name="entity_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="link_strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="histfig_entity_link_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="histfig_entity_link_type"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getPosition"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getPositionStartYear"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getPositionEndYear"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" comment="generate_xml" ld:anon-name="anon_vmethod_7">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_memberst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_former_memberst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_mercenaryst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_former_mercenaryst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_slavest" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_former_slavest" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_prisonerst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_former_prisonerst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_enemyst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_criminalst" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_positionst" inherits-from="histfig_entity_link">
        <ld:field name="assignment_id" refers-to="(find-by-id $$._global.entity_id.ref-target.positions.assignments $id $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_herost" inherits-from="histfig_entity_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_entity_link_former_positionst" inherits-from="histfig_entity_link">
        <ld:field name="assignment_id" refers-to="(find-by-id $$._global.entity_id.ref-target.positions.assignments $id $)" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_site_link_type">
        <enum-item name="SHOPKEEPER"/>
        <enum-item name="SEAT_OF_POWER"/>
        <enum-item name="HANGOUT"/>
        <enum-item name="HOME_SITE_ABSTRACT_BUILDING"/>
        <enum-item name="HOME_SITE_REALIZATION_BUILDING"/>
        <enum-item name="LAIR"/>
        <enum-item name="HOME_SITE_REALIZATION_SUL"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link" original-name="histfig_site_linkst">
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="sub_id" comment="from XML" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <virtual-methods>
            <vmethod ld:level="1" ret-type="histfig_site_link_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="histfig_site_link_type"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" comment="generate_xml" ld:anon-name="anon_vmethod_4">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_shopkeeperst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_seat_of_powerst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_hangoutst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_home_site_abstract_buildingst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_home_site_realization_buildingst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_lairst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_site_link_home_site_realization_sulst" inherits-from="histfig_site_link"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="histfig_hf_link_type">
        <enum-item name="MOTHER"/>
        <enum-item name="FATHER"/>
        <enum-item name="SPOUSE"/>
        <enum-item name="CHILD"/>
        <enum-item name="DEITY"/>
        <enum-item name="LOVER"/>
        <enum-item name="PRISONER"/>
        <enum-item name="IMPRISONER"/>
        <enum-item name="MASTER"/>
        <enum-item name="APPRENTICE"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link" original-name="histfig_hf_linkst">
        <ld:field name="target_hf" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="link_strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="histfig_hf_link_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="histfig_hf_link_type"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" comment="generate_xml" ld:anon-name="anon_vmethod_4">
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
                <ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_motherst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_fatherst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_spousest" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_childst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_deityst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_loverst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_prisonerst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_imprisonerst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_masterst" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="histfig_hf_link_apprenticest" inherits-from="histfig_hf_link"/>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_entity_link_type">
        <enum-item name="PARENT"/>
        <enum-item name="CHILD"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_entity_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="entity_entity_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="target" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="entity_site_link_type">
        <enum-item name="unk_0"/>
        <enum-item name="unk_1"/>
        <enum-item name="unk_2"/>
        <enum-item name="unk_3"/>
        <enum-item name="unk_4"/>
        <enum-item name="unk_5"/>
        <enum-item name="unk_6"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_site_link">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="entity_site_link_type" name="type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field comment="probably the same as sub_id from histfig_site_link" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="strength" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="resource_allotment_specifier_type">
        <enum-item name="CROP"/>
        <enum-item name="STONE"/>
        <enum-item name="METAL"/>
        <enum-item name="WOOD"/>
        <enum-item name="ARMOR_BODY"/>
        <enum-item name="ARMOR_PANTS"/>
        <enum-item name="ARMOR_GLOVES"/>
        <enum-item name="ARMOR_BOOTS"/>
        <enum-item name="ARMOR_HELM"/>
        <enum-item name="CLOTHING_BODY"/>
        <enum-item name="CLOTHING_PANTS"/>
        <enum-item name="CLOTHING_GLOVES"/>
        <enum-item name="CLOTHING_BOOTS"/>
        <enum-item name="CLOTHING_HELM"/>
        <enum-item name="WEAPON_MELEE"/>
        <enum-item name="WEAPON_RANGED"/>
        <enum-item name="ANVIL"/>
        <enum-item name="GEMS"/>
        <enum-item name="THREAD"/>
        <enum-item name="CLOTH"/>
        <enum-item name="LEATHER"/>
        <enum-item name="QUIVER"/>
        <enum-item name="BACKPACK"/>
        <enum-item name="FLASK"/>
        <enum-item name="BAG"/>
        <enum-item name="TABLE"/>
        <enum-item name="CABINET"/>
        <enum-item name="CHAIR"/>
        <enum-item name="BOX"/>
        <enum-item name="BED"/>
        <enum-item name="CRAFTS"/>
        <enum-item name="MEAT"/>
        <enum-item name="BONE"/>
        <enum-item name="HORN"/>
        <enum-item name="SHELL"/>
        <enum-item name="TALLOW"/>
        <enum-item name="TOOTH"/>
        <enum-item name="PEARL"/>
        <enum-item name="SOAP"/>
        <enum-item name="EXTRACT"/>
        <enum-item name="CHEESE"/>
        <enum-item name="SKIN"/>
        <enum-item name="POWDER"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier" original-name="resource_allotment_specifierst">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <ld:field comment="v0.34.01-04" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field comment="v0.34.01-04" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="resource_allotment_specifier_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="resource_allotment_specifier_type"/></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>
            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_cropst" inherits-from="resource_allotment_specifier">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_stonest" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="static-array" count="5" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_metalst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="static-array" count="12" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_woodst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_armor_bodyst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_armor_pantsst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_armor_glovesst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_armor_bootsst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_armor_helmst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_clothing_bodyst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_clothing_pantsst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
   </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_clothing_glovesst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_clothing_bootsst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_clothing_helmst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_weapon_meleest" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_weapon_rangedst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_ammost" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_anvilst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_gemsst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_threadst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_clothst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_leatherst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_quiverst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_backpackst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_flaskst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_bagst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_tablest" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_cabinetst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_chairst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_boxst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_bedst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_craftsst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_meatst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_bonest" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_hornst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_shellst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_tallowst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_toothst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_pearlst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_soapst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_extractst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="mat_type2" ref-target="material" aux-value="$$.mat_index2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field comment="uninitialized" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_cheesest" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_skinst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mat_type2" ref-target="material" aux-value="$$.mat_index2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="resource_allotment_specifier_powderst" inherits-from="resource_allotment_specifier">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="profession" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="military" type-name="bool" default-value="false"/>
        <enum-attr name="parent" type-name="profession" default-value="NONE"/>
        <enum-attr name="can_assign_labor" type-name="bool" default-value="true" comment="Can be assigned any labors, i.e. not child or baby"/>
        <enum-attr name="color" type-name="int8_t" default-value="-1"/>
        <enum-attr name="moodable" type-name="bool" default-value="false"/>

        <enum-item name="NONE" value="-1"/>

        -- 0

        <enum-item name="MINER">
            <item-attr name="caption" value="Miner"/>
            <item-attr name="color" value="7"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WOODWORKER">
            <item-attr name="caption" value="Woodworker"/>
            <item-attr name="color" value="14"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CARPENTER">
            <item-attr name="caption" value="Carpenter"/>
            <item-attr name="parent" value="WOODWORKER"/>
            <item-attr name="color" value="14"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BOWYER">
            <item-attr name="caption" value="Bowyer"/>
            <item-attr name="parent" value="WOODWORKER"/>
            <item-attr name="color" value="14"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WOODCUTTER">
            <item-attr name="caption" value="Woodcutter"/>
            <item-attr name="parent" value="WOODWORKER"/>
            <item-attr name="color" value="14"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="STONEWORKER">
            <item-attr name="caption" value="Stoneworker"/>
            <item-attr name="color" value="15"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ENGRAVER">
            <item-attr name="caption" value="Engraver"/>
            <item-attr name="parent" value="STONEWORKER"/>
            <item-attr name="color" value="15"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MASON">
            <item-attr name="caption" value="Mason"/>
            <item-attr name="parent" value="STONEWORKER"/>
            <item-attr name="color" value="15"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="RANGER">
            <item-attr name="caption" value="Ranger"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ANIMAL_CARETAKER">
            <item-attr name="caption" value="Animal Caretaker"/>
            <item-attr name="parent" value="RANGER"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 10

        <enum-item name="ANIMAL_TRAINER">
            <item-attr name="caption" value="Animal Trainer"/>
            <item-attr name="parent" value="RANGER"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="HUNTER">
            <item-attr name="caption" value="Hunter"/>
            <item-attr name="parent" value="RANGER"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="TRAPPER">
            <item-attr name="caption" value="Trapper"/>
            <item-attr name="parent" value="RANGER"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ANIMAL_DISSECTOR">
            <item-attr name="caption" value="Animal Dissector"/>
            <item-attr name="parent" value="RANGER"/>
            <item-attr name="color" value="2"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="METALSMITH">
            <item-attr name="caption" value="Metalsmith"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="FURNACE_OPERATOR">
            <item-attr name="caption" value="Furnace Operator"/>
            <item-attr name="parent" value="METALSMITH"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WEAPONSMITH">
            <item-attr name="caption" value="Weaponsmith"/>
            <item-attr name="parent" value="METALSMITH"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ARMORER">
            <item-attr name="caption" value="Armorer"/>
            <item-attr name="parent" value="METALSMITH"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BLACKSMITH">
            <item-attr name="caption" value="Blacksmith"/>
            <item-attr name="parent" value="METALSMITH"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="METALCRAFTER">
            <item-attr name="caption" value="Metalcrafter"/>
            <item-attr name="parent" value="METALSMITH"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 20

        <enum-item name="JEWELER">
            <item-attr name="caption" value="Jeweler"/>
            <item-attr name="color" value="10"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="GEM_CUTTER">
            <item-attr name="caption" value="Gem Cutter"/>
            <item-attr name="parent" value="JEWELER"/>
            <item-attr name="color" value="10"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="GEM_SETTER">
            <item-attr name="caption" value="Gem Setter"/>
            <item-attr name="parent" value="JEWELER"/>
            <item-attr name="color" value="10"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CRAFTSMAN">
            <item-attr name="caption" value="Craftsman"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WOODCRAFTER">
            <item-attr name="caption" value="Woodcrafter"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="STONECRAFTER">
            <item-attr name="caption" value="Stonecrafter"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="LEATHERWORKER">
            <item-attr name="caption" value="Leatherworker"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BONE_CARVER">
            <item-attr name="caption" value="Bone Carver"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WEAVER">
            <item-attr name="caption" value="Weaver"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CLOTHIER">
            <item-attr name="caption" value="Clothier"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 30

        <enum-item name="GLASSMAKER">
            <item-attr name="caption" value="Glassmaker"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="POTTER">
            <item-attr name="caption" value="Potter"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="GLAZER">
            <item-attr name="caption" value="Glazer"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WAX_WORKER">
            <item-attr name="caption" value="Wax Worker"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="STRAND_EXTRACTOR">
            <item-attr name="caption" value="Strand Extractor"/>
            <item-attr name="parent" value="CRAFTSMAN"/>
            <item-attr name="color" value="9"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="FISHERY_WORKER">
            <item-attr name="caption" value="Fishery Worker"/>
            <item-attr name="color" value="1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="FISHERMAN">
            <item-attr name="caption" value="Fisherman"/>
            <item-attr name="parent" value="FISHERY_WORKER"/>
            <item-attr name="color" value="1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="FISH_DISSECTOR">
            <item-attr name="caption" value="Fish Dissector"/>
            <item-attr name="parent" value="FISHERY_WORKER"/>
            <item-attr name="color" value="1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="FISH_CLEANER">
            <item-attr name="caption" value="Fish Cleaner"/>
            <item-attr name="parent" value="FISHERY_WORKER"/>
            <item-attr name="color" value="1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="FARMER">
            <item-attr name="caption" value="Farmer"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 40

        <enum-item name="CHEESE_MAKER">
            <item-attr name="caption" value="Cheese Maker"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MILKER">
            <item-attr name="caption" value="Milker"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="COOK">
            <item-attr name="caption" value="Cook"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 43

        <enum-item name="THRESHER">
            <item-attr name="caption" value="Thresher"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MILLER">
            <item-attr name="caption" value="Miller"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BUTCHER">
            <item-attr name="caption" value="Butcher"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="TANNER">
            <item-attr name="caption" value="Tanner"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="DYER">
            <item-attr name="caption" value="Dyer"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="PLANTER">
            <item-attr name="caption" value="Planter"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="HERBALIST">
            <item-attr name="caption" value="Herbalist"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BREWER">
            <item-attr name="caption" value="Brewer"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SOAP_MAKER">
            <item-attr name="caption" value="Soap Maker"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="POTASH_MAKER">
            <item-attr name="caption" value="Potash Maker"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 53

        <enum-item name="LYE_MAKER">
            <item-attr name="caption" value="Lye Maker"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="WOOD_BURNER">
            <item-attr name="caption" value="Wood Burner"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SHEARER">
            <item-attr name="caption" value="Shearer"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SPINNER">
            <item-attr name="caption" value="Spinner"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="PRESSER">
            <item-attr name="caption" value="Presser"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BEEKEEPER">
            <item-attr name="caption" value="Bee Keeper"/>
            <item-attr name="parent" value="FARMER"/>
            <item-attr name="color" value="6"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ENGINEER">
            <item-attr name="caption" value="Engineer"/>
            <item-attr name="color" value="12"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 60

        <enum-item name="MECHANIC">
            <item-attr name="caption" value="Mechanic"/>
            <item-attr name="parent" value="ENGINEER"/>
            <item-attr name="color" value="12"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SIEGE_ENGINEER">
            <item-attr name="caption" value="Siege Engineer"/>
            <item-attr name="parent" value="ENGINEER"/>
            <item-attr name="color" value="12"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SIEGE_OPERATOR">
            <item-attr name="caption" value="Siege Operator"/>
            <item-attr name="parent" value="ENGINEER"/>
            <item-attr name="color" value="12"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="PUMP_OPERATOR">
            <item-attr name="caption" value="Pump Operator"/>
            <item-attr name="parent" value="ENGINEER"/>
            <item-attr name="color" value="12"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CLERK">
            <item-attr name="caption" value="Clerk"/>
            <item-attr name="parent" value="ADMINISTRATOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ADMINISTRATOR">
            <item-attr name="caption" value="Administrator"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="TRADER">
            <item-attr name="caption" value="Trader"/>
            <item-attr name="parent" value="ADMINISTRATOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>

        -- 67

        <enum-item name="ARCHITECT">
            <item-attr name="caption" value="Architect"/>
            <item-attr name="parent" value="ADMINISTRATOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="ALCHEMIST">
            <item-attr name="caption" value="Alchemist"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="DOCTOR">
            <item-attr name="caption" value="Doctor"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="DIAGNOSER">
            <item-attr name="caption" value="Diagnoser"/>
            <item-attr name="parent" value="DOCTOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BONE_SETTER">
            <item-attr name="caption" value="Bone Setter"/>
            <item-attr name="parent" value="DOCTOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SUTURER">
            <item-attr name="caption" value="Suturer"/>
            <item-attr name="parent" value="DOCTOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="SURGEON">
            <item-attr name="caption" value="Surgeon"/>
            <item-attr name="parent" value="DOCTOR"/>
            <item-attr name="color" value="5"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="MERCHANT">
            <item-attr name="caption" value="Merchant"/>
            <item-attr name="color" value="7"/>
        </enum-item>
        <enum-item name="HAMMERMAN">
            <item-attr name="caption" value="Hammerman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="5"/>
        </enum-item>
        <enum-item name="MASTER_HAMMERMAN">
            <item-attr name="caption" value="Hammer Lord"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="HAMMERMAN"/>
            <item-attr name="color" value="13"/>
        </enum-item>

        -- 77

        <enum-item name="SPEARMAN">
            <item-attr name="caption" value="Spearman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="6"/>
        </enum-item>
        <enum-item name="MASTER_SPEARMAN">
            <item-attr name="caption" value="Spearmaster"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="SPEARMAN"/>
            <item-attr name="color" value="14"/>
        </enum-item>
        <enum-item name="CROSSBOWMAN">
            <item-attr name="caption" value="Crossbowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="2"/>
        </enum-item>
        <enum-item name="MASTER_CROSSBOWMAN">
            <item-attr name="caption" value="Elite Crossbowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="CROSSBOWMAN"/>
            <item-attr name="color" value="10"/>
        </enum-item>
        <enum-item name="WRESTLER">
            <item-attr name="caption" value="Wrestler"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="7"/>
        </enum-item>
        <enum-item name="MASTER_WRESTLER">
            <item-attr name="caption" value="Elite Wrestler"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="WRESTLER"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="AXEMAN">
            <item-attr name="caption" value="Axeman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="1"/>
        </enum-item>
        <enum-item name="MASTER_AXEMAN">
            <item-attr name="caption" value="Axe Lord"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="AXEMAN"/>
            <item-attr name="color" value="9"/>
        </enum-item>
        <enum-item name="SWORDSMAN">
            <item-attr name="caption" value="Swordsman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="3"/>
        </enum-item>
        <enum-item name="MASTER_SWORDSMAN">
            <item-attr name="caption" value="Swordsmaster"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="SWORDSMAN"/>
            <item-attr name="color" value="11"/>
        </enum-item>

        -- 87

        <enum-item name="MACEMAN">
            <item-attr name="caption" value="Maceman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="4"/>
        </enum-item>
        <enum-item name="MASTER_MACEMAN">
            <item-attr name="caption" value="Mace Lord"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="MACEMAN"/>
            <item-attr name="color" value="12"/>
        </enum-item>
        <enum-item name="PIKEMAN">
            <item-attr name="caption" value="Pikeman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="6"/>
        </enum-item>
        <enum-item name="MASTER_PIKEMAN">
            <item-attr name="caption" value="Pikemaster"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="PIKEMAN"/>
            <item-attr name="color" value="14"/>
        </enum-item>
        <enum-item name="BOWMAN">
            <item-attr name="caption" value="Bowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="2"/>
        </enum-item>
        <enum-item name="MASTER_BOWMAN">
            <item-attr name="caption" value="Elite Bowman"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="BOWMAN"/>
            <item-attr name="color" value="10"/>
        </enum-item>
        <enum-item name="BLOWGUNMAN">
            <item-attr name="caption" value="Blowgunner"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="MASTER_BLOWGUNMAN">
            <item-attr name="caption" value="Master Blowgunner"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="BLOWGUNMAN"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="LASHER">
            <item-attr name="caption" value="Lasher"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="MASTER_LASHER">
            <item-attr name="caption" value="Master Lasher"/>
            <item-attr name="military" value="true"/>
            <item-attr name="parent" value="LASHER"/>
            <item-attr name="color" value="8"/>
        </enum-item>

        -- 97

        <enum-item name="RECRUIT">
            <item-attr name="caption" value="Recruit"/>
            <item-attr name="military" value="true"/>
            <item-attr name="color" value="8"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="TRAINED_HUNTER">
            <item-attr name="caption" value="Hunting Animal"/>
            <item-attr name="color" value="15"/>
        </enum-item>
        <enum-item name="TRAINED_WAR">
            <item-attr name="caption" value="War Animal"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="MASTER_THIEF">
            <item-attr name="caption" value="Master Thief"/>
            <item-attr name="parent" value="THIEF"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="THIEF">
            <item-attr name="caption" value="Thief"/>
            <item-attr name="color" value="8"/>
        </enum-item>
        <enum-item name="STANDARD">
            <item-attr name="caption" value="Peasant"/>
            <item-attr name="color" value="-1"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="CHILD">
            <item-attr name="caption" value="Child"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="parent" value="STANDARD"/>
            <item-attr name="color" value="4"/>
            <item-attr name="moodable" value="true"/>
        </enum-item>
        <enum-item name="BABY">
            <item-attr name="caption" value="Baby"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="parent" value="STANDARD"/>
            <item-attr name="color" value="4"/>
        </enum-item>
        <enum-item name="DRUNK">
            <item-attr name="caption" value="Drunk"/>
            <item-attr name="can_assign_labor" value="false"/>
            <item-attr name="parent" value="STANDARD"/>
            <item-attr name="color" value="6"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_labor">
        <enum-attr name="caption"/>

        <enum-item name="NONE" value="-1"/>

        -- 0

        <enum-item name="MINE">
            <item-attr name="caption" value="Mining"/>
        </enum-item>
        <enum-item name="HAUL_STONE">
            <item-attr name="caption" value="Stone Hauling"/>
        </enum-item>
        <enum-item name="HAUL_WOOD">
            <item-attr name="caption" value="Wood Hauling"/>
        </enum-item>
        <enum-item name="HAUL_BODY">
            <item-attr name="caption" value="Burial"/>
        </enum-item>
        <enum-item name="HAUL_FOOD">
            <item-attr name="caption" value="Food Hauling"/>
        </enum-item>
        <enum-item name="HAUL_REFUSE">
            <item-attr name="caption" value="Refuse Hauling"/>
        </enum-item>
        <enum-item name="HAUL_ITEM">
            <item-attr name="caption" value="Item Hauling"/>
        </enum-item>
        <enum-item name="HAUL_FURNITURE">
            <item-attr name="caption" value="Furniture Hauling"/>
        </enum-item>
        <enum-item name="HAUL_ANIMAL">
            <item-attr name="caption" value="Animal Hauling"/>
        </enum-item>
        <enum-item name="CLEAN">
            <item-attr name="caption" value="Cleaning"/>
        </enum-item>

        -- 10

        <enum-item name="CUTWOOD">
            <item-attr name="caption" value="Wood Cutting"/>
        </enum-item>
        <enum-item name="CARPENTER">
            <item-attr name="caption" value="Carpentry"/>
        </enum-item>
        <enum-item name="DETAIL">
            <item-attr name="caption" value="Stone Detailing"/>
        </enum-item>
        <enum-item name="MASON">
            <item-attr name="caption" value="Masonry"/>
        </enum-item>
        <enum-item name="ARCHITECT">
            <item-attr name="caption" value="Architecture"/>
        </enum-item>
        <enum-item name="ANIMALTRAIN">
            <item-attr name="caption" value="Animal Training"/>
        </enum-item>
        <enum-item name="ANIMALCARE">
            <item-attr name="caption" value="Animal Care"/>
        </enum-item>
        <enum-item name="DIAGNOSE">
            <item-attr name="caption" value="Diagnosis"/>
        </enum-item>
        <enum-item name="SURGERY">
            <item-attr name="caption" value="Surgery"/>
        </enum-item>
        <enum-item name="BONE_SETTING">
            <item-attr name="caption" value="Setting Bones"/>
        </enum-item>

        -- 20

        <enum-item name="SUTURING">
            <item-attr name="caption" value="Suturing"/>
        </enum-item>
        <enum-item name="DRESSING_WOUNDS">
            <item-attr name="caption" value="Dressing Wounds"/>
        </enum-item>
        <enum-item name="FEED_WATER_CIVILIANS">
            <item-attr name="caption" value="Feed Patients/Prisoners"/>
        </enum-item>
        <enum-item name="RECOVER_WOUNDED">
            <item-attr name="caption" value="Recovering Wounded"/>
        </enum-item>
        <enum-item name="BUTCHER">
            <item-attr name="caption" value="Butchery"/>
        </enum-item>
        <enum-item name="TRAPPER">
            <item-attr name="caption" value="Trapping"/>
        </enum-item>
        <enum-item name="DISSECT_VERMIN">
            <item-attr name="caption" value="Small Animal Dissection"/>
        </enum-item>
        <enum-item name="LEATHER">
            <item-attr name="caption" value="Leatherworking"/>
        </enum-item>
        <enum-item name="TANNER">
            <item-attr name="caption" value="Tanning"/>
        </enum-item>
        <enum-item name="BREWER">
            <item-attr name="caption" value="Brewing"/>
        </enum-item>

        -- 30

        <enum-item name="ALCHEMIST">
            <item-attr name="caption" value="Alchemy"/>
        </enum-item>
        <enum-item name="SOAP_MAKER">
            <item-attr name="caption" value="Soap Maker"/>
        </enum-item>
        <enum-item name="WEAVER">
            <item-attr name="caption" value="Weaving"/>
        </enum-item>
        <enum-item name="CLOTHESMAKER">
            <item-attr name="caption" value="Clothesmaking"/>
        </enum-item>
        <enum-item name="MILLER">
            <item-attr name="caption" value="Milling"/>
        </enum-item>
        <enum-item name="PROCESS_PLANT">
            <item-attr name="caption" value="Plant Processing"/>
        </enum-item>
        <enum-item name="MAKE_CHEESE">
            <item-attr name="caption" value="Cheese Making"/>
        </enum-item>
        <enum-item name="MILK">
            <item-attr name="caption" value="Milking"/>
        </enum-item>
        <enum-item name="COOK">
            <item-attr name="caption" value="Cooking"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="Farming (Fields)"/>
        </enum-item>

        -- 40

        <enum-item name="HERBALIST">
            <item-attr name="caption" value="Plant Gathering"/>
        </enum-item>
        <enum-item name="FISH">
            <item-attr name="caption" value="Fishing"/>
        </enum-item>
        <enum-item name="CLEAN_FISH">
            <item-attr name="caption" value="Fish Cleaning"/>
        </enum-item>
        <enum-item name="DISSECT_FISH">
            <item-attr name="caption" value="Fish Dissection"/>
        </enum-item>
        <enum-item name="HUNT">
            <item-attr name="caption" value="Hunting"/>
        </enum-item>
        <enum-item name="SMELT">
            <item-attr name="caption" value="Furnace Operating"/>
        </enum-item>
        <enum-item name="FORGE_WEAPON">
            <item-attr name="caption" value="Weaponsmithing"/>
        </enum-item>
        <enum-item name="FORGE_ARMOR">
            <item-attr name="caption" value="Armoring"/>
        </enum-item>
        <enum-item name="FORGE_FURNITURE">
            <item-attr name="caption" value="Blacksmithing"/>
        </enum-item>
        <enum-item name="METAL_CRAFT">
            <item-attr name="caption" value="Metalcrafting"/>
        </enum-item>

        -- 50

        <enum-item name="CUT_GEM">
            <item-attr name="caption" value="Gem Cutting"/>
        </enum-item>
        <enum-item name="ENCRUST_GEM">
            <item-attr name="caption" value="Gem Setting"/>
        </enum-item>
        <enum-item name="WOOD_CRAFT">
            <item-attr name="caption" value="Woodcrafting"/>
        </enum-item>
        <enum-item name="STONE_CRAFT">
            <item-attr name="caption" value="Stonecrafting"/>
        </enum-item>
        <enum-item name="BONE_CARVE">
            <item-attr name="caption" value="Bone Carving"/>
        </enum-item>
        <enum-item name="GLASSMAKER">
            <item-attr name="caption" value="Glassmaking"/>
        </enum-item>
        <enum-item name="EXTRACT_STRAND">
            <item-attr name="caption" value="Strand Extraction"/>            
        </enum-item>
        <enum-item name="SIEGECRAFT">
            <item-attr name="caption" value="Siege Engineering"/>
        </enum-item>
        <enum-item name="SIEGEOPERATE">
            <item-attr name="caption" value="Siege Operating"/>
        </enum-item>
        <enum-item name="BOWYER">
            <item-attr name="caption" value="Crossbow-making"/>
        </enum-item>

        -- 60

        <enum-item name="MECHANIC">
            <item-attr name="caption" value="Mechanics"/>
        </enum-item>
        <enum-item name="POTASH_MAKING">
            <item-attr name="caption" value="Potash Making"/>
        </enum-item>
        <enum-item name="LYE_MAKING">
            <item-attr name="caption" value="Lye Making"/>
        </enum-item>
        <enum-item name="DYER">
            <item-attr name="caption" value="Dyeing"/>
        </enum-item>
        <enum-item name="BURN_WOOD">
            <item-attr name="caption" value="Wood Burning"/>
        </enum-item>
        <enum-item name="OPERATE_PUMP">
            <item-attr name="caption" value="Pump Operating"/>
        </enum-item>
        <enum-item name="SHEARER">
            <item-attr name="caption" value="Shearing"/>
        </enum-item>
        <enum-item name="SPINNER">
            <item-attr name="caption" value="Spinning"/>
        </enum-item>
        <enum-item name="POTTERY">
            <item-attr name="caption" value="Pottery"/>
        </enum-item>
        <enum-item name="GLAZING">
            <item-attr name="caption" value="Glazing"/>
        </enum-item>

        -- 70

        <enum-item name="PRESSING">
            <item-attr name="caption" value="Pressing"/>
        </enum-item>
        <enum-item name="BEEKEEPING">
            <item-attr name="caption" value="Bee Keeping"/>
        </enum-item>
        <enum-item name="WAX_WORKING">
            <item-attr name="caption" value="Wax Working"/>
        </enum-item>
        <enum-item name="PUSH_HAUL_VEHICLE">
            <item-attr name="caption" value="Push/Haul Vehicle"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_skill_class" comment="not in DF">
        <enum-item name="Normal"/>
        <enum-item name="Medical"/>
        <enum-item name="Personal"/>
        <enum-item name="Social"/>
        <enum-item name="Cultural"/>
        <enum-item name="MilitaryWeapon"/>
        <enum-item name="MilitaryUnarmed"/>
        <enum-item name="MilitaryAttack"/>
        <enum-item name="MilitaryDefense"/>
        <enum-item name="MilitaryMisc"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="job_skill" base-type="int16_t">
        <enum-attr name="caption"/>
        <enum-attr name="caption_noun"/>
        <enum-attr name="profession" type-name="profession" default-value="NONE"/>
        <enum-attr name="labor" type-name="unit_labor" default-value="NONE"/>
        <enum-attr name="type" type-name="job_skill_class" default-value="Normal"/>

        <enum-item name="NONE" value="-1"/>

        -- 0

        <enum-item name="MINING">
            <item-attr name="caption" value="Mining"/>
            <item-attr name="caption_noun" value="Miner"/>
            <item-attr name="profession" value="MINER"/>
            <item-attr name="labor" value="MINE"/>
        </enum-item>
        <enum-item name="WOODCUTTING">
            <item-attr name="caption" value="Wood Cutting"/>
            <item-attr name="caption_noun" value="Wood Cutter"/>
            <item-attr name="profession" value="WOODCUTTER"/>
            <item-attr name="labor" value="CUTWOOD"/>
        </enum-item>
        <enum-item name="CARPENTRY">
            <item-attr name="caption" value="Carpentry"/>
            <item-attr name="caption_noun" value="Carpenter"/>
            <item-attr name="profession" value="CARPENTER"/>
            <item-attr name="labor" value="CARPENTER"/>
        </enum-item>
        <enum-item name="DETAILSTONE">
            <item-attr name="caption" value="Engraving"/>
            <item-attr name="caption_noun" value="Engraver"/>
            <item-attr name="profession" value="ENGRAVER"/>
            <item-attr name="labor" value="DETAIL"/>
        </enum-item>
        <enum-item name="MASONRY">
            <item-attr name="caption" value="Masonry"/>
            <item-attr name="caption_noun" value="Mason"/>
            <item-attr name="profession" value="MASON"/>
            <item-attr name="labor" value="MASON"/>
        </enum-item>
        <enum-item name="ANIMALTRAIN">
            <item-attr name="caption" value="Animal Training"/>
            <item-attr name="caption_noun" value="Animal Trainer"/>
            <item-attr name="profession" value="ANIMAL_TRAINER"/>
            <item-attr name="labor" value="ANIMALTRAIN"/>
        </enum-item>
        <enum-item name="ANIMALCARE">
            <item-attr name="caption" value="Animal Caretaking"/>
            <item-attr name="caption_noun" value="Animal Caretaker"/>
            <item-attr name="profession" value="ANIMAL_CARETAKER"/>
            <item-attr name="labor" value="ANIMALCARE"/>
        </enum-item>
        <enum-item name="DISSECT_FISH">
            <item-attr name="caption" value="Fish Dissection"/>
            <item-attr name="caption_noun" value="Fish Dissector"/>
            <item-attr name="profession" value="FISH_DISSECTOR"/>
            <item-attr name="labor" value="DISSECT_FISH"/>
        </enum-item>
        <enum-item name="DISSECT_VERMIN">
            <item-attr name="caption" value="Animal Dissection"/>
            <item-attr name="caption_noun" value="Animal Dissector"/>
            <item-attr name="profession" value="ANIMAL_DISSECTOR"/>
            <item-attr name="labor" value="DISSECT_VERMIN"/>
        </enum-item>
        <enum-item name="PROCESSFISH">
            <item-attr name="caption" value="Fish Cleaning"/>
            <item-attr name="caption_noun" value="Fish Cleaner"/>
            <item-attr name="profession" value="FISH_CLEANER"/>
            <item-attr name="labor" value="CLEAN_FISH"/>
        </enum-item>

        -- 10

        <enum-item name="BUTCHER">
            <item-attr name="caption" value="Butchery"/>
            <item-attr name="caption_noun" value="Butcher"/>
            <item-attr name="profession" value="BUTCHER"/>
            <item-attr name="labor" value="BUTCHER"/>
        </enum-item>
        <enum-item name="TRAPPING">
            <item-attr name="caption" value="Trapping"/>
            <item-attr name="caption_noun" value="Trapper"/>
            <item-attr name="profession" value="TRAPPER"/>
            <item-attr name="labor" value="TRAPPER"/>
        </enum-item>
        <enum-item name="TANNER">
            <item-attr name="caption" value="Tanning"/>
            <item-attr name="caption_noun" value="Tanner"/>
            <item-attr name="profession" value="TANNER"/>
            <item-attr name="labor" value="TANNER"/>
        </enum-item>
        <enum-item name="WEAVING">
            <item-attr name="caption" value="Weaving"/>
            <item-attr name="caption_noun" value="Weaver"/>
            <item-attr name="profession" value="WEAVER"/>
            <item-attr name="labor" value="WEAVER"/>
        </enum-item>
        <enum-item name="BREWING">
            <item-attr name="caption" value="Brewing"/>
            <item-attr name="caption_noun" value="Brewer"/>
            <item-attr name="profession" value="BREWER"/>
            <item-attr name="labor" value="BREWER"/>
        </enum-item>
        <enum-item name="ALCHEMY">
            <item-attr name="caption" value="Alchemy"/>
            <item-attr name="caption_noun" value="Alchemist"/>
            <item-attr name="profession" value="ALCHEMIST"/>
            <item-attr name="labor" value="ALCHEMIST"/>
        </enum-item>
        <enum-item name="CLOTHESMAKING">
            <item-attr name="caption" value="Clothes Making"/>
            <item-attr name="caption_noun" value="Clothier"/>
            <item-attr name="profession" value="CLOTHIER"/>
            <item-attr name="labor" value="CLOTHESMAKER"/>
        </enum-item>
        <enum-item name="MILLING">
            <item-attr name="caption" value="Milling"/>
            <item-attr name="caption_noun" value="Miller"/>
            <item-attr name="profession" value="MILLER"/>
            <item-attr name="labor" value="MILLER"/>
        </enum-item>
        <enum-item name="PROCESSPLANTS">
            <item-attr name="caption" value="Threshing"/>
            <item-attr name="caption_noun" value="Thresher"/>
            <item-attr name="profession" value="THRESHER"/>
            <item-attr name="labor" value="PROCESS_PLANT"/>
        </enum-item>
        <enum-item name="CHEESEMAKING">
            <item-attr name="caption" value="Cheese Making"/>
            <item-attr name="caption_noun" value="Cheese Maker"/>
            <item-attr name="profession" value="CHEESE_MAKER"/>
            <item-attr name="labor" value="MAKE_CHEESE"/>
        </enum-item>

        -- 20

        <enum-item name="MILK">
            <item-attr name="caption" value="Milking"/>
            <item-attr name="caption_noun" value="Milker"/>
            <item-attr name="profession" value="MILKER"/>
            <item-attr name="labor" value="MILK"/>
        </enum-item>
        <enum-item name="COOK">
            <item-attr name="caption" value="Cooking"/>
            <item-attr name="caption_noun" value="Cook"/>
            <item-attr name="profession" value="COOK"/>
            <item-attr name="labor" value="COOK"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="Growing"/>
            <item-attr name="caption_noun" value="Grower"/>
            <item-attr name="profession" value="PLANTER"/>
            <item-attr name="labor" value="PLANT"/>
        </enum-item>
        <enum-item name="HERBALISM">
            <item-attr name="caption" value="Herbalism"/>
            <item-attr name="caption_noun" value="Herbalist"/>
            <item-attr name="profession" value="HERBALIST"/>
            <item-attr name="labor" value="HERBALIST"/>
        </enum-item>
        <enum-item name="FISH">
            <item-attr name="caption" value="Fishing"/>
            <item-attr name="caption_noun" value="Fisherman"/>
            <item-attr name="profession" value="FISHERMAN"/>
            <item-attr name="labor" value="FISH"/>
        </enum-item>
        <enum-item name="SMELT">
            <item-attr name="caption" value="Furnace Operation"/>
            <item-attr name="caption_noun" value="Furnace Operator"/>
            <item-attr name="profession" value="FURNACE_OPERATOR"/>
            <item-attr name="labor" value="SMELT"/>
        </enum-item>
        <enum-item name="EXTRACT_STRAND">
            <item-attr name="caption" value="Strand Extraction"/>
            <item-attr name="caption_noun" value="Strand Extractor"/>
            <item-attr name="profession" value="STRAND_EXTRACTOR"/>
            <item-attr name="labor" value="EXTRACT_STRAND"/>
        </enum-item>
        <enum-item name="FORGE_WEAPON">
            <item-attr name="caption" value="Weaponsmithing"/>
            <item-attr name="caption_noun" value="Weaponsmith"/>
            <item-attr name="profession" value="WEAPONSMITH"/>
            <item-attr name="labor" value="FORGE_WEAPON"/>
        </enum-item>
        <enum-item name="FORGE_ARMOR">
            <item-attr name="caption" value="Armorsmithing"/>
            <item-attr name="caption_noun" value="Armorsmith"/>
            <item-attr name="profession" value="ARMORER"/>
            <item-attr name="labor" value="FORGE_ARMOR"/>
        </enum-item>
        <enum-item name="FORGE_FURNITURE">
            <item-attr name="caption" value="Metalsmithing"/>
            <item-attr name="caption_noun" value="Metalsmith"/>
            <item-attr name="profession" value="BLACKSMITH"/>
            <item-attr name="labor" value="FORGE_FURNITURE"/>
        </enum-item>

        -- 30

        <enum-item name="CUTGEM">
            <item-attr name="caption" value="Gem Cutting"/>
            <item-attr name="caption_noun" value="Gem Cutter"/>
            <item-attr name="profession" value="GEM_CUTTER"/>
            <item-attr name="labor" value="CUT_GEM"/>
        </enum-item>
        <enum-item name="ENCRUSTGEM">
            <item-attr name="caption" value="Gem Setting"/>
            <item-attr name="caption_noun" value="Gem Setter"/>
            <item-attr name="profession" value="GEM_SETTER"/>
            <item-attr name="labor" value="ENCRUST_GEM"/>
        </enum-item>
        <enum-item name="WOODCRAFT">
            <item-attr name="caption" value="Wood Crafting"/>
            <item-attr name="caption_noun" value="Wood Crafter"/>
            <item-attr name="profession" value="WOODCRAFTER"/>
            <item-attr name="labor" value="WOOD_CRAFT"/>
        </enum-item>
        <enum-item name="STONECRAFT">
            <item-attr name="caption" value="Stone Crafting"/>
            <item-attr name="caption_noun" value="Stone Crafter"/>
            <item-attr name="profession" value="STONECRAFTER"/>
            <item-attr name="labor" value="STONE_CRAFT"/>
        </enum-item>
        <enum-item name="METALCRAFT">
            <item-attr name="caption" value="Metal Crafting"/>
            <item-attr name="caption_noun" value="Metal Crafter"/>
            <item-attr name="profession" value="METALCRAFTER"/>
            <item-attr name="labor" value="METAL_CRAFT"/>
        </enum-item>
        <enum-item name="GLASSMAKER">
            <item-attr name="caption" value="Glassmaking"/>
            <item-attr name="caption_noun" value="Glassmaker"/>
            <item-attr name="profession" value="GLASSMAKER"/>
            <item-attr name="labor" value="GLASSMAKER"/>
        </enum-item>
        <enum-item name="LEATHERWORK">
            <item-attr name="caption" value="Leatherworkering"/>
            <item-attr name="caption_noun" value="Leatherworker"/>
            <item-attr name="profession" value="LEATHERWORKER"/>
            <item-attr name="labor" value="LEATHER"/>
        </enum-item>
        <enum-item name="BONECARVE">
            <item-attr name="caption" value="Bone Carving"/>
            <item-attr name="caption_noun" value="Bone Carver"/>
            <item-attr name="profession" value="BONE_CARVER"/>
            <item-attr name="labor" value="BONE_CARVE"/>
        </enum-item>
        <enum-item name="AXE">
            <item-attr name="caption" value="Axe"/>
            <item-attr name="caption_noun" value="Axeman"/>
            <item-attr name="profession" value="AXEMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="SWORD">
            <item-attr name="caption" value="Sword"/>
            <item-attr name="caption_noun" value="Swordsman"/>
            <item-attr name="profession" value="SWORDSMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>

        -- 40

        <enum-item name="DAGGER">
            <item-attr name="caption" value="Knife"/>
            <item-attr name="caption_noun" value="Knife User"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="MACE">
            <item-attr name="caption" value="Mace"/>
            <item-attr name="caption_noun" value="Maceman"/>
            <item-attr name="profession" value="MACEMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="HAMMER">
            <item-attr name="caption" value="Hammer"/>
            <item-attr name="caption_noun" value="Hammerman"/>
            <item-attr name="profession" value="HAMMERMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="SPEAR">
            <item-attr name="caption" value="Spear"/>
            <item-attr name="caption_noun" value="Spearman"/>
            <item-attr name="profession" value="SPEARMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="CROSSBOW">
            <item-attr name="caption" value="Crossbow"/>
            <item-attr name="caption_noun" value="Crossbowman"/>
            <item-attr name="profession" value="CROSSBOWMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="SHIELD">
            <item-attr name="caption" value="Shield"/>
            <item-attr name="caption_noun" value="Shield User"/>
            <item-attr name="type" value="MilitaryDefense"/>
        </enum-item>
        <enum-item name="ARMOR">
            <item-attr name="caption" value="Armor"/>
            <item-attr name="caption_noun" value="Armor User"/>
            <item-attr name="type" value="MilitaryDefense"/>
        </enum-item>
        <enum-item name="SIEGECRAFT">
            <item-attr name="caption" value="Siege Engineering"/>
            <item-attr name="caption_noun" value="Siege Engineer"/>
            <item-attr name="profession" value="SIEGE_ENGINEER"/>
            <item-attr name="labor" value="SIEGECRAFT"/>
        </enum-item>
        <enum-item name="SIEGEOPERATE">
            <item-attr name="caption" value="Siege Operation"/>
            <item-attr name="caption_noun" value="Siege Operator"/>
            <item-attr name="profession" value="SIEGE_OPERATOR"/>
            <item-attr name="labor" value="SIEGEOPERATE"/>
        </enum-item>
        <enum-item name="BOWYER">
            <item-attr name="caption" value="Bowmaking"/>
            <item-attr name="caption_noun" value="Bowyer"/>
            <item-attr name="profession" value="BOWYER"/>
            <item-attr name="labor" value="BOWYER"/>
        </enum-item>

        -- 50

        <enum-item name="PIKE">
            <item-attr name="caption" value="Pike"/>
            <item-attr name="caption_noun" value="Pikeman"/>
            <item-attr name="profession" value="PIKEMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="WHIP">
            <item-attr name="caption" value="Lash"/>
            <item-attr name="caption_noun" value="Lasher"/>
            <item-attr name="profession" value="LASHER"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="BOW">
            <item-attr name="caption" value="Bow"/>
            <item-attr name="caption_noun" value="Bowman"/>
            <item-attr name="profession" value="BOWMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="BLOWGUN">
            <item-attr name="caption" value="Blowgun"/>
            <item-attr name="caption_noun" value="Blowgunner"/>
            <item-attr name="profession" value="BLOWGUNMAN"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="THROW">
            <item-attr name="caption" value="Throwing"/>
            <item-attr name="caption_noun" value="Thrower"/>
            <item-attr name="type" value="MilitaryAttack"/>
        </enum-item>
        <enum-item name="MECHANICS">
            <item-attr name="caption" value="Machinery"/>
            <item-attr name="caption_noun" value="Mechanic"/>
            <item-attr name="profession" value="MECHANIC"/>
            <item-attr name="labor" value="MECHANIC"/>
        </enum-item>
        <enum-item name="MAGIC_NATURE">
            <item-attr name="caption" value="Nature"/>
            <item-attr name="caption_noun" value="Druid"/>
        </enum-item>
        <enum-item name="SNEAK">
            <item-attr name="caption" value="Ambush"/>
            <item-attr name="caption_noun" value="Ambusher"/>
            <item-attr name="profession" value="HUNTER"/>
            <item-attr name="labor" value="HUNT"/>
        </enum-item>
        <enum-item name="DESIGNBUILDING">
            <item-attr name="caption" value="Building Design"/>
            <item-attr name="caption_noun" value="Building Designer"/>
            <item-attr name="profession" value="ARCHITECT"/>
            <item-attr name="labor" value="ARCHITECT"/>
        </enum-item>
        <enum-item name="DRESS_WOUNDS">
            <item-attr name="caption" value="Wound Dressing"/>
            <item-attr name="caption_noun" value="Wound Dresser"/>
            <item-attr name="labor" value="DRESSING_WOUNDS"/>
            <item-attr name="type" value="Medical"/>
        </enum-item>

        -- 60

        <enum-item name="DIAGNOSE">
            <item-attr name="caption" value="Diagnostics"/>
            <item-attr name="caption_noun" value="Diagnostician"/>
            <item-attr name="profession" value="DIAGNOSER"/>
            <item-attr name="labor" value="DIAGNOSE"/>
            <item-attr name="type" value="Medical"/>
        </enum-item>
        <enum-item name="SURGERY">
            <item-attr name="caption" value="Surgery"/>
            <item-attr name="caption_noun" value="Surgeon"/>
            <item-attr name="profession" value="SURGEON"/>
            <item-attr name="labor" value="SURGERY"/>
            <item-attr name="type" value="Medical"/>
        </enum-item>
        <enum-item name="SET_BONE">
            <item-attr name="caption" value="Bone Setting"/>
            <item-attr name="caption_noun" value="Bone Doctor"/>
            <item-attr name="profession" value="BONE_SETTER"/>
            <item-attr name="labor" value="BONE_SETTING"/>
            <item-attr name="type" value="Medical"/>
        </enum-item>
        <enum-item name="SUTURE">
            <item-attr name="caption" value="Suturing"/>
            <item-attr name="caption_noun" value="Suturer"/>
            <item-attr name="profession" value="SUTURER"/>
            <item-attr name="labor" value="SUTURING"/>
            <item-attr name="type" value="Medical"/>
        </enum-item>
        <enum-item name="CRUTCH_WALK">
            <item-attr name="caption" value="Crutch-walking"/>
            <item-attr name="caption_noun" value="Crutch-walker"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="WOOD_BURNING">
            <item-attr name="caption" value="Wood Burning"/>
            <item-attr name="caption_noun" value="Wood Burner"/>
            <item-attr name="profession" value="WOOD_BURNER"/>
            <item-attr name="labor" value="BURN_WOOD"/>
        </enum-item>
        <enum-item name="LYE_MAKING">
            <item-attr name="caption" value="Lye Making"/>
            <item-attr name="caption_noun" value="Lye Maker"/>
            <item-attr name="profession" value="LYE_MAKER"/>
            <item-attr name="labor" value="LYE_MAKING"/>
        </enum-item>
        <enum-item name="SOAP_MAKING">
            <item-attr name="caption" value="Soap Making"/>
            <item-attr name="caption_noun" value="Soaper"/>
            <item-attr name="profession" value="SOAP_MAKER"/>
            <item-attr name="labor" value="SOAP_MAKER"/>
        </enum-item>
        <enum-item name="POTASH_MAKING">
            <item-attr name="caption" value="Potash Making"/>
            <item-attr name="caption_noun" value="Potash Maker"/>
            <item-attr name="profession" value="POTASH_MAKER"/>
            <item-attr name="labor" value="POTASH_MAKING"/>
        </enum-item>
        <enum-item name="DYER">
            <item-attr name="caption" value="Dyeing"/>
            <item-attr name="caption_noun" value="Dyer"/>
            <item-attr name="profession" value="DYER"/>
            <item-attr name="labor" value="DYER"/>
        </enum-item>

        -- 70

        <enum-item name="OPERATE_PUMP">
            <item-attr name="caption" value="Pump Operation"/>
            <item-attr name="caption_noun" value="Pump Operator"/>
            <item-attr name="profession" value="PUMP_OPERATOR"/>
            <item-attr name="labor" value="OPERATE_PUMP"/>
        </enum-item>
        <enum-item name="SWIMMING">
            <item-attr name="caption" value="Swimming"/>
            <item-attr name="caption_noun" value="Swimmer"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="PERSUASION">
            <item-attr name="caption" value="Persuasion"/>
            <item-attr name="caption_noun" value="Persuader"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="NEGOTIATION">
            <item-attr name="caption" value="Negotiation"/>
            <item-attr name="caption_noun" value="Negotiator"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="JUDGING_INTENT">
            <item-attr name="caption" value="Judging Intent"/>
            <item-attr name="caption_noun" value="Judge of Intent"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="APPRAISAL">
            <item-attr name="caption" value="Appraisal"/>
            <item-attr name="caption_noun" value="Appraiser"/>
            <item-attr name="profession" value="TRADER"/>
        </enum-item>
        <enum-item name="ORGANIZATION">
            <item-attr name="caption" value="Organization"/>
            <item-attr name="caption_noun" value="Organizer"/>
            <item-attr name="profession" value="ADMINISTRATOR"/>
        </enum-item>
        <enum-item name="RECORD_KEEPING">
            <item-attr name="caption" value="Record Keeping"/>
            <item-attr name="caption_noun" value="Record Keeper"/>
            <item-attr name="profession" value="CLERK"/>
        </enum-item>
        <enum-item name="LYING">
            <item-attr name="caption" value="Lying"/>
            <item-attr name="caption_noun" value="Liar"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="INTIMIDATION">
            <item-attr name="caption" value="Intimidation"/>
            <item-attr name="caption_noun" value="Intimidator"/>
            <item-attr name="type" value="Social"/>
        </enum-item>

        -- 80

        <enum-item name="CONVERSATION">
            <item-attr name="caption" value="Conversation"/>
            <item-attr name="caption_noun" value="Conversationalist"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="COMEDY">
            <item-attr name="caption" value="Comedy"/>
            <item-attr name="caption_noun" value="Comedian"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="FLATTERY">
            <item-attr name="caption" value="Flattery"/>
            <item-attr name="caption_noun" value="Flatterer"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="CONSOLE">
            <item-attr name="caption" value="Consoling"/>
            <item-attr name="caption_noun" value="Consoler"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="PACIFY">
            <item-attr name="caption" value="Pacification"/>
            <item-attr name="caption_noun" value="Pacifier"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="TRACKING">
            <item-attr name="caption" value="Tracking"/>
            <item-attr name="caption_noun" value="Tracker"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="KNOWLEDGE_ACQUISITION">
            <item-attr name="caption" value="Studying"/>
            <item-attr name="caption_noun" value="Student"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="CONCENTRATION">
            <item-attr name="caption" value="Concentration"/>
            <item-attr name="caption_noun" value="Concentration"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="DISCIPLINE">
            <item-attr name="caption" value="Discipline"/>
            <item-attr name="caption_noun" value="Discipline"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="SITUATIONAL_AWARENESS">
            <item-attr name="caption" value="Observation"/>
            <item-attr name="caption_noun" value="Observer"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>

        -- 90

        <enum-item name="WRITING">
            <item-attr name="caption" value="Writing"/>
            <item-attr name="caption_noun" value="Wordsmith"/>
            <item-attr name="type" value="Cultural"/>
        </enum-item>
        <enum-item name="PROSE">
            <item-attr name="caption" value="Prose"/>
            <item-attr name="caption_noun" value="Writer"/>
            <item-attr name="type" value="Cultural"/>
        </enum-item>
        <enum-item name="POETRY">
            <item-attr name="caption" value="Poetry"/>
            <item-attr name="caption_noun" value="Poet"/>
            <item-attr name="type" value="Cultural"/>
        </enum-item>
        <enum-item name="READING">
            <item-attr name="caption" value="Reading"/>
            <item-attr name="caption_noun" value="Reader"/>
            <item-attr name="type" value="Cultural"/>
        </enum-item>
        <enum-item name="SPEAKING">
            <item-attr name="caption" value="Speaking"/>
            <item-attr name="caption_noun" value="Speaker"/>
            <item-attr name="type" value="Cultural"/>
        </enum-item>
        <enum-item name="COORDINATION">
            <item-attr name="caption" value="Coordination"/>
            <item-attr name="caption_noun" value="Coordination"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="BALANCE">
            <item-attr name="caption" value="Balance"/>
            <item-attr name="caption_noun" value="Balance"/>
            <item-attr name="type" value="Personal"/>
        </enum-item>
        <enum-item name="LEADERSHIP">
            <item-attr name="caption" value="Leadership"/>
            <item-attr name="caption_noun" value="Leader"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="TEACHING">
            <item-attr name="caption" value="Teaching"/>
            <item-attr name="caption_noun" value="Teacher"/>
            <item-attr name="type" value="Social"/>
        </enum-item>
        <enum-item name="MELEE_COMBAT">
            <item-attr name="caption" value="Fighting"/>
            <item-attr name="caption_noun" value="Fighter"/>
            <item-attr name="type" value="MilitaryAttack"/>
        </enum-item>

        -- 100

        <enum-item name="RANGED_COMBAT">
            <item-attr name="caption" value="Archery"/>
            <item-attr name="caption_noun" value="Archer"/>
            <item-attr name="type" value="MilitaryAttack"/>
        </enum-item>
        <enum-item name="WRESTLING">
            <item-attr name="caption" value="Wrestling"/>
            <item-attr name="caption_noun" value="Wrestler"/>
            <item-attr name="profession" value="WRESTLER"/>
            <item-attr name="type" value="MilitaryUnarmed"/>
        </enum-item>
        <enum-item name="BITE">
            <item-attr name="caption" value="Biting"/>
            <item-attr name="caption_noun" value="Biter"/>
            <item-attr name="type" value="MilitaryUnarmed"/>
        </enum-item>
        <enum-item name="GRASP_STRIKE">
            <item-attr name="caption" value="Striking"/>
            <item-attr name="caption_noun" value="Striker"/>
            <item-attr name="type" value="MilitaryUnarmed"/>
        </enum-item>
        <enum-item name="STANCE_STRIKE">
            <item-attr name="caption" value="Kicking"/>
            <item-attr name="caption_noun" value="Kicker"/>
            <item-attr name="type" value="MilitaryUnarmed"/>
        </enum-item>
        <enum-item name="DODGING">
            <item-attr name="caption" value="Dodging"/>
            <item-attr name="caption_noun" value="Dodger"/>
            <item-attr name="type" value="MilitaryDefense"/>
        </enum-item>
        <enum-item name="MISC_WEAPON">
            <item-attr name="caption" value="Misc. Object"/>
            <item-attr name="caption_noun" value="Misc. Object User"/>
            <item-attr name="type" value="MilitaryWeapon"/>
        </enum-item>
        <enum-item name="KNAPPING">
            <item-attr name="caption" value="Knapping"/>
            <item-attr name="caption_noun" value="Knapper"/>
            <item-attr name="type" value="MilitaryMisc"/>
        </enum-item>
        <enum-item name="MILITARY_TACTICS">
            <item-attr name="caption" value="Military Tactics"/>
            <item-attr name="caption_noun" value="Military Tactics"/>
        </enum-item>
        <enum-item name="SHEARING">
            <item-attr name="caption" value="Shearing"/>
            <item-attr name="caption_noun" value="Shearer"/>
            <item-attr name="profession" value="SHEARER"/>
            <item-attr name="labor" value="SHEARER"/>
        </enum-item>

        -- 110

        <enum-item name="SPINNING">
            <item-attr name="caption" value="Spinning"/>
            <item-attr name="caption_noun" value="Spinner"/>
            <item-attr name="profession" value="SPINNER"/>
            <item-attr name="labor" value="SPINNER"/>
        </enum-item>
        <enum-item name="POTTERY">
            <item-attr name="caption" value="Pottery"/>
            <item-attr name="caption_noun" value="Potter"/>
            <item-attr name="profession" value="POTTER"/>
            <item-attr name="labor" value="POTTERY"/>
        </enum-item>
        <enum-item name="GLAZING">
            <item-attr name="caption" value="Glazing"/>
            <item-attr name="caption_noun" value="Glazer"/>
            <item-attr name="profession" value="GLAZER"/>
            <item-attr name="labor" value="GLAZING"/>
        </enum-item>
        <enum-item name="PRESSING">
            <item-attr name="caption" value="Pressing"/>
            <item-attr name="caption_noun" value="Presser"/>
            <item-attr name="profession" value="PRESSER"/>
            <item-attr name="labor" value="PRESSING"/>
        </enum-item>
        <enum-item name="BEEKEEPING">
            <item-attr name="caption" value="Beekeeping"/>
            <item-attr name="caption_noun" value="Beekeeper"/>
            <item-attr name="profession" value="BEEKEEPER"/>
            <item-attr name="labor" value="BEEKEEPING"/>
        </enum-item>
        <enum-item name="WAX_WORKING">
            <item-attr name="caption" value="Wax Working"/>
            <item-attr name="caption_noun" value="Wax Worker"/>
            <item-attr name="profession" value="WAX_WORKER"/>
            <item-attr name="labor" value="WAX_WORKING"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="hauler_type">
        <enum-item name="Any"/>
        <enum-item name="Stone"/>
        <enum-item name="Wood"/>
        <enum-item name="Item"/>
        <enum-item name="Bin"/>
        <enum-item name="Body"/>
        <enum-item name="Food"/>
        <enum-item name="Refuse"/>
        <enum-item name="Furniture"/>
        <enum-item name="Animal"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="furniture_type">
        subset of item_type
        <enum-item name="FLOODGATE"/>
        <enum-item name="HATCH_COVER"/>
        <enum-item name="GRATE"/>
        <enum-item name="DOOR"/>
        <enum-item name="CATAPULTPARTS"/>
        <enum-item name="BALLISTAPARTS"/>
        <enum-item name="TRAPPARTS"/>
        <enum-item name="BED"/>
        <enum-item name="TRACTION_BENCH"/>
        <enum-item name="WINDOW"/>
        <enum-item name="CHAIR"/>
        <enum-item name="TABLE"/>
        <enum-item name="COFFIN"/>
        <enum-item name="STATUE"/>
        <enum-item name="SLAB"/>
        <enum-item name="QUERN"/>
        <enum-item name="MILLSTONE"/>
        <enum-item name="ARMORSTAND"/>
        <enum-item name="WEAPONRACK"/>
        <enum-item name="CABINET"/>
        <enum-item name="ANVIL"/>
        <enum-item name="BUCKET"/>
        <enum-item name="BIN"/>
        <enum-item name="BOX"/>
        <enum-item name="SIEGEAMMO"/>
        <enum-item name="BARREL"/>
        <enum-item name="BALLISTAARROWHEAD"/>
        <enum-item name="PIPE_SECTION"/>

        tool types
        <enum-item name="FOOD_STORAGE"/>
        <enum-item name="MINECART"/>
        <enum-item name="WHEELBARROW"/>
        <enum-item name="OTHER_LARGE_TOOLS"/>

        <enum-item name="SAND_BAG"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="stockpile_category" base-type="int16_t">
        <enum-item name="Remove" value="-1"/>
        <enum-item name="Animals"/>
        <enum-item name="Food"/>
        <enum-item name="Furniture"/>
        <enum-item name="Corpses"/>
        <enum-item name="Refuse"/>
        <enum-item name="Stone"/>
        <enum-item name="Ore"/>
        <enum-item name="Ammo"/>
        <enum-item name="Coins"/>
        <enum-item name="Bars"/>
        <enum-item name="Gems"/>
        <enum-item name="Goods"/>
        <enum-item name="Leather"/>
        <enum-item name="Cloth"/>
        <enum-item name="Wood"/>
        <enum-item name="Weapons"/>
        <enum-item name="Armor"/>
        <enum-item name="Custom"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="stockpile_group_set" base-type="uint32_t">
        <ld:field name="animals" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="food" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="furniture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="corpses" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="refuse" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stone" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ammo" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="coins" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="bars_blocks" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="gems" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="finished_goods" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="leather" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cloth" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="weapons" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="armor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="stockpile_settings">
        <ld:field name="flags" type-name="stockpile_group_set" ld:level="1" ld:meta="global"/>

        <ld:field name="animals" ld:level="1" ld:meta="compound" ld:typedef-name="T_animals">
            <ld:field name="empty_cages" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="empty_traps" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="enabled" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="food" ld:level="1" ld:meta="compound" ld:typedef-name="T_food">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="meat" index-refers-to="(food-mat-by-idx $Meat $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="fish" index-refers-to="(food-mat-by-idx $Fish $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="unprepared_fish" index-refers-to="(food-mat-by-idx $UnpreparedFish $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="egg" index-refers-to="(food-mat-by-idx $Eggs $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="plants" index-refers-to="(food-mat-by-idx $Plants $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="drink_plant" index-refers-to="(food-mat-by-idx $PlantDrink $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="drink_animal" index-refers-to="(food-mat-by-idx $CreatureDrink $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cheese_plant" index-refers-to="(food-mat-by-idx $PlantCheese $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cheese_animal" index-refers-to="(food-mat-by-idx $CreatureCheese $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="seeds" index-refers-to="(food-mat-by-idx $Seed $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="leaves" index-refers-to="(food-mat-by-idx $Leaf $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="powder_plant" index-refers-to="(food-mat-by-idx $PlantPowder $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="powder_creature" index-refers-to="(food-mat-by-idx $CreaturePowder $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="glob" index-refers-to="(food-mat-by-idx $Glob $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="glob_paste" index-refers-to="(food-mat-by-idx $Paste $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="glob_pressed" index-refers-to="(food-mat-by-idx $Pressed $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="liquid_plant" index-refers-to="(food-mat-by-idx $PlantLiquid $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="liquid_animal" index-refers-to="(food-mat-by-idx $CreatureLiquid $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="liquid_misc" index-refers-to="(food-mat-by-idx $MiscLiquid $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="prepared_meals" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="furniture" ld:level="1" ld:meta="compound" ld:typedef-name="T_furniture">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-enum="furniture_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field> 16
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_core" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_total" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="sand_bags" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="refuse" ld:level="1" ld:meta="compound" ld:typedef-name="T_refuse">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-enum="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="corpses" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="body_parts" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="skulls" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="bones" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="hair" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="shells" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="teeth" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="horns" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="fresh_raw_hide" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="rotten_raw_hide" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="stone" ld:level="1" ld:meta="compound" ld:typedef-name="T_stone">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="ore" ld:level="1" ld:meta="compound" ld:typedef-name="T_ore">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" comment="unused" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="ammo" ld:level="1" ld:meta="compound" ld:typedef-name="T_ammo">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-refers-to="$global.world.raws.itemdefs.ammo[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field> 2
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_core" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_total" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="coins" ld:level="1" ld:meta="compound" ld:typedef-name="T_coins">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="bars_blocks" ld:level="1" ld:meta="compound" ld:typedef-name="T_bars_blocks">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="bars_other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="blocks_other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="bars_mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="blocks_mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="gems" ld:level="1" ld:meta="compound" ld:typedef-name="T_gems">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="rough_other_mats" index-refers-to="(material-by-id $ -1)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cut_other_mats" index-refers-to="(material-by-id $ -1)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="rough_mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cut_mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="finished_goods" ld:level="1" ld:meta="compound" ld:typedef-name="T_finished_goods">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="type" index-enum="item_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field> 17
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_core" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_total" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="leather" ld:level="1" ld:meta="compound" ld:typedef-name="T_leather">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(food-mat-by-idx $Leather $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="cloth" ld:level="1" ld:meta="compound" ld:typedef-name="T_cloth">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="thread_silk" index-refers-to="(food-mat-by-idx $Silk $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="thread_plant" index-refers-to="(food-mat-by-idx $PlantFiber $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="thread_yarn" index-refers-to="(food-mat-by-idx $Yarn $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="thread_metal" index-refers-to="(food-mat-by-idx $MetalThread $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cloth_silk" index-refers-to="(food-mat-by-idx $Silk $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cloth_plant" index-refers-to="(food-mat-by-idx $PlantFiber $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cloth_yarn" index-refers-to="(food-mat-by-idx $Yarn $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="cloth_metal" index-refers-to="(food-mat-by-idx $MetalThread $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="wood" ld:level="1" ld:meta="compound" ld:typedef-name="T_wood">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field name="weapons" ld:level="1" ld:meta="compound" ld:typedef-name="T_weapons">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="weapon_type" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="trapcomp_type" index-refers-to="$global.world.raws.itemdefs.trapcomps[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field> 11
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_core" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_total" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="usable" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="unusable" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="armor" ld:level="1" ld:meta="compound" ld:typedef-name="T_armor">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="body" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="head" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="feet" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="hands" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="legs" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="shield" index-refers-to="$global.world.raws.itemdefs.shields[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="other_mats" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field> 11
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="bool" name="mats" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_core" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="quality_total" count="7" index-enum="item_quality" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field name="usable" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="unusable" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="allow_organic" init-value="true" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="allow_inorganic" init-value="true" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="stockpile_list" base-type="int32_t">
        <enum-attr name="is_category" type-name="bool"/>

        <enum-item name="Animals">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Food">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="FoodMeat"/>
        <enum-item name="FoodFish"/>
        <enum-item name="FoodUnpreparedFish"/>
        <enum-item name="FoodEgg"/>
        <enum-item name="FoodPlants"/>
        <enum-item name="FoodDrinkPlant"/>
        <enum-item name="FoodDrinkAnimal"/>
        <enum-item name="FoodCheesePlant"/>
        <enum-item name="FoodCheeseAnimal"/>
        <enum-item name="FoodSeeds"/>
        <enum-item name="FoodLeaves"/>
        <enum-item name="FoodMilledPlant"/>
        <enum-item name="FoodBoneMeal"/>
        <enum-item name="FoodFat"/>
        <enum-item name="FoodPaste"/>
        <enum-item name="FoodPressedMaterial"/>
        <enum-item name="FoodExtractPlant"/>
        <enum-item name="FoodExtractAnimal"/>
        <enum-item name="FoodMiscLiquid"/>
        <enum-item name="Furniture">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="FurnitureType"/>
        <enum-item name="FurnitureStoneClay"/>
        <enum-item name="FurnitureMetal"/>
        <enum-item name="FurnitureOtherMaterials"/>
        <enum-item name="FurnitureCoreQuality"/>
        <enum-item name="FurnitureTotalQuality"/>
        <enum-item name="Corpses">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Refuse">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="RefuseItems"/>
        <enum-item name="RefuseCorpses"/>
        <enum-item name="RefuseParts"/>
        <enum-item name="RefuseSkulls"/>
        <enum-item name="RefuseBones"/>
        <enum-item name="RefuseShells"/>
        <enum-item name="RefuseTeeth"/>
        <enum-item name="RefuseHorns"/>
        <enum-item name="RefuseHair"/>
        <enum-item name="Stone">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="StoneOres"/>
        <enum-item name="StoneEconomic"/>
        <enum-item name="StoneOther"/>
        <enum-item name="StoneClay"/>
        <enum-item name="Ammo">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="AmmoType"/>
        <enum-item name="AmmoMetal"/>
        <enum-item name="AmmoOther"/>
        <enum-item name="AmmoCoreQuality"/>
        <enum-item name="AmmoTotalQuality"/>
        <enum-item name="Coins">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="BarsBlocks">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="BarsMetal"/>
        <enum-item name="BarsOther"/>
        <enum-item name="BlocksStone"/>
        <enum-item name="BlocksMetal"/>
        <enum-item name="BlocksOther"/>
        <enum-item name="Gems">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="RoughGem"/>
        <enum-item name="RoughGlass"/>
        <enum-item name="CutGem"/>
        <enum-item name="CutGlass"/>
        <enum-item name="Goods">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="GoodsType"/>
        <enum-item name="GoodsStone"/>
        <enum-item name="GoodsMetal"/>
        <enum-item name="GoodsOther"/>
        <enum-item name="GoodsCoreQuality"/>
        <enum-item name="GoodsTotalQuality"/>
        <enum-item name="Leather">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Cloth">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="ThreadSilk"/>
        <enum-item name="ThreadPlant"/>
        <enum-item name="ThreadYarn"/>
        <enum-item name="ThreadMetal"/>
        <enum-item name="ClothSilk"/>
        <enum-item name="ClothPlant"/>
        <enum-item name="ClothYarn"/>
        <enum-item name="ClothMetal"/>
        <enum-item name="Wood">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="Weapons">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="WeaponsType"/>
        <enum-item name="WeaponsTrapcomp"/>
        <enum-item name="WeaponsMetal"/>
        <enum-item name="WeaponsStone"/>
        <enum-item name="WeaponsOther"/>
        <enum-item name="WeaponsCoreQuality"/>
        <enum-item name="WeaponsTotalQuality"/>
        <enum-item name="Armor">
            <item-attr name="is_category" value="true"/>
        </enum-item>
        <enum-item name="ArmorBody"/>
        <enum-item name="ArmorHead"/>
        <enum-item name="ArmorFeet"/>
        <enum-item name="ArmorHands"/>
        <enum-item name="ArmorLegs"/>
        <enum-item name="ArmorShield"/>
        <enum-item name="ArmorMetal"/>
        <enum-item name="ArmorOther"/>
        <enum-item name="ArmorCoreQuality"/>
        <enum-item name="ArmorTotalQuality"/>
        <enum-item name="AdditionalOptions">
            <item-attr name="is_category" value="true"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="hauling_route" instance-vector="$global.ui.hauling.routes" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stops" pointer-type="hauling_stop" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="hauling_stop"><ld:item ld:level="3" ld:meta="global" type-name="hauling_stop"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vehicle_ids" ld:is-container="true">
            <ld:item ref-target="vehicle" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vehicle_stops" ld:is-container="true">
            <ld:item refers-to="$$._global.stops[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="hauling_stop" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="settings" type-name="stockpile_settings" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="conditions" pointer-type="stop_depart_condition" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stop_depart_condition"><ld:item ld:level="3" ld:meta="global" type-name="stop_depart_condition"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="stockpiles" pointer-type="route_stockpile_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="route_stockpile_link"><ld:item ld:level="3" ld:meta="global" type-name="route_stockpile_link"/></ld:item></ld:field>

        <ld:field name="time_waiting" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cart_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="stop_depart_condition">
        <ld:field name="timeout" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="direction" ld:level="1" ld:meta="compound" ld:typedef-name="T_direction">
            <enum-item name="North"/>
            <enum-item name="South"/>
            <enum-item name="East"/>
            <enum-item name="West"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int32_t" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="Push"/>
            <enum-item name="Ride"/>
            <enum-item name="Guide"/>
        </ld:field>
        <ld:field name="load_percent" comment="broken display unless 0, 50 or 100" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="at_most" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="desired" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="guide_path" type-name="coord_path" comment="initialized on first run, and saved" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="route_stockpile_link">
        <ld:field name="building_id" ref-target="building" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <ld:field name="take" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="give" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="vehicle" instance-vector="$global.world.vehicles.all" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item_id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        -- Position within tile
        <ld:field name="offset_x" comment="-50000..50000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="offset_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="offset_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="speed_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="speed_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="speed_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field size="16" comment="0" ld:level="1" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>
        <ld:field name="route_id" ref-target="hauling_route" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="time_stopped" comment="frames, up to 1000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="creature_interaction_effect_type">
        <enum-item name="PAIN"/>
        <enum-item name="SWELLING"/>
        <enum-item name="OOZING"/>
        <enum-item name="BRUISING"/>
        <enum-item name="BLISTERS"/>
        <enum-item name="NUMBNESS"/>
        <enum-item name="PARALYSIS"/>
        <enum-item name="FEVER"/>
        <enum-item name="BLEEDING"/>
        <enum-item name="COUGH_BLOOD"/>
        <enum-item name="VOMIT_BLOOD"/>
        <enum-item name="NAUSEA"/>
        <enum-item name="UNCONSCIOUSNESS"/>
        <enum-item name="NECROSIS"/>
        <enum-item name="IMPAIR_FUNCTION"/>
        <enum-item name="DROWSINESS"/>
        <enum-item name="DIZZINESS"/>
        <enum-item name="ADD_TAG"/>
        <enum-item name="REMOVE_TAG"/>
        <enum-item name="DISPLAY_TILE"/>
        <enum-item name="FLASH_TILE"/>
        <enum-item name="SPEED_CHANGE"/>
        <enum-item name="CAN_DO_INTERACTION"/>
        <enum-item name="SKILL_ROLL_ADJUST"/>
        <enum-item name="BODY_TRANSFORMATION"/>
        <enum-item name="PHYS_ATT_CHANGE"/>
        <enum-item name="MENT_ATT_CHANGE"/>
        <enum-item name="MATERIAL_FORCE_MULTIPLIER"/>
        <enum-item name="BODY_MAT_INTERACTION"/>
        <enum-item name="BODY_APPEARANCE_MODIFIER"/>
        <enum-item name="BP_APPEARANCE_MODIFIER"/>
        <enum-item name="DISPLAY_NAME"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="creature_interaction_effect_flags" base-type="uint32_t">
        <ld:field name="SIZE_DELAYS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SIZE_DILUTES" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="VASCULAR_ONLY" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="MUSCULAR_ONLY" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="RESISTABLE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="LOCALIZED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="MOON_PHASE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="COUNTER_TRIGGER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="cie_add_tag_mask1">
        <ld:field name="EXTRAVISION" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="OPPOSED_TO_LIFE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOT_LIVING" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOEXERT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOPAIN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOBREATHE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="HAS_BLOOD" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOSTUN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="NONAUSEA" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_DIZZINESS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_FEVERS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="TRANCES" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOEMOTION" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="LIKES_FIGHTING" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="PARALYZEIMMUNE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOFEAR" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="NO_EAT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_DRINK" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_SLEEP" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="MISCHIEVOUS" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_PHYS_ATT_GAIN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_PHYS_ATT_RUST" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NOTHOUGHT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_THOUGHT_CENTER_FOR_MOVEMENT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="CAN_SPEAK" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="CAN_LEARN" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="UTTERANCES" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="CRAZED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="BLOODSUCKER" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="NO_CONNECTIONS_FOR_MOVEMENT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SUPERNATURAL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="cie_add_tag_mask2">
        <ld:field name="NO_AGING" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="MORTAL" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="STERILE" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="FIT_FOR_ANIMATION" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="FIT_FOR_RESURRECTION" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="creature_interaction_effect_target_mode" base-type="int16_t">
        <enum-item name="BY_TYPE"/>
        <enum-item name="BY_TOKEN"/>
        <enum-item name="BY_CATEGORY"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="creature_interaction_effect_target">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mode" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="creature_interaction_effect_target_mode" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="key" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tissue" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect" original-name="creature_interaction_effectst" instance-vector="$global.world.raws.effects.all">
        <ld:field name="flags" type-name="creature_interaction_effect_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="prob" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="start" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="peak" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="syn_id" ref-target="syndrome" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="syn_index" comment="index in syndrome" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="moon_phase_min" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="moon_phase_max" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="counter_trigger" ld:level="1" ld:meta="compound" ld:typedef-name="T_counter_trigger">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="counter" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="misc_trait_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="minval" type-name="int32_t" comment="?" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="maxval" type-name="int32_t" comment="?" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="required" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="creature_interaction_effect_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="creature_interaction_effect_type"/></vmethod>
            <vmethod ld:level="1" name="clone">
                <ret-type ld:level="3" ld:meta="pointer" type-name="creature_interaction_effect" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="creature_interaction_effect"/></ret-type>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" name="doAction">
                <ld:field ld:level="2" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="unit_syndrome" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_syndrome"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="syndrome" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="syndrome"/></ld:field>
                <ld:field name="intensity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="bp_index" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="bp_layer" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="2" ld:meta="pointer" pointer-type="unit_wound" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_wound"><ld:item ld:level="4" ld:meta="global" type-name="unit_wound"/></ld:item></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="isUntargeted" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" name="getTargetModes">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" ld:is-container="true"><ld:item ld:subtype="enum" base-type="int16_t" type-name="creature_interaction_effect_target_mode" ld:level="5" ld:meta="global"/></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getTargetKeys">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="stl-string"><ld:item ld:level="6" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="getTargetTissues">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="stl-string"><ld:item ld:level="6" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item></ret-type>
            </vmethod>
            <vmethod ld:level="1" name="checkAddFlag1" ret-type="bool"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/><ld:field ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setBodyMatInteractionName"><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/></vmethod>

            <vmethod ld:level="1" name="parseSynAcquireType"><ld:field ld:level="2" ld:meta="pointer" name="type" ld:is-container="true"/></vmethod>
            <vmethod ld:level="1" name="setBodyTransform"><ld:field ld:level="2" ld:meta="pointer" name="race" ld:is-container="true"/><ld:field ld:level="2" ld:meta="pointer" name="caste" ld:is-container="true"/></vmethod>
            <vmethod ld:level="1" name="addPeriodic"><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/></vmethod>
            <vmethod ld:level="1" name="addCounterTrigger"><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_14"><ld:field ld:level="2" ld:meta="pointer" ld:is-container="true"/></vmethod>

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_15"/>
            <vmethod ld:level="1" comment="can_do_interaction, returns unk_6c" ld:anon-name="anon_vmethod_16">
                <ret-type ld:level="3" ld:meta="pointer" ld:is-container="true"><ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" ld:is-container="true"/></ret-type>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_painst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_swellingst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_oozingst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_bruisingst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_blistersst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_numbnessst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_paralysisst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_feverst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_bleedingst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_cough_bloodst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_vomit_bloodst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_nauseast" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_unconsciousnessst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_necrosisst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_impair_functionst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_drowsinessst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_dizzinessst" inherits-from="creature_interaction_effect">
        <ld:field name="sev" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_display_namest" inherits-from="creature_interaction_effect">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_adj" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_bp_appearance_modifierst" inherits-from="creature_interaction_effect">
        <ld:field name="unk_6c" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field type-name="creature_interaction_effect_target" name="target" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_body_transformationst" inherits-from="creature_interaction_effect">
        <ld:field name="chance" comment="%" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="caste_str" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_skill_roll_adjustst" inherits-from="creature_interaction_effect">
        <ld:field name="multiplier" comment="% change for skill" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="chance" comment="% probability per roll" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_display_symbolst" inherits-from="creature_interaction_effect">
        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="color" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_flash_symbolst" inherits-from="creature_interaction_effect">
        <ld:field ld:level="1" ld:meta="static-array" type-name="uint8_t" name="sym_color" count="4" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field name="period" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_78" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_phys_att_changest" inherits-from="creature_interaction_effect">
        <ld:field ld:level="1" ld:meta="static-array" name="phys_att_perc" type-name="int32_t" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="phys_att_add" type-name="int32_t" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_ment_att_changest" inherits-from="creature_interaction_effect">
        <ld:field ld:level="1" ld:meta="static-array" name="ment_att_perc" type-name="int32_t" count="13" index-enum="mental_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="ment_att_add" type-name="int32_t" count="13" index-enum="mental_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_add_simple_flagst" inherits-from="creature_interaction_effect">
        <ld:field name="tags1" type-name="cie_add_tag_mask1" ld:level="1" ld:meta="global"/>
        <ld:field name="tags2" type-name="cie_add_tag_mask2" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_remove_simple_flagst" inherits-from="creature_interaction_effect">
        <ld:field name="tags1" type-name="cie_add_tag_mask1" ld:level="1" ld:meta="global"/>
        <ld:field name="tags2" type-name="cie_add_tag_mask2" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_speed_changest" inherits-from="creature_interaction_effect">
        <ld:field name="bonus_add" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="bonus_perc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_body_mat_interactionst" inherits-from="creature_interaction_effect">
        <ld:field name="unk_6c" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_88" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_90" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_94" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_material_force_adjustst" inherits-from="creature_interaction_effect">
        <ld:field name="unk_6c" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_88" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_a4" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_mul" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fraction_div" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="creature_interaction_effect_can_do_interactionst" inherits-from="creature_interaction_effect">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_6c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_7c" ld:is-container="true"/>
        <ld:field name="unk_8c" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_a8" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_c4" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_e0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_e2" size="2" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="stl-string" name="verb" count="3" ld:is-container="true"><ld:item ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
        <ld:field name="unk_138" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_154" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_170" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_18c" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="interaction_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="type_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1c8" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1d8" ld:is-container="true"/>
        <ld:field name="unk_1e8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1ec" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1fc" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_20c" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_21c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_22c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_23c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_24c" ld:is-container="true"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="usage_delay" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="syndrome_flags" base-type="uint32_t">
        <ld:field name="SYN_INJECTED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SYN_CONTACT" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SYN_INHALED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="SYN_INGESTED" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="syndrome" instance-vector="$global.world.raws.syndromes.all">
        <ld:field name="syn_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">$.syn_name</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ce" pointer-type="creature_interaction_effect" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="creature_interaction_effect"><ld:item ld:level="3" ld:meta="global" type-name="creature_interaction_effect"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_affected_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_affected_creature" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_affected_caste" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_immune_class" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_immune_creature" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_immune_caste" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="syn_class" comment="v0.34.01" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field name="flags" type-name="syndrome_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="interaction" instance-vector="$global.world.raws.interactions" key-field="id">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">$.name</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="str" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sources" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="targets" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="effects" pointer-type="interaction_effect" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="interaction_effect"><ld:item ld:level="3" ld:meta="global" type-name="interaction_effect"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interaction_effect" original-name="interaction_effectst">
        ...
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="interaction_instance" instance-vector="$global.world.interaction_instances.all" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_shape_basic" comment="Basic tile shape (not in DF)">
        <enum-item name="None" value="-1"/>
        <enum-item name="Open"/>
        <enum-item name="Floor"/>
        <enum-item name="Ramp"/>
        <enum-item name="Wall"/>
        <enum-item name="Stair"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_shape" comment="Tile shape (not in DF)">
        <enum-attr name="caption"/>
        <enum-attr name="basic_shape" type-name="tiletype_shape_basic" default-value="None"/>
        <enum-attr name="passable_low" type-name="bool" default-value="false" comment="tile is missing a floor"/>
        <enum-attr name="passable_high" type-name="bool" default-value="false" comment="tile is missing a roof"/>
        <enum-attr name="passable_flow" type-name="bool" default-value="false" comment="tile is non-solid"/>
        <enum-attr name="passable_flow_down" type-name="bool" default-value="false" comment="floor is non-solid"/>
        <enum-attr name="walkable" type-name="bool" default-value="false" comment="can be walked into"/>
        <enum-attr name="walkable_up" type-name="bool" default-value="false" comment="can walk to ceiling"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="EMPTY">
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
        </enum-item>
        <enum-item name="FLOOR">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="BOULDER">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="PEBBLES">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="WALL">
            <item-attr name="basic_shape" value="Wall"/>
        </enum-item>
        <enum-item name="FORTIFICATION">
            <item-attr name="basic_shape" value="Wall"/>
            <item-attr name="passable_flow" value="true"/>
        </enum-item>
        <enum-item name="STAIR_UP">
            <item-attr name="basic_shape" value="Stair"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
            <item-attr name="walkable_up" value="true"/>
        </enum-item>
        <enum-item name="STAIR_DOWN">
            <item-attr name="basic_shape" value="Stair"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="STAIR_UPDOWN">
            <item-attr name="basic_shape" value="Stair"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
            <item-attr name="walkable_up" value="true"/>
        </enum-item>
        <enum-item name="RAMP">
            <item-attr name="caption" value="ramps have no direction"/>
            <item-attr name="basic_shape" value="Ramp"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
            <item-attr name="walkable_up" value="true"/>
        </enum-item>
        <enum-item name="RAMP_TOP">
            <item-attr name="caption" value="used for pathing?"/>
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_low" value="true"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="BROOK_BED">
            <item-attr name="caption" value="mineable, water-passable rock on the bottom of a brook"/>
            <item-attr name="basic_shape" value="Wall"/>
            <item-attr name="passable_flow" value="true"/>
        </enum-item>
        <enum-item name="BROOK_TOP">
            <item-attr name="caption" value="water-passable floor on top of BROOK_BED tiles"/>
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            -- the only place where it is not the same as passable_low:
            <item-attr name="passable_flow_down" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="TREE">
            <item-attr name="basic_shape" value="Floor"/>
        </enum-item>
        <enum-item name="SAPLING">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="SHRUB">
            <item-attr name="basic_shape" value="Floor"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
        <enum-item name="ENDLESS_PIT">
            <item-attr name="caption" value="a fake endless pit"/>
            <item-attr name="basic_shape" value="Open"/>
            <item-attr name="passable_high" value="true"/>
            <item-attr name="passable_flow" value="true"/>
            <item-attr name="walkable" value="true"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_material" comment="Tile material (not in DF)">
        <enum-attr name="caption"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="AIR">
            <item-attr name="caption" value="empty"/>
        </enum-item>
        <enum-item name="SOIL">
            <item-attr name="caption" value="ordinary soil. material depends on geology"/>
        </enum-item>
        <enum-item name="STONE">
            <item-attr name="caption" value="ordinary layer stone. material depends on geology"/>
        </enum-item>
        <enum-item name="FEATURE">
            <item-attr name="caption" value="map special stone. used for things like hell, curious structures, or adamantine tubes. material depends on local/global special"/>
        </enum-item>
        <enum-item name="LAVA_STONE">
            <item-attr name="caption" value="lava stone created by mixing magma and water"/>
        </enum-item>
        <enum-item name="MINERAL">
            <item-attr name="caption" value="vein stone. material depends on mineral veins present"/>
        </enum-item>
        <enum-item name="FROZEN_LIQUID">
            <item-attr name="caption" value="frozen liquid. material depends on ice vein present (which also indicates what was on the tile before it froze)"/>
        </enum-item>
        <enum-item name="CONSTRUCTION">
            <item-attr name="caption" value="material depends on the construction present"/>
        </enum-item>
        <enum-item name="GRASS_LIGHT">
            <item-attr name="caption" value="light grass"/>
        </enum-item>
        <enum-item name="GRASS_DARK">
            <item-attr name="caption" value="dark grass"/>
        </enum-item>
        <enum-item name="GRASS_DRY">
            <item-attr name="caption" value="dry grass"/>
        </enum-item>
        <enum-item name="GRASS_DEAD">
            <item-attr name="caption" value="dead grass"/>
        </enum-item>
        <enum-item name="PLANT">
            <item-attr name="caption" value="plant"/>
        </enum-item>
        <enum-item name="HFS">
            <item-attr name="caption" value="the stuff glowing barriers/floors and eerie pits are made of - this makes them different from ordinary walls/floors and chasms"/>
        </enum-item>
        <enum-item name="CAMPFIRE">
            <item-attr name="caption" value="human armies make them when they siege. original tile is lost?"/>
        </enum-item>
        <enum-item name="FIRE">
            <item-attr name="caption" value="burning grass"/>
        </enum-item>
        <enum-item name="ASHES">
            <item-attr name="caption" value="what remains from a fire"/>
        </enum-item>
        <enum-item name="MAGMA">
            <item-attr name="caption" value="material for semi-molten rock and magma flow tiles"/>
        </enum-item>
        <enum-item name="DRIFTWOOD">
            <item-attr name="caption" value="driftwood. normally shows up on beaches"/>
        </enum-item>
        <enum-item name="POOL">
            <item-attr name="caption" value="A pool. Gathers water while it's raining."/>
        </enum-item>
        <enum-item name="BROOK">
            <item-attr name="caption" value="Brook beds and floors"/>
        </enum-item>
        <enum-item name="RIVER">
            <item-attr name="caption" value="It's a riverbed. Basically a tile that doesn't get muddy."/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_variant" comment="Cosmetic tile variant (not in DF)">
        <enum-item name="NONE" value="-1"/>
        <enum-item name="VAR_1"/>
        <enum-item name="VAR_2"/>
        <enum-item name="VAR_3"/>
        <enum-item name="VAR_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype_special" comment="Functional tile variant (not in DF)">
        <enum-attr name="caption"/>

        <enum-item name="NONE" value="-1"/>
        <enum-item name="NORMAL">
            <item-attr name="caption" value="default for all tiles, nothing special about it"/>
        </enum-item>
        <enum-item name="RIVER_SOURCE">
            <item-attr name="caption" value="river source, when it exists on a map"/>
        </enum-item>
        <enum-item name="WATERFALL">
            <item-attr name="caption" value="waterfall from nowhere, used by cave rivers back in 40d"/>
        </enum-item>
        <enum-item name="SMOOTH">
            <item-attr name="caption" value="smooth walls and floors, including constructions"/>
        </enum-item>
        <enum-item name="FURROWED">
            <item-attr name="caption" value="furrowed soil, left by roads/farms and removing constructions"/>
        </enum-item>
        <enum-item name="WET">
            <item-attr name="caption" value="wet soil, found on beaches"/>
        </enum-item>
        <enum-item name="DEAD">
            <item-attr name="caption" value="dead, used by plants"/>
        </enum-item>
        <enum-item name="WORN_1">
            <item-attr name="caption" value="partially (25%) mined walls"/>
        </enum-item>
        <enum-item name="WORN_2">
            <item-attr name="caption" value="partially (50%) mined walls"/>
        </enum-item>
        <enum-item name="WORN_3">
            <item-attr name="caption" value="partially (75%) mined walls"/>
        </enum-item>
        <enum-item name="TRACK">
            <item-attr name="caption" value="mine cart track"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="tiletype" base-type="int16_t">
        -- Declare attributes:

        <enum-attr name="caption"/>
        <enum-attr name="shape" type-name="tiletype_shape" default-value="NONE"/>
        <enum-attr name="material" type-name="tiletype_material" default-value="NONE"/>
        <enum-attr name="variant" type-name="tiletype_variant" default-value="NONE"/>
        <enum-attr name="special" type-name="tiletype_special" default-value="NONE"/>
        <enum-attr name="direction" default-value="--------"/>

        -- 0x000

        <enum-item name="Void">
            <item-attr name="caption" value="void"/>
        </enum-item>
        <enum-item name="RampTop">
            <item-attr name="caption" value="ramp top"/>
            <item-attr name="shape" value="RAMP_TOP"/>
            <item-attr name="material" value="AIR"/>
        </enum-item>
        <enum-item name="MurkyPool">
            <item-attr name="caption" value="murky pool"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="POOL"/>
        </enum-item>
        <enum-item name="MurkyPoolRamp">
            <item-attr name="caption" value="murky pool slope"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="POOL"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x010

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Driftwood">
            <item-attr name="caption" value="driftwood"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="DRIFTWOOD"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item name="Tree">
            <item-attr name="caption" value="tree"/>
            <item-attr name="shape" value="TREE"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FrozenStairUD">
            <item-attr name="caption" value="ice stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
        </enum-item>
        <enum-item name="FrozenStairD">
            <item-attr name="caption" value="ice stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
        </enum-item>
        <enum-item name="FrozenStairU">
            <item-attr name="caption" value="ice stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x020

        <enum-item name="OpenSpace">
            <item-attr name="caption" value="open space"/>
            <item-attr name="shape" value="EMPTY"/>
            <item-attr name="material" value="AIR"/>
        </enum-item>
        <enum-item/>
        <enum-item name="Shrub">
            <item-attr name="caption" value="shrub"/>
            <item-attr name="shape" value="SHRUB"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="Chasm">
            <item-attr name="caption" value="chasm"/>
            <item-attr name="shape" value="ENDLESS_PIT"/>
            <item-attr name="material" value="AIR"/>
        </enum-item>
        <enum-item name="LavaStairUD">
            <item-attr name="caption" value="obsidian stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="LAVA_STONE"/>
        </enum-item>
        <enum-item name="LavaStairD">
            <item-attr name="caption" value="obsidian stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="LAVA_STONE"/>
        </enum-item>
        <enum-item name="LavaStairU">
            <item-attr name="caption" value="obsidian stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="LAVA_STONE"/>
        </enum-item>
        <enum-item name="SoilStairUD">
            <item-attr name="caption" value="soil stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="SOIL"/>
        </enum-item>

        <enum-item name="SoilStairD">
            <item-attr name="caption" value="soil stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="SOIL"/>
        </enum-item>
        <enum-item name="SoilStairU">
            <item-attr name="caption" value="soil stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="SOIL"/>
        </enum-item>
        <enum-item name="EeriePit">
            <item-attr name="caption" value="eerie pit"/>
            <item-attr name="shape" value="ENDLESS_PIT"/>
            <item-attr name="material" value="HFS"/>
        </enum-item>
        <enum-item name="StoneFloorSmooth">
            <item-attr name="caption" value="smooth stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="LavaFloorSmooth">
            <item-attr name="caption" value="smooth obsidian floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="FeatureFloorSmooth">
            <item-attr name="caption" value="smooth featstone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="MineralFloorSmooth">
            <item-attr name="caption" value="smooth vein floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="FrozenFloorSmooth">
            <item-attr name="caption" value="smooth ice floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>

        -- 0x030

        <enum-item/>
        <enum-item name="Grass1StairUD">
            <item-attr name="caption" value="light grass stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
        </enum-item>
        <enum-item name="Grass1StairD">
            <item-attr name="caption" value="light grass stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
        </enum-item>
        <enum-item name="Grass1StairU">
            <item-attr name="caption" value="light grass stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
        </enum-item>
        <enum-item name="Grass2StairUD">
            <item-attr name="caption" value="dark grass stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="GRASS_DARK"/>
        </enum-item>
        <enum-item name="Grass2StairD">
            <item-attr name="caption" value="dark grass stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="GRASS_DARK"/>
        </enum-item>
        <enum-item name="Grass2StairU">
            <item-attr name="caption" value="dark grass stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="GRASS_DARK"/>
        </enum-item>
        <enum-item name="StoneStairUD">
            <item-attr name="caption" value="stone stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="STONE"/>
        </enum-item>

        <enum-item name="StoneStairD">
            <item-attr name="caption" value="stone stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="STONE"/>
        </enum-item>
        <enum-item name="StoneStairU">
            <item-attr name="caption" value="stone stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="STONE"/>
        </enum-item>
        <enum-item name="MineralStairUD">
            <item-attr name="caption" value="vein stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="MINERAL"/>
        </enum-item>
        <enum-item name="MineralStairD">
            <item-attr name="caption" value="vein stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="MINERAL"/>
        </enum-item>
        <enum-item name="MineralStairU">
            <item-attr name="caption" value="vein stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="MINERAL"/>
        </enum-item>
        <enum-item name="FeatureStairUD">
            <item-attr name="caption" value="featstone stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="FEATURE"/>
        </enum-item>
        <enum-item name="FeatureStairD">
            <item-attr name="caption" value="featstone stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="FEATURE"/>
        </enum-item>
        <enum-item name="FeatureStairU">
            <item-attr name="caption" value="featstone stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="FEATURE"/>
        </enum-item>

        -- 0x040

        <enum-item/>
        <enum-item name="StoneFortification">
            <item-attr name="caption" value="stone fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="STONE"/>
        </enum-item>
        <enum-item/>
        <enum-item name="Campfire">
            <item-attr name="caption" value="campfire"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CAMPFIRE"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item name="Fire">
            <item-attr name="caption" value="fire"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FIRE"/>
        </enum-item>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="StonePillar">
            <item-attr name="caption" value="stone pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>

        -- 0x050

        <enum-item name="LavaPillar">
            <item-attr name="caption" value="obsidian pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="FeaturePillar">
            <item-attr name="caption" value="featstone pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="MineralPillar">
            <item-attr name="caption" value="vein pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="FrozenPillar">
            <item-attr name="caption" value="ice pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item name="Waterfall">
            <item-attr name="caption" value="waterfall"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="WATERFALL"/>
        </enum-item>
        <enum-item name="RiverSource">
            <item-attr name="caption" value="river source"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="RIVER_SOURCE"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x060

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x070

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x080

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x090

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x0A0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x0B0

        <enum-item name="StoneWallWorn1">
            <item-attr name="caption" value="worn 1 stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="WORN_1"/>
        </enum-item>
        <enum-item name="StoneWallWorn2">
            <item-attr name="caption" value="worn 2 stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="WORN_2"/>
        </enum-item>
        <enum-item name="StoneWallWorn3">
            <item-attr name="caption" value="worn 3 stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="WORN_3"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x0C0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x0D0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="StoneWall">
            <item-attr name="caption" value="stone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x0E0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Sapling">
            <item-attr name="caption" value="sapling"/>
            <item-attr name="shape" value="SAPLING"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>

        <enum-item/>
        <enum-item name="GrassDryRamp">
            <item-attr name="caption" value="dry grass ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="GRASS_DRY"/>
        </enum-item>
        <enum-item name="GrassDeadRamp">
            <item-attr name="caption" value="dead grass ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="GRASS_DEAD"/>
        </enum-item>
        <enum-item name="GrassLightRamp">
            <item-attr name="caption" value="light grass ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
        </enum-item>
        <enum-item name="GrassDarkRamp">
            <item-attr name="caption" value="dark grass ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="GRASS_DARK"/>
        </enum-item>
        <enum-item name="StoneRamp">
            <item-attr name="caption" value="stone ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
        </enum-item>
        <enum-item name="LavaRamp">
            <item-attr name="caption" value="obsidian ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
        </enum-item>
        <enum-item name="FeatureRamp">
            <item-attr name="caption" value="featstone ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
        </enum-item>

        -- 0x0F0

        <enum-item name="MineralRamp">
            <item-attr name="caption" value="vein ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
        </enum-item>
        <enum-item name="SoilRamp">
            <item-attr name="caption" value="soil ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="SOIL"/>
        </enum-item>
        <enum-item name="Ashes1">
            <item-attr name="caption" value="ashes"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="ASHES"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="Ashes2">
            <item-attr name="caption" value="ashes"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="ASHES"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="Ashes3">
            <item-attr name="caption" value="ashes"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="ASHES"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="FrozenRamp">
            <item-attr name="caption" value="ice ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
        </enum-item>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x100

        <enum-item/>
        <enum-item/>
        <enum-item name="FrozenFloor2">
            <item-attr name="caption" value="ice floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FrozenFloor3">
            <item-attr name="caption" value="ice floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FrozenFloor4">
            <item-attr name="caption" value="ice floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FurrowedSoil">
            <item-attr name="caption" value="furrowed soil"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="special" value="FURROWED"/>
        </enum-item>
        <enum-item name="FrozenFloor1">
            <item-attr name="caption" value="ice floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="SemiMoltenRock">
            <item-attr name="caption" value="semi-molten rock"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MAGMA"/>
        </enum-item>

        <enum-item name="MagmaFlow">
            <item-attr name="caption" value="magma flow"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MAGMA"/>
        </enum-item>
        <enum-item name="SoilWall">
            <item-attr name="caption" value="soil wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="SOIL"/>
        </enum-item>
        <enum-item name="GlowingBarrier">
            <item-attr name="caption" value="glowing barrier"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="HFS"/>
        </enum-item>
        <enum-item name="GlowingFloor">
            <item-attr name="caption" value="glowing floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="HFS"/>
        </enum-item>
        <enum-item/>
        <enum-item name="LavaWallSmoothRD2">
            <item-attr name="caption" value="smooth obsidian wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothR2D">
            <item-attr name="caption" value="smooth obsidian wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
        </enum-item>
        <enum-item name="LavaWallSmoothR2U">
            <item-attr name="caption" value="smooth obsidian wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
        </enum-item>

        -- 0x110

        <enum-item name="LavaWallSmoothRU2">
            <item-attr name="caption" value="smooth obsidian wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothL2U">
            <item-attr name="caption" value="smooth obsidian wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLU2">
            <item-attr name="caption" value="smooth obsidian wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
        </enum-item>
        <enum-item name="LavaWallSmoothL2D">
            <item-attr name="caption" value="smooth obsidian wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLD2">
            <item-attr name="caption" value="smooth obsidian wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLRUD">
            <item-attr name="caption" value="smooth obsidian wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothRUD">
            <item-attr name="caption" value="smooth obsidian wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLRD">
            <item-attr name="caption" value="smooth obsidian wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
        </enum-item>

        <enum-item name="LavaWallSmoothLRU">
            <item-attr name="caption" value="smooth obsidian wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLUD">
            <item-attr name="caption" value="smooth obsidian wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
        </enum-item>
        <enum-item name="LavaWallSmoothRD">
            <item-attr name="caption" value="smooth obsidian wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothRU">
            <item-attr name="caption" value="smooth obsidian wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLU">
            <item-attr name="caption" value="smooth obsidian wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLD">
            <item-attr name="caption" value="smooth obsidian wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
        </enum-item>
        <enum-item name="LavaWallSmoothUD">
            <item-attr name="caption" value="smooth obsidian wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
        </enum-item>
        <enum-item name="LavaWallSmoothLR">
            <item-attr name="caption" value="smooth obsidian wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
        </enum-item>

        -- 0x120

        <enum-item name="FeatureWallSmoothRD2">
            <item-attr name="caption" value="smooth featstone wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothR2D">
            <item-attr name="caption" value="smooth featstone wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothR2U">
            <item-attr name="caption" value="smooth featstone wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothRU2">
            <item-attr name="caption" value="smooth featstone wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothL2U">
            <item-attr name="caption" value="smooth featstone wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLU2">
            <item-attr name="caption" value="smooth featstone wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothL2D">
            <item-attr name="caption" value="smooth featstone wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLD2">
            <item-attr name="caption" value="smooth featstone wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
        </enum-item>

        <enum-item name="FeatureWallSmoothLRUD">
            <item-attr name="caption" value="smooth featstone wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothRUD">
            <item-attr name="caption" value="smooth featstone wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLRD">
            <item-attr name="caption" value="smooth featstone wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLRU">
            <item-attr name="caption" value="smooth featstone wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLUD">
            <item-attr name="caption" value="smooth featstone wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothRD">
            <item-attr name="caption" value="smooth featstone wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothRU">
            <item-attr name="caption" value="smooth featstone wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLU">
            <item-attr name="caption" value="smooth featstone wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
        </enum-item>

        -- 0x130

        <enum-item name="FeatureWallSmoothLD">
            <item-attr name="caption" value="smooth featstone wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothUD">
            <item-attr name="caption" value="smooth featstone wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
        </enum-item>
        <enum-item name="FeatureWallSmoothLR">
            <item-attr name="caption" value="smooth featstone wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRD2">
            <item-attr name="caption" value="smooth stone wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothR2D">
            <item-attr name="caption" value="smooth stone wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
        </enum-item>
        <enum-item name="StoneWallSmoothR2U">
            <item-attr name="caption" value="smooth stone wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRU2">
            <item-attr name="caption" value="smooth stone wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothL2U">
            <item-attr name="caption" value="smooth stone wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
        </enum-item>

        <enum-item name="StoneWallSmoothLU2">
            <item-attr name="caption" value="smooth stone wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
        </enum-item>
        <enum-item name="StoneWallSmoothL2D">
            <item-attr name="caption" value="smooth stone wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLD2">
            <item-attr name="caption" value="smooth stone wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLRUD">
            <item-attr name="caption" value="smooth stone wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRUD">
            <item-attr name="caption" value="smooth stone wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLRD">
            <item-attr name="caption" value="smooth stone wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLRU">
            <item-attr name="caption" value="smooth stone wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLUD">
            <item-attr name="caption" value="smooth stone wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
        </enum-item>

        -- 0x140

        <enum-item name="StoneWallSmoothRD">
            <item-attr name="caption" value="smooth stone wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothRU">
            <item-attr name="caption" value="smooth stone wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLU">
            <item-attr name="caption" value="smooth stone wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLD">
            <item-attr name="caption" value="smooth stone wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
        </enum-item>
        <enum-item name="StoneWallSmoothUD">
            <item-attr name="caption" value="smooth stone wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
        </enum-item>
        <enum-item name="StoneWallSmoothLR">
            <item-attr name="caption" value="smooth stone wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
        </enum-item>
        <enum-item name="LavaFortification">
            <item-attr name="caption" value="obsidian fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="LAVA_STONE"/>
        </enum-item>
        <enum-item name="FeatureFortification">
            <item-attr name="caption" value="featstone fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="FEATURE"/>
        </enum-item>

        <enum-item name="LavaWallWorn1">
            <item-attr name="caption" value="worn 1 obsidian wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="WORN_1"/>
        </enum-item>
        <enum-item name="LavaWallWorn2">
            <item-attr name="caption" value="worn 2 obsidian wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="WORN_2"/>
        </enum-item>
        <enum-item name="LavaWallWorn3">
            <item-attr name="caption" value="worn 3 obsidian wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="WORN_3"/>
        </enum-item>
        <enum-item name="LavaWall">
            <item-attr name="caption" value="obsidian wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FeatureWallWorn1">
            <item-attr name="caption" value="worn 1 featstone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="WORN_1"/>
        </enum-item>
        <enum-item name="FeatureWallWorn2">
            <item-attr name="caption" value="worn 2 featstone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="WORN_2"/>
        </enum-item>
        <enum-item name="FeatureWallWorn3">
            <item-attr name="caption" value="worn 3 featstone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="WORN_3"/>
        </enum-item>
        <enum-item name="FeatureWall">
            <item-attr name="caption" value="featstone wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>

        -- 0x150

        <enum-item name="StoneFloor1">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="StoneFloor2">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="StoneFloor3">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="StoneFloor4">
            <item-attr name="caption" value="stone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="LavaFloor1">
            <item-attr name="caption" value="obsidian floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="LavaFloor2">
            <item-attr name="caption" value="obsidian floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="LavaFloor3">
            <item-attr name="caption" value="obsidian floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="LavaFloor4">
            <item-attr name="caption" value="obsidian floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>

        <enum-item name="FeatureFloor1">
            <item-attr name="caption" value="featstone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FeatureFloor2">
            <item-attr name="caption" value="featstone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FeatureFloor3">
            <item-attr name="caption" value="featstone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="FeatureFloor4">
            <item-attr name="caption" value="featstone floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="GrassDarkFloor1">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="GrassDarkFloor2">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="GrassDarkFloor3">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="GrassDarkFloor4">
            <item-attr name="caption" value="dark grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DARK"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>

        -- 0x160

        <enum-item name="SoilFloor1">
            <item-attr name="caption" value="soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="SoilFloor2">
            <item-attr name="caption" value="soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="SoilFloor3">
            <item-attr name="caption" value="soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="SoilFloor4">
            <item-attr name="caption" value="soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="SoilWetFloor1">
            <item-attr name="caption" value="wet soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="WET"/>
        </enum-item>
        <enum-item name="SoilWetFloor2">
            <item-attr name="caption" value="wet soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="WET"/>
        </enum-item>
        <enum-item name="SoilWetFloor3">
            <item-attr name="caption" value="wet soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="WET"/>
        </enum-item>
        <enum-item name="SoilWetFloor4">
            <item-attr name="caption" value="wet soil floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="SOIL"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="WET"/>
        </enum-item>

        <enum-item name="FrozenFortification">
            <item-attr name="caption" value="ice fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
        </enum-item>
        <enum-item name="FrozenWallWorn1">
            <item-attr name="caption" value="worn 1 ice wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="WORN_1"/>
        </enum-item>
        <enum-item name="FrozenWallWorn2">
            <item-attr name="caption" value="worn 2 ice wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="WORN_2"/>
        </enum-item>
        <enum-item name="FrozenWallWorn3">
            <item-attr name="caption" value="worn 3 ice wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="WORN_3"/>
        </enum-item>
        <enum-item name="FrozenWall">
            <item-attr name="caption" value="ice wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="RiverN">
            <item-attr name="caption" value="river N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="RiverS">
            <item-attr name="caption" value="river S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="RiverE">
            <item-attr name="caption" value="river E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="E"/>
        </enum-item>

        -- 0x170

        <enum-item name="RiverW">
            <item-attr name="caption" value="river W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="RiverNW">
            <item-attr name="caption" value="river NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="RiverNE">
            <item-attr name="caption" value="river NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="RiverSW">
            <item-attr name="caption" value="river SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="RiverSE">
            <item-attr name="caption" value="river SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="special" value="NORMAL"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="BrookN">
            <item-attr name="caption" value="brook bed N"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="BrookS">
            <item-attr name="caption" value="brook bed S"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="BrookE">
            <item-attr name="caption" value="brook bed E"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>

        <enum-item name="BrookW">
            <item-attr name="caption" value="brook bed W"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="BrookNW">
            <item-attr name="caption" value="brook bed NW"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="BrookNE">
            <item-attr name="caption" value="brook bed NE"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="BrookSW">
            <item-attr name="caption" value="brook bed SW"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="BrookSE">
            <item-attr name="caption" value="brook bed SE"/>
            <item-attr name="shape" value="BROOK_BED"/>
            <item-attr name="material" value="BROOK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="BrookTop">
            <item-attr name="caption" value="brook top"/>
            <item-attr name="shape" value="BROOK_TOP"/>
            <item-attr name="material" value="BROOK"/>
        </enum-item>
        <enum-item/>
        <enum-item/>

        -- 0x180

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="GrassDryFloor1">
            <item-attr name="caption" value="dry grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DRY"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="GrassDryFloor2">
            <item-attr name="caption" value="dry grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DRY"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="GrassDryFloor3">
            <item-attr name="caption" value="dry grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DRY"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="GrassDryFloor4">
            <item-attr name="caption" value="dry grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DRY"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="TreeDead">
            <item-attr name="caption" value="dead tree"/>
            <item-attr name="shape" value="TREE"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="DEAD"/>
        </enum-item>

        <enum-item name="SaplingDead">
            <item-attr name="caption" value="dead sapling"/>
            <item-attr name="shape" value="SAPLING"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="DEAD"/>
        </enum-item>
        <enum-item name="ShrubDead">
            <item-attr name="caption" value="dead shrub"/>
            <item-attr name="shape" value="SHRUB"/>
            <item-attr name="material" value="PLANT"/>
            <item-attr name="special" value="DEAD"/>
        </enum-item>
        <enum-item name="GrassDeadFloor1">
            <item-attr name="caption" value="dead grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DEAD"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="GrassDeadFloor2">
            <item-attr name="caption" value="dead grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DEAD"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="GrassDeadFloor3">
            <item-attr name="caption" value="dead grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DEAD"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="GrassDeadFloor4">
            <item-attr name="caption" value="dead grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_DEAD"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="GrassLightFloor1">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="GrassLightFloor2">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>

        -- 0x190

        <enum-item name="GrassLightFloor3">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="GrassLightFloor4">
            <item-attr name="caption" value="light grass"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="GRASS_LIGHT"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="StoneBoulder">
            <item-attr name="caption" value="boulder"/>
            <item-attr name="shape" value="BOULDER"/>
            <item-attr name="material" value="STONE"/>
        </enum-item>
        <enum-item name="LavaBoulder">
            <item-attr name="caption" value="obsidian boulder"/>
            <item-attr name="shape" value="BOULDER"/>
            <item-attr name="material" value="LAVA_STONE"/>
        </enum-item>
        <enum-item name="FeatureBoulder">
            <item-attr name="caption" value="featstone boulder"/>
            <item-attr name="shape" value="BOULDER"/>
            <item-attr name="material" value="FEATURE"/>
        </enum-item>
        <enum-item name="StonePebbles1">
            <item-attr name="caption" value="stone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="StonePebbles2">
            <item-attr name="caption" value="stone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="StonePebbles3">
            <item-attr name="caption" value="stone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>

        <enum-item name="StonePebbles4">
            <item-attr name="caption" value="stone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="LavaPebbles1">
            <item-attr name="caption" value="obsidian pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="LavaPebbles2">
            <item-attr name="caption" value="obsidian pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="LavaPebbles3">
            <item-attr name="caption" value="obsidian pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="LavaPebbles4">
            <item-attr name="caption" value="obsidian pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="FeaturePebbles1">
            <item-attr name="caption" value="featstone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="FeaturePebbles2">
            <item-attr name="caption" value="featstone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>
        <enum-item name="FeaturePebbles3">
            <item-attr name="caption" value="featstone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>

        -- 0x1A0

        <enum-item name="FeaturePebbles4">
            <item-attr name="caption" value="featstone pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="MineralWallSmoothRD2">
            <item-attr name="caption" value="smooth vein wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothR2D">
            <item-attr name="caption" value="smooth vein wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
        </enum-item>
        <enum-item name="MineralWallSmoothR2U">
            <item-attr name="caption" value="smooth vein wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
        </enum-item>
        <enum-item name="MineralWallSmoothRU2">
            <item-attr name="caption" value="smooth vein wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothL2U">
            <item-attr name="caption" value="smooth vein wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLU2">
            <item-attr name="caption" value="smooth vein wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
        </enum-item>
        <enum-item name="MineralWallSmoothL2D">
            <item-attr name="caption" value="smooth vein wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
        </enum-item>

        <enum-item name="MineralWallSmoothLD2">
            <item-attr name="caption" value="smooth vein wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLRUD">
            <item-attr name="caption" value="smooth vein wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothRUD">
            <item-attr name="caption" value="smooth vein wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLRD">
            <item-attr name="caption" value="smooth vein wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLRU">
            <item-attr name="caption" value="smooth vein wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLUD">
            <item-attr name="caption" value="smooth vein wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
        </enum-item>
        <enum-item name="MineralWallSmoothRD">
            <item-attr name="caption" value="smooth vein wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
        </enum-item>
        <enum-item name="MineralWallSmoothRU">
            <item-attr name="caption" value="smooth vein wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
        </enum-item>

        -- 0x1B0

        <enum-item name="MineralWallSmoothLU">
            <item-attr name="caption" value="smooth vein wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLD">
            <item-attr name="caption" value="smooth vein wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
        </enum-item>
        <enum-item name="MineralWallSmoothUD">
            <item-attr name="caption" value="smooth vein wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
        </enum-item>
        <enum-item name="MineralWallSmoothLR">
            <item-attr name="caption" value="smooth vein wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
        </enum-item>
        <enum-item name="MineralFortification">
            <item-attr name="caption" value="vein fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="MINERAL"/>
        </enum-item>
        <enum-item name="MineralWallWorn1">
            <item-attr name="caption" value="worn 1 vein wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="WORN_1"/>
        </enum-item>
        <enum-item name="MineralWallWorn2">
            <item-attr name="caption" value="worn 2 vein wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="WORN_2"/>
        </enum-item>
        <enum-item name="MineralWallWorn3">
            <item-attr name="caption" value="worn 3 vein wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="WORN_3"/>
        </enum-item>

        <enum-item name="MineralWall">
            <item-attr name="caption" value="vein wall"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="MineralFloor1">
            <item-attr name="caption" value="vein floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_1"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="MineralFloor2">
            <item-attr name="caption" value="vein floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_2"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="MineralFloor3">
            <item-attr name="caption" value="vein floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_3"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="MineralFloor4">
            <item-attr name="caption" value="vein floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_4"/>
            <item-attr name="special" value="NORMAL"/>
        </enum-item>
        <enum-item name="MineralBoulder">
            <item-attr name="caption" value="vein boulder"/>
            <item-attr name="shape" value="BOULDER"/>
            <item-attr name="material" value="MINERAL"/>
        </enum-item>
        <enum-item name="MineralPebbles1">
            <item-attr name="caption" value="vein pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_1"/>
        </enum-item>
        <enum-item name="MineralPebbles2">
            <item-attr name="caption" value="vein pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_2"/>
        </enum-item>

        -- 0x1C0

        <enum-item name="MineralPebbles3">
            <item-attr name="caption" value="vein pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_3"/>
        </enum-item>
        <enum-item name="MineralPebbles4">
            <item-attr name="caption" value="vein pebbles"/>
            <item-attr name="shape" value="PEBBLES"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="variant" value="VAR_4"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothRD2">
            <item-attr name="caption" value="smooth ice wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothR2D">
            <item-attr name="caption" value="smooth ice wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothR2U">
            <item-attr name="caption" value="smooth ice wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothRU2">
            <item-attr name="caption" value="smooth ice wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothL2U">
            <item-attr name="caption" value="smooth ice wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLU2">
            <item-attr name="caption" value="smooth ice wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
        </enum-item>

        <enum-item name="FrozenWallSmoothL2D">
            <item-attr name="caption" value="smooth ice wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLD2">
            <item-attr name="caption" value="smooth ice wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLRUD">
            <item-attr name="caption" value="smooth ice wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothRUD">
            <item-attr name="caption" value="smooth ice wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLRD">
            <item-attr name="caption" value="smooth ice wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLRU">
            <item-attr name="caption" value="smooth ice wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLUD">
            <item-attr name="caption" value="smooth ice wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothRD">
            <item-attr name="caption" value="smooth ice wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
        </enum-item>

        -- 0x1D0

        <enum-item name="FrozenWallSmoothRU">
            <item-attr name="caption" value="smooth ice wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLU">
            <item-attr name="caption" value="smooth ice wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLD">
            <item-attr name="caption" value="smooth ice wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothUD">
            <item-attr name="caption" value="smooth ice wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
        </enum-item>
        <enum-item name="FrozenWallSmoothLR">
            <item-attr name="caption" value="smooth ice wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
        </enum-item>
        <enum-item name="RiverRampN">
            <item-attr name="caption" value="river ramp N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="RiverRampS">
            <item-attr name="caption" value="river ramp S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="RiverRampE">
            <item-attr name="caption" value="river ramp E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="E"/>
        </enum-item>

        <enum-item name="RiverRampW">
            <item-attr name="caption" value="river ramp W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="RiverRampNW">
            <item-attr name="caption" value="river ramp NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="RiverRampNE">
            <item-attr name="caption" value="river ramp NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="RiverRampSW">
            <item-attr name="caption" value="river ramp SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="RiverRampSE">
            <item-attr name="caption" value="river ramp SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="RIVER"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        -- 0x1E0

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="ConstructedFloor">
            <item-attr name="caption" value="constructed floor"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>
        <enum-item name="ConstructedFortification">
            <item-attr name="caption" value="constructed fortification"/>
            <item-attr name="shape" value="FORTIFICATION"/>
            <item-attr name="material" value="CONSTRUCTION"/>
        </enum-item>
        <enum-item name="ConstructedPillar">
            <item-attr name="caption" value="constructed pillar"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
        </enum-item>

        -- 0x1F0

        <enum-item name="ConstructedWallRD2">
            <item-attr name="caption" value="constructed wall RD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SS--E-"/>
        </enum-item>
        <enum-item name="ConstructedWallR2D">
            <item-attr name="caption" value="constructed wall R2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---EE"/>
        </enum-item>
        <enum-item name="ConstructedWallR2U">
            <item-attr name="caption" value="constructed wall R2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----EE"/>
        </enum-item>
        <enum-item name="ConstructedWallRU2">
            <item-attr name="caption" value="constructed wall RU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN----E-"/>
        </enum-item>
        <enum-item name="ConstructedWallL2U">
            <item-attr name="caption" value="constructed wall L2U"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---WW--"/>
        </enum-item>
        <enum-item name="ConstructedWallLU2">
            <item-attr name="caption" value="constructed wall LU2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="NN--W---"/>
        </enum-item>
        <enum-item name="ConstructedWallL2D">
            <item-attr name="caption" value="constructed wall L2D"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-WW--"/>
        </enum-item>
        <enum-item name="ConstructedWallLD2">
            <item-attr name="caption" value="constructed wall LD2"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--SSW---"/>
        </enum-item>

        <enum-item name="ConstructedWallLRUD">
            <item-attr name="caption" value="constructed wall LRUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W-E-"/>
        </enum-item>
        <enum-item name="ConstructedWallRUD">
            <item-attr name="caption" value="constructed wall RUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S---E-"/>
        </enum-item>
        <enum-item name="ConstructedWallLRD">
            <item-attr name="caption" value="constructed wall LRD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W-E-"/>
        </enum-item>
        <enum-item name="ConstructedWallLRU">
            <item-attr name="caption" value="constructed wall LRU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W-E-"/>
        </enum-item>
        <enum-item name="ConstructedWallLUD">
            <item-attr name="caption" value="constructed wall LUD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-W---"/>
        </enum-item>
        <enum-item name="ConstructedWallRD">
            <item-attr name="caption" value="constructed wall RD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S---E-"/>
        </enum-item>
        <enum-item name="ConstructedWallRU">
            <item-attr name="caption" value="constructed wall RU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-----E-"/>
        </enum-item>
        <enum-item name="ConstructedWallLU">
            <item-attr name="caption" value="constructed wall LU"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N---W---"/>
        </enum-item>

        -- 0x200

        <enum-item name="ConstructedWallLD">
            <item-attr name="caption" value="constructed wall LD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="--S-W---"/>
        </enum-item>
        <enum-item name="ConstructedWallUD">
            <item-attr name="caption" value="constructed wall UD"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="N-S-----"/>
        </enum-item>
        <enum-item name="ConstructedWallLR">
            <item-attr name="caption" value="constructed wall LR"/>
            <item-attr name="shape" value="WALL"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="SMOOTH"/>
            <item-attr name="direction" value="----W-E-"/>
        </enum-item>
        <enum-item name="ConstructedStairUD">
            <item-attr name="caption" value="constructed stair up/down"/>
            <item-attr name="shape" value="STAIR_UPDOWN"/>
            <item-attr name="material" value="CONSTRUCTION"/>
        </enum-item>
        <enum-item name="ConstructedStairD">
            <item-attr name="caption" value="constructed stair down"/>
            <item-attr name="shape" value="STAIR_DOWN"/>
            <item-attr name="material" value="CONSTRUCTION"/>
        </enum-item>
        <enum-item name="ConstructedStairU">
            <item-attr name="caption" value="constructed stair up"/>
            <item-attr name="shape" value="STAIR_UP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
        </enum-item>
        <enum-item name="ConstructedRamp">
            <item-attr name="caption" value="constructed ramp"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
        </enum-item>
        <enum-item name="StoneFloorTrackN">
            <item-attr name="caption" value="stone floor track N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>

        <enum-item name="StoneFloorTrackS">
            <item-attr name="caption" value="stone floor track S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="StoneFloorTrackE">
            <item-attr name="caption" value="stone floor track E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="StoneFloorTrackW">
            <item-attr name="caption" value="stone floor track W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNS">
            <item-attr name="caption" value="stone floor track NS"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNE">
            <item-attr name="caption" value="stone floor track NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNW">
            <item-attr name="caption" value="stone floor track NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="StoneFloorTrackSE">
            <item-attr name="caption" value="stone floor track SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="StoneFloorTrackSW">
            <item-attr name="caption" value="stone floor track SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>

        -- 0x210

        <enum-item name="StoneFloorTrackEW">
            <item-attr name="caption" value="stone floor track EW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNSE">
            <item-attr name="caption" value="stone floor track NSE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNSW">
            <item-attr name="caption" value="stone floor track NSW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNEW">
            <item-attr name="caption" value="stone floor track NEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="StoneFloorTrackSEW">
            <item-attr name="caption" value="stone floor track SEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="StoneFloorTrackNSEW">
            <item-attr name="caption" value="stone floor track NSEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="LavaFloorTrackN">
            <item-attr name="caption" value="obsidian floor track N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="LavaFloorTrackS">
            <item-attr name="caption" value="obsidian floor track S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>

        <enum-item name="LavaFloorTrackE">
            <item-attr name="caption" value="obsidian floor track E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="LavaFloorTrackW">
            <item-attr name="caption" value="obsidian floor track W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="LavaFloorTrackNS">
            <item-attr name="caption" value="obsidian floor track NS"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="LavaFloorTrackNE">
            <item-attr name="caption" value="obsidian floor track NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="LavaFloorTrackNW">
            <item-attr name="caption" value="obsidian floor track NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="LavaFloorTrackSE">
            <item-attr name="caption" value="obsidian floor track SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="LavaFloorTrackSW">
            <item-attr name="caption" value="obsidian floor track SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="LavaFloorTrackEW">
            <item-attr name="caption" value="obsidian floor track EW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>

        -- 0x220

        <enum-item name="LavaFloorTrackNSE">
            <item-attr name="caption" value="obsidian floor track NSE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="LavaFloorTrackNSW">
            <item-attr name="caption" value="obsidian floor track NSW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="LavaFloorTrackNEW">
            <item-attr name="caption" value="obsidian floor track NEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="LavaFloorTrackSEW">
            <item-attr name="caption" value="obsidian floor track SEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="LavaFloorTrackNSEW">
            <item-attr name="caption" value="obsidian floor track NSEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackN">
            <item-attr name="caption" value="featstone floor track N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackS">
            <item-attr name="caption" value="featstone floor track S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackE">
            <item-attr name="caption" value="featstone floor track E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>

        <enum-item name="FeatureFloorTrackW">
            <item-attr name="caption" value="featstone floor track W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackNS">
            <item-attr name="caption" value="featstone floor track NS"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackNE">
            <item-attr name="caption" value="featstone floor track NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackNW">
            <item-attr name="caption" value="featstone floor track NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackSE">
            <item-attr name="caption" value="featstone floor track SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackSW">
            <item-attr name="caption" value="featstone floor track SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackEW">
            <item-attr name="caption" value="featstone floor track EW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackNSE">
            <item-attr name="caption" value="featstone floor track NSE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>

        -- 0x230

        <enum-item name="FeatureFloorTrackNSW">
            <item-attr name="caption" value="featstone floor track NSW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackNEW">
            <item-attr name="caption" value="featstone floor track NEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackSEW">
            <item-attr name="caption" value="featstone floor track SEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="FeatureFloorTrackNSEW">
            <item-attr name="caption" value="featstone floor track NSEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="MineralFloorTrackN">
            <item-attr name="caption" value="vein floor track N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="MineralFloorTrackS">
            <item-attr name="caption" value="vein floor track S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="MineralFloorTrackE">
            <item-attr name="caption" value="vein floor track E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="MineralFloorTrackW">
            <item-attr name="caption" value="vein floor track W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>

        <enum-item name="MineralFloorTrackNS">
            <item-attr name="caption" value="vein floor track NS"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="MineralFloorTrackNE">
            <item-attr name="caption" value="vein floor track NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="MineralFloorTrackNW">
            <item-attr name="caption" value="vein floor track NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="MineralFloorTrackSE">
            <item-attr name="caption" value="vein floor track SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="MineralFloorTrackSW">
            <item-attr name="caption" value="vein floor track SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="MineralFloorTrackEW">
            <item-attr name="caption" value="vein floor track EW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="MineralFloorTrackNSE">
            <item-attr name="caption" value="vein floor track NSE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="MineralFloorTrackNSW">
            <item-attr name="caption" value="vein floor track NSW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>

        -- 0x240

        <enum-item name="MineralFloorTrackNEW">
            <item-attr name="caption" value="vein floor track NEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="MineralFloorTrackSEW">
            <item-attr name="caption" value="vein floor track SEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="MineralFloorTrackNSEW">
            <item-attr name="caption" value="vein floor track NSEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackN">
            <item-attr name="caption" value="ice floor track N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackS">
            <item-attr name="caption" value="ice floor track S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackE">
            <item-attr name="caption" value="ice floor track E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackW">
            <item-attr name="caption" value="ice floor track W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackNS">
            <item-attr name="caption" value="ice floor track NS"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>

        <enum-item name="FrozenFloorTrackNE">
            <item-attr name="caption" value="ice floor track NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackNW">
            <item-attr name="caption" value="ice floor track NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackSE">
            <item-attr name="caption" value="ice floor track SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackSW">
            <item-attr name="caption" value="ice floor track SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackEW">
            <item-attr name="caption" value="ice floor track EW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackNSE">
            <item-attr name="caption" value="ice floor track NSE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackNSW">
            <item-attr name="caption" value="ice floor track NSW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackNEW">
            <item-attr name="caption" value="ice floor track NEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>

        -- 0x250

        <enum-item name="FrozenFloorTrackSEW">
            <item-attr name="caption" value="ice floor track SEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="FrozenFloorTrackNSEW">
            <item-attr name="caption" value="ice floor track NSEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackN">
            <item-attr name="caption" value="constructed floor track N"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackS">
            <item-attr name="caption" value="constructed floor track S"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackE">
            <item-attr name="caption" value="constructed floor track E"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackW">
            <item-attr name="caption" value="constructed floor track W"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackNS">
            <item-attr name="caption" value="constructed floor track NS"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackNE">
            <item-attr name="caption" value="constructed floor track NE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>

        <enum-item name="ConstructedFloorTrackNW">
            <item-attr name="caption" value="constructed floor track NW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackSE">
            <item-attr name="caption" value="constructed floor track SE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackSW">
            <item-attr name="caption" value="constructed floor track SW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackEW">
            <item-attr name="caption" value="constructed floor track EW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackNSE">
            <item-attr name="caption" value="constructed floor track NSE"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackNSW">
            <item-attr name="caption" value="constructed floor track NSW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackNEW">
            <item-attr name="caption" value="constructed floor track NEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="ConstructedFloorTrackSEW">
            <item-attr name="caption" value="constructed floor track SEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>

        -- 0x260

        <enum-item name="ConstructedFloorTrackNSEW">
            <item-attr name="caption" value="constructed floor track NSEW"/>
            <item-attr name="shape" value="FLOOR"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="StoneRampTrackN">
            <item-attr name="caption" value="stone ramp track N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="StoneRampTrackS">
            <item-attr name="caption" value="stone ramp track S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="StoneRampTrackE">
            <item-attr name="caption" value="stone ramp track E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="StoneRampTrackW">
            <item-attr name="caption" value="stone ramp track W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="StoneRampTrackNS">
            <item-attr name="caption" value="stone ramp track NS"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="StoneRampTrackNE">
            <item-attr name="caption" value="stone ramp track NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="StoneRampTrackNW">
            <item-attr name="caption" value="stone ramp track NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>

        <enum-item name="StoneRampTrackSE">
            <item-attr name="caption" value="stone ramp track SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="StoneRampTrackSW">
            <item-attr name="caption" value="stone ramp track SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="StoneRampTrackEW">
            <item-attr name="caption" value="stone ramp track EW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="StoneRampTrackNSE">
            <item-attr name="caption" value="stone ramp track NSE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="StoneRampTrackNSW">
            <item-attr name="caption" value="stone ramp track NSW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="StoneRampTrackNEW">
            <item-attr name="caption" value="stone ramp track NEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="StoneRampTrackSEW">
            <item-attr name="caption" value="stone ramp track SEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="StoneRampTrackNSEW">
            <item-attr name="caption" value="stone ramp track NSEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>

        -- 0x270

        <enum-item name="LavaRampTrackN">
            <item-attr name="caption" value="obsidian ramp track N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="LavaRampTrackS">
            <item-attr name="caption" value="obsidian ramp track S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="LavaRampTrackE">
            <item-attr name="caption" value="obsidian ramp track E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="LavaRampTrackW">
            <item-attr name="caption" value="obsidian ramp track W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="LavaRampTrackNS">
            <item-attr name="caption" value="obsidian ramp track NS"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="LavaRampTrackNE">
            <item-attr name="caption" value="obsidian ramp track NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="LavaRampTrackNW">
            <item-attr name="caption" value="obsidian ramp track NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="LavaRampTrackSE">
            <item-attr name="caption" value="obsidian ramp track SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>

        <enum-item name="LavaRampTrackSW">
            <item-attr name="caption" value="obsidian ramp track SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="LavaRampTrackEW">
            <item-attr name="caption" value="obsidian ramp track EW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="LavaRampTrackNSE">
            <item-attr name="caption" value="obsidian ramp track NSE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="LavaRampTrackNSW">
            <item-attr name="caption" value="obsidian ramp track NSW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="LavaRampTrackNEW">
            <item-attr name="caption" value="obsidian ramp track NEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="LavaRampTrackSEW">
            <item-attr name="caption" value="obsidian ramp track SEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="LavaRampTrackNSEW">
            <item-attr name="caption" value="obsidian ramp track NSEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="LAVA_STONE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="FeatureRampTrackN">
            <item-attr name="caption" value="featstone ramp track N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>

        -- 0x280

        <enum-item name="FeatureRampTrackS">
            <item-attr name="caption" value="featstone ramp track S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="FeatureRampTrackE">
            <item-attr name="caption" value="featstone ramp track E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="FeatureRampTrackW">
            <item-attr name="caption" value="featstone ramp track W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNS">
            <item-attr name="caption" value="featstone ramp track NS"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNE">
            <item-attr name="caption" value="featstone ramp track NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNW">
            <item-attr name="caption" value="featstone ramp track NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="FeatureRampTrackSE">
            <item-attr name="caption" value="featstone ramp track SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="FeatureRampTrackSW">
            <item-attr name="caption" value="featstone ramp track SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>

        <enum-item name="FeatureRampTrackEW">
            <item-attr name="caption" value="featstone ramp track EW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNSE">
            <item-attr name="caption" value="featstone ramp track NSE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNSW">
            <item-attr name="caption" value="featstone ramp track NSW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNEW">
            <item-attr name="caption" value="featstone ramp track NEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="FeatureRampTrackSEW">
            <item-attr name="caption" value="featstone ramp track SEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="FeatureRampTrackNSEW">
            <item-attr name="caption" value="featstone ramp track NSEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FEATURE"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="MineralRampTrackN">
            <item-attr name="caption" value="vein ramp track N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="MineralRampTrackS">
            <item-attr name="caption" value="vein ramp track S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>

        -- 0x290

        <enum-item name="MineralRampTrackE">
            <item-attr name="caption" value="vein ramp track E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="MineralRampTrackW">
            <item-attr name="caption" value="vein ramp track W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="MineralRampTrackNS">
            <item-attr name="caption" value="vein ramp track NS"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="MineralRampTrackNE">
            <item-attr name="caption" value="vein ramp track NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="MineralRampTrackNW">
            <item-attr name="caption" value="vein ramp track NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="MineralRampTrackSE">
            <item-attr name="caption" value="vein ramp track SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="MineralRampTrackSW">
            <item-attr name="caption" value="vein ramp track SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="MineralRampTrackEW">
            <item-attr name="caption" value="vein ramp track EW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>

        <enum-item name="MineralRampTrackNSE">
            <item-attr name="caption" value="vein ramp track NSE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="MineralRampTrackNSW">
            <item-attr name="caption" value="vein ramp track NSW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="MineralRampTrackNEW">
            <item-attr name="caption" value="vein ramp track NEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="MineralRampTrackSEW">
            <item-attr name="caption" value="vein ramp track SEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="MineralRampTrackNSEW">
            <item-attr name="caption" value="vein ramp track NSEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="MINERAL"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackN">
            <item-attr name="caption" value="ice ramp track N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="FrozenRampTrackS">
            <item-attr name="caption" value="ice ramp track S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="FrozenRampTrackE">
            <item-attr name="caption" value="ice ramp track E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>

        -- 0x2A0

        <enum-item name="FrozenRampTrackW">
            <item-attr name="caption" value="ice ramp track W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>
        <enum-item name="FrozenRampTrackNS">
            <item-attr name="caption" value="ice ramp track NS"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="FrozenRampTrackNE">
            <item-attr name="caption" value="ice ramp track NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="FrozenRampTrackNW">
            <item-attr name="caption" value="ice ramp track NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackSE">
            <item-attr name="caption" value="ice ramp track SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="FrozenRampTrackSW">
            <item-attr name="caption" value="ice ramp track SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackEW">
            <item-attr name="caption" value="ice ramp track EW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackNSE">
            <item-attr name="caption" value="ice ramp track NSE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>

        <enum-item name="FrozenRampTrackNSW">
            <item-attr name="caption" value="ice ramp track NSW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackNEW">
            <item-attr name="caption" value="ice ramp track NEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackSEW">
            <item-attr name="caption" value="ice ramp track SEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="FrozenRampTrackNSEW">
            <item-attr name="caption" value="ice ramp track NSEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="FROZEN_LIQUID"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackN">
            <item-attr name="caption" value="constructed ramp track N"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="N"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackS">
            <item-attr name="caption" value="constructed ramp track S"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="S"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackE">
            <item-attr name="caption" value="constructed ramp track E"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="E"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackW">
            <item-attr name="caption" value="constructed ramp track W"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="W"/>
        </enum-item>

        -- 0x2B0

        <enum-item name="ConstructedRampTrackNS">
            <item-attr name="caption" value="constructed ramp track NS"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NS"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackNE">
            <item-attr name="caption" value="constructed ramp track NE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NE"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackNW">
            <item-attr name="caption" value="constructed ramp track NW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NW"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackSE">
            <item-attr name="caption" value="constructed ramp track SE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SE"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackSW">
            <item-attr name="caption" value="constructed ramp track SW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SW"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackEW">
            <item-attr name="caption" value="constructed ramp track EW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="EW"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackNSE">
            <item-attr name="caption" value="constructed ramp track NSE"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSE"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackNSW">
            <item-attr name="caption" value="constructed ramp track NSW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSW"/>
        </enum-item>

        <enum-item name="ConstructedRampTrackNEW">
            <item-attr name="caption" value="constructed ramp track NEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NEW"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackSEW">
            <item-attr name="caption" value="constructed ramp track SEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="SEW"/>
        </enum-item>
        <enum-item name="ConstructedRampTrackNSEW">
            <item-attr name="caption" value="constructed ramp track NSEW"/>
            <item-attr name="shape" value="RAMP"/>
            <item-attr name="material" value="CONSTRUCTION"/>
            <item-attr name="special" value="TRACK"/>
            <item-attr name="direction" value="NSEW"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_build_item_req">
        <comment>
            When creating a building, one record per required item type.
            E.g. Soap Maker's workshop requires a bucket and a building material.
        </comment>

        <ld:field name="filter" type-name="job_item_filter" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="candidates" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="candidate_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_a0" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="candidate_enabled" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

        <ld:field name="count_required" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="count_max" comment="if 0, fixed at required" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="count_provided" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="build_req_choice_type">
        <enum-item name="General"/>
        <enum-item name="Specific"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="build_req_choicest">
        <comment>One choice in the build item selector.</comment>
        <ld:field name="distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="build_req_choice_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="build_req_choice_type"/></vmethod>
            <vmethod ld:level="1" name="getName">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="str" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_2"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isCandidate">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="item_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_4"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getUsedCount"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getNumCandidates"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_7"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="build_req_choice_genst" inherits-from="build_req_choicest">
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="candidates" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32">
                <code-helper name="refers-to">
                    (let* ((selector $global.ui_build_selector)
                           (req $selector.requirements[$selector.req_index]))
                      $req.candidates[$])
                </code-helper>
            </ld:item>
        </ld:field>

        <ld:field name="used_count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="build_req_choice_specst" inherits-from="build_req_choicest">
        <ld:field ld:level="1" ld:meta="pointer" name="candidate" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="candidate_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32">
            <code-helper name="refers-to">
                (let* ((selector $global.ui_build_selector)
                       (req $selector.requirements[$selector.req_index]))
                  $req.candidates[$])
            </code-helper>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_build_selector">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="requirements" pointer-type="ui_build_item_req" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="ui_build_item_req"><ld:item ld:level="3" ld:meta="global" type-name="ui_build_item_req"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="choices" pointer-type="build_req_choicest" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="build_req_choicest"><ld:item ld:level="3" ld:meta="global" type-name="build_req_choicest"/></ld:item></ld:field>

        <ld:field ld:subtype="enum" base-type="int32_t" name="building_type" type-name="building_type" comment="if -1, in Build menu; otherwise select item" ld:level="1" ld:meta="global"/>
        <ld:field name="building_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="custom_type" ref-target="building_def" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="stage" comment="0 no materials, 1 place, 2 select item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="req_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sel_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="is_grouped" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="errors" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk4" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="tiles" count="31" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="int32_t" count="31" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field name="unk5_0a" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk5_0b" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="plate_info" type-name="pressure_plate_info" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk6" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk7" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="friction" init-value="50000" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="use_dump" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dump_x_shift" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dump_y_shift" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="speed" init-value="50000" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        dtor: 0x85272c0
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button" original-name="interface_buttonst">
        <ld:field ld:subtype="enum" name="hotkey_id" type-name="interface_key" base-type="int32_t" ld:level="1" ld:meta="global"/>
        <ld:field name="is_hidden" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <virtual-methods>
            <vmethod ld:level="1" name="printSlabStatus" comment="ghost, buried, memorialized">
                <ld:field name="x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unused" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" name="getLabel">
                <ld:field ld:level="2" ld:meta="pointer" type-name="stl-string" name="str" ld:is-container="true"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="click"/>
            <vmethod ld:level="1" name="setColor">
                <ld:field name="selected" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            </vmethod>
            <vmethod ld:level="1" name="makeHidden"/>
            <vmethod ld:level="1" name="getTrackGlyph" ret-type="uint8_t"><ret-type ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" name="setTrackGlyphColor"/>
            <vmethod ld:level="1" is-destructor="true"/>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_buildingst" inherits-from="interface_button">
        <ld:field ld:level="1" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_category_selectorst" inherits-from="interface_button_buildingst">
        <ld:field name="category_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_14" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_material_selectorst" inherits-from="interface_button_buildingst">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_category" type-name="job_material_category" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_1c" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_building_new_jobst" inherits-from="interface_button_buildingst">
        <ld:field ld:subtype="enum" name="job_type" base-type="int32_t" type-name="job_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="reaction_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item_category" type-name="stockpile_group_set" ld:level="1" ld:meta="global"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="material_category" type-name="job_material_category" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_48" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="is_custom" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_constructionst" inherits-from="interface_button">
        <ld:field ld:level="1" ld:meta="pointer" name="unused_c" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_construction_donest" inherits-from="interface_button_constructionst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_construction_category_selectorst" inherits-from="interface_button_constructionst">
        <ld:field name="category_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_construction_building_selectorst" inherits-from="interface_button_constructionst">
        <ld:field name="building_type" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_subtype" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="custom_type" ref-target="building_def" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="existing_count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_buttonst" inherits-from="interface_button">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_designate_selectst" inherits-from="interface_button_buttonst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_donest" inherits-from="interface_button_buttonst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_open_bitem_designationst" inherits-from="interface_button_buttonst"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="interface_button_button_open_traffic_designationst" inherits-from="interface_button_buttonst"/>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_sidebar_menus">
        dtor 0x8535ee0

        <ld:field name="workshop_job" ld:level="1" ld:meta="compound" ld:typedef-name="T_workshop_job">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_all" pointer-type="interface_button_buildingst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interface_button_buildingst"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_buildingst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_visible" pointer-type="interface_button_buildingst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interface_button_buildingst"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_buildingst"/></ld:item></ld:field>

            <ld:field name="cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="category_id" comment="weapons, armor, etc" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="mat_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="material_category" type-name="job_material_category" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="building" ld:level="1" ld:meta="compound" ld:typedef-name="T_building">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_all" pointer-type="interface_button_constructionst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interface_button_constructionst"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_constructionst"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices_visible" pointer-type="interface_button_constructionst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interface_button_constructionst"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_constructionst"/></ld:item></ld:field>

            <ld:field name="category_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="designation" ld:level="1" ld:meta="compound" ld:typedef-name="T_designation">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="choices" pointer-type="interface_button_buttonst" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interface_button_buttonst"><ld:item ld:level="4" ld:meta="global" type-name="interface_button_buttonst"/></ld:item></ld:field>

            <ld:field name="unk_58" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_5c" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="zone" ld:level="1" ld:meta="compound" ld:typedef-name="T_zone">
            <ld:field name="remove" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field size="1" ld:level="2" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>
            <ld:field ld:subtype="enum" name="mode" base-type="int16_t" ld:level="2" ld:meta="compound" ld:typedef-name="T_mode">
                <enum-item name="Rectangle"/>
                <enum-item name="Flow"/>
                <enum-item name="FloorFlow"/>
            </ld:field>

            <ld:field ld:level="2" ld:meta="pointer" name="selected" type-name="building_civzonest" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building_civzonest"/></ld:field>
        </ld:field>

        <ld:field name="unit" ld:level="1" ld:meta="compound" ld:typedef-name="T_unit">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="inv_items" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_inventory_item"><ld:item ld:level="4" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="inv_spatters" pointer-type="unit_spatter" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_spatter"><ld:item ld:level="4" ld:meta="global" type-name="unit_spatter"/></ld:item></ld:field>

            <ld:field name="in_new_squad" comment="v0.34.08" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="cursor_uniform" comment="v0.34.08" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_88n_cursor" comment="v0.34.08" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squads" comment="v0.34.08" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squad_pos" comment="v0.34.08" pointer-type="entity_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position"><ld:item ld:level="4" ld:meta="global" type-name="entity_position"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squad_assn" comment="v0.34.08" pointer-type="entity_position_assignment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position_assignment"><ld:item ld:level="4" ld:meta="global" type-name="entity_position_assignment"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="squad_unk1" comment="v0.34.08" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squad_unk2" comment="v0.34.08" ld:is-container="true"/>

            <ld:field ld:level="2" ld:meta="pointer" type-name="entity_position" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="3" ld:meta="global" type-name="entity_position"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="entity_position_assignment" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="3" ld:meta="global" type-name="entity_position_assignment"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="entity_position" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="3" ld:meta="global" type-name="entity_position"/></ld:field>
            <ld:field name="in_squad" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_6"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>

            <ld:field name="unk_80" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_84" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_88" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_8c" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_90" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            judging from the destructor, these two sections should probably be in different compounds

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" type-name="int32_t" refers-to="$global.world.units.active[$]" ld:is-container="true"><ld:item refers-to="$global.world.units.active[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="unk_a0" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="unk_a1" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="skills" type-name="int32_t" refers-to="$global.ui_selected_unit.index.refers-to.status.current_soul.skills[$]" ld:is-container="true"><ld:item refers-to="$global.ui_selected_unit.index.refers-to.status.current_soul.skills[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="show_combat" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="show_labor" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="show_misc" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="barracks" ld:level="1" ld:meta="compound" ld:typedef-name="T_barracks">
            <ld:field name="squad_cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squads" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="uses" ld:is-container="true">
                <ld:item type-name="squad_use_flags" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field name="in_rename" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="in_positions" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:level="2" ld:meta="pointer" name="position_squad" type-name="squad" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="squad"/></ld:field>
            <ld:field name="position_cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="in_position_squads" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="position_squads" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field name="position_squad_cursor" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="minimap" ld:level="1" ld:meta="compound" ld:typedef-name="T_minimap">
            -- Abstract representation of contents; updated by need_scan
            <ld:field ld:level="2" ld:meta="static-array" name="data" count="23" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="23" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>

            <ld:field name="need_render" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="need_scan" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="z_level" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            -- Cached actual tiles from the screen; updated by need_render
            <ld:field ld:level="2" ld:meta="static-array" name="tile" count="23" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="23" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="tile_fg" count="23" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="23" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="tile_bg" count="23" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="23" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="tile_bold" count="23" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="23" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="unk" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk">
            <ld:field ld:level="2" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_1"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

            <ld:field name="unk_17c0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_17c4" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_17c8" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

            <ld:field name="worldgen_param_set" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="unk_17d0" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="num_speech_tokens" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_17d8" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_look_list">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_items">
                <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="3" ld:meta="compound" ld:typedef-name="T_type">
                    <enum-item name="Item"/>
                    <enum-item name="Floor"/>
                    <enum-item name="Unit"/>
                    <enum-item name="Building"/>
                    <enum-item name="Vermin"/>
                    <enum-item name="Flow"/>
                    <enum-item name="Campfire"/>
                    <enum-item name="Spatter"/>
                    <enum-item name="BuildingItem"/>
                    <enum-item name="Fire"/>
                    <enum-item name="Water"/>
                    <enum-item name="Magma"/>
                </ld:field>
                <ld:field name="spatter_mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="spatter_mat_index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:subtype="enum" type-name="matter_state" base-type="int16_t" name="spatter_mat_state" ld:level="3" ld:meta="global"/>
                <ld:field ld:anon-compound="true" is-union="true" ld:level="3" ld:meta="compound">
                    <ld:field ld:level="3" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="vermin" type-name="vermin" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="vermin"/></ld:field>
                    <ld:field ld:level="3" ld:meta="pointer" name="flow" type-name="flow_info" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="flow_info"/></ld:field>
                    <ld:field name="spatter_size" comment="also water/magma depth+flags" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                </ld:field>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_unit_view_mode">
        <ld:field ld:subtype="enum" name="value" ld:level="1" ld:meta="compound" ld:typedef-name="T_value">
            <enum-item name="General"/>
            <enum-item name="Inventory"/>
            <enum-item name="Preferences"/>
            <enum-item name="Wounds"/>
            <enum-item name="PrefLabor"/>
            <enum-item name="PrefDogs"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="burrow" key-field="id" instance-vector="$global.ui.burrows.list">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <code-helper name="describe">
            (describe-obj $.name)
        </code-helper>

        <ld:field name="tile" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="fg_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bg_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="block_x" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="block_y" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="block_z" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui_hotkey">
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="cmd" ld:level="1" ld:meta="compound" ld:typedef-name="T_cmd">
            <enum-item name="None" value="-1"/>
            <enum-item name="Zoom"/>
            <enum-item name="FollowUnit"/>
            <enum-item name="FollowItem"/>
        </ld:field>
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="unit_id" ref-target="unit" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="item_id" ref-target="item" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ui_sidebar_mode">
        <enum-item name="Default"/>
        <enum-item name="Squads"/>

        -- 2

        <enum-item name="DesignateMine"/>
        <enum-item name="DesignateRemoveRamps"/>
        <enum-item name="DesignateUpStair"/>
        <enum-item name="DesignateDownStair"/>
        <enum-item name="DesignateUpDownStair"/>
        <enum-item name="DesignateUpRamp"/>
        <enum-item name="DesignateChannel"/>
        <enum-item name="DesignateGatherPlants"/>
        <enum-item name="DesignateRemoveDesignation"/>
        <enum-item name="DesignateSmooth"/>
        <enum-item name="DesignateCarveTrack"/>
        <enum-item name="DesignateEngrave"/>
        <enum-item name="DesignateCarveFortification"/>

        -- 15

        <enum-item name="Stockpiles"/>
        <enum-item name="Build"/>
        <enum-item name="QueryBuilding"/>

        -- 18

        <enum-item name="Orders"/>
        <enum-item name="OrdersForbid"/>
        <enum-item name="OrdersRefuse"/>
        <enum-item name="OrdersWorkshop"/>
        <enum-item name="OrdersZone"/>

        -- 23

        <enum-item name="BuildingItems"/>
        <enum-item name="ViewUnits"/>
        <enum-item name="LookAround"/>

        -- 26

        <enum-item name="DesignateItemsClaim"/>
        <enum-item name="DesignateItemsForbid"/>
        <enum-item name="DesignateItemsMelt"/>
        <enum-item name="DesignateItemsUnmelt"/>
        <enum-item name="DesignateItemsDump"/>
        <enum-item name="DesignateItemsUndump"/>
        <enum-item name="DesignateItemsHide"/>
        <enum-item name="DesignateItemsUnhide"/>

        -- 34

        <enum-item name="DesignateChopTrees"/>
        <enum-item name="DesignateToggleEngravings"/>

        -- 36

        <enum-item name="Hotkeys"/>

        -- 37

        <enum-item name="DesignateTrafficHigh"/>
        <enum-item name="DesignateTrafficNormal"/>
        <enum-item name="DesignateTrafficLow"/>
        <enum-item name="DesignateTrafficRestricted"/>

        -- 41

        <enum-item name="Zones"/>
        <enum-item name="ZonesPenInfo"/>
        <enum-item name="ZonesPitInfo"/>
        <enum-item name="ZonesHospitalInfo"/>

        -- 45

        <enum-item name="DesignateRemoveConstruction"/>

        <enum-item name="DepotAccess"/>
        <enum-item name="NotesPoints"/>
        <enum-item name="NotesRoutes"/>
        <enum-item name="Burrows"/>
        <enum-item name="Hauling"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="ui">
        ctor 86e33c0 x
        dtor 8534190

        <ld:field name="game_state" comment="2 running, 1 lost to siege, 0 lost" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="lost_to_siege_civ" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="tax_collection" ld:level="1" ld:meta="compound" ld:typedef-name="T_tax_collection">
            <ld:field name="state" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="rooms" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
            <ld:field comment="probably for tax collector" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
            <ld:field comment="probably for guard1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
            <ld:field comment="probably for guard2" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
            <ld:field name="collected" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="quota" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field type-name="coord" name="collector_pos" ld:level="2" ld:meta="global"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" count="2" name="guard_pos_x" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" count="2" name="guard_pos_y" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int16_t" count="2" name="guard_pos_z" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="collector" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="guard1" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="guard2" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_6"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="manager_cooldown" comment="0-1008" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="bookkeeper_cooldown" comment="0-1008" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="bookkeeper_precision" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="bookkeeper_settings" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> noble bookkeeper precision: 10/100/1000/10000/all_accurate

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caravans" pointer-type="caravan_state" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="caravan_state"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
        <ld:field name="fortress_rank" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> outpost/hamlet/village/town/city/metropolis
        <ld:field name="progress_population" comment="?" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> (unles that's what the above is)
        <ld:field name="progress_trade" comment="?" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="progress_production" comment="?" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="is_capital" comment="or king has come, anyway" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
        <ld:field name="economy_enabled" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
        <ld:field name="justice_active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field init-value="60001" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16" ld:anon-name="anon_5"/>
        <ld:field init-value="60001" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16" ld:anon-name="anon_6"/>
        <ld:field name="manager_timer" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="becoming_capital" ld:level="1" ld:meta="compound" ld:typedef-name="T_becoming_capital">
            <ld:field name="desired_architecture" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="desired_offerings" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="units_killed" type-name="int16_t" count="152" index-enum="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="guild_wages" type-name="int32_t" count="6" index-enum="guild_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="guild_happiness" type-name="int16_t" count="6" index-enum="guild_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="labor_slowdown_timer" type-name="int16_t" count="6" index-enum="guild_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="currency_value" type-name="int32_t" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="trees_removed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field name="fortress_age" comment="?; +1 per 10; used in first 2 migrant waves etc" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tasks" type-name="entity_activity_statistics" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="meeting_requests" type-name="int32_t" ref-target="unit" comment="guild complaints and diplomats" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="activities" pointer-type="activity_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="activity_info"><ld:item ld:level="3" ld:meta="global" type-name="activity_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dip_meeting_info" pointer-type="meeting_diplomat_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_diplomat_info"><ld:item ld:level="3" ld:meta="global" type-name="meeting_diplomat_info"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="aid_requesters" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="game_over" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="invasions" ld:level="1" ld:meta="compound" ld:typedef-name="T_invasions">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" pointer-type="invasion_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="invasion_info"><ld:item ld:level="4" ld:meta="global" type-name="invasion_info"/></ld:item></ld:field>
            <ld:field name="next_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="crimes" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_crimes">
                <ld:field ld:subtype="enum" name="mode" base-type="int16_t" ld:level="3" ld:meta="compound" ld:typedef-name="T_mode">
                    <enum-item name="ProductionOrderViolation"/>
                    <enum-item name="ExportViolation"/>
                    <enum-item name="JobOrderViolation"/>
                    <enum-item name="ConspiracyToSlowLabor"/>
                    <enum-item name="Murder"/>
                    <enum-item name="DisorderlyBehavior"/>
                    <enum-item name="BuildingDestruction"/>
                    <enum-item name="Vandalism"/>
                </ld:field>
                <ld:field name="unk2" comment="uninit" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

                <ld:field name="unk3" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk4" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk5" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                <ld:field ld:level="3" ld:meta="pointer" name="criminal" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="victim" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="punishment_assigned" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                

                
                
                

                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="punishments" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_punishments">
                <ld:field ld:level="3" ld:meta="pointer" name="criminal" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="officer" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="beating" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="hammer_strikes" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="prison_counter" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_10" comment="10080" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="3" ld:meta="pointer" name="chain" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="victims" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" type-name="unit" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item>
                </ld:field>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pets" pointer-type="pet_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="pet_info"><ld:item ld:level="3" ld:meta="global" type-name="pet_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parties" pointer-type="party_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="party_info"><ld:item ld:level="3" ld:meta="global" type-name="party_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_rent" pointer-type="room_rent_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="room_rent_info"><ld:item ld:level="3" ld:meta="global" type-name="room_rent_info"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dipscripts" pointer-type="dipscript_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="dipscript_info"><ld:item ld:level="3" ld:meta="global" type-name="dipscript_info"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="dipscript_popups" pointer-type="dipscript_popup" comment="cause viewscreen_meetingst to pop up" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="dipscript_popup"><ld:item ld:level="3" ld:meta="global" type-name="dipscript_popup"/></ld:item></ld:field>

        <ld:field name="kitchen" ld:level="1" ld:meta="compound" ld:typedef-name="T_kitchen">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_types" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="item_subtypes" ld:is-container="true">
                <ld:item name="item_subtype" refers-to="(item-subtype-target $$._parent._parent.item_types[$$._key] $)" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_types" ld:is-container="true">
                <ld:item ref-target="material" aux-value="$$._parent.mat_indices[$._key]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="mat_indices" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="exc_types" type-name="int8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="economic_stone" type-name="bool" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

        <ld:field ld:subtype="bitfield" name="unk23c8_flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk23c8_flags">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="recheck_aid_requests" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="unit_action_divisor" comment="10-100; number of ticks it takes between a unit is visited for actions (?)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mood_cooldown" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="site_id" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="group_id" ref-target="historical_entity" comment="i.e. specifically the fortress dwarves" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race_id" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="farm_crops" type-name="int16_t" ref-target="plant_raw" ld:is-container="true"><ld:item ref-target="plant_raw" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="farm_seasons" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field name="economy_prices" ld:level="1" ld:meta="compound" ld:typedef-name="T_economy_prices">
            <ld:field name="price_adjustment" ld:level="2" ld:meta="compound" ld:typedef-name="T_price_adjustment">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="general_items" index-enum="item_type" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="weapons" index-refers-to="$global.world.raws.itemdefs.weapons[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="armor" index-refers-to="$global.world.raws.itemdefs.armor[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="handwear" index-refers-to="$global.world.raws.itemdefs.helms[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="footwear" index-refers-to="$global.world.raws.itemdefs.shoes[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="headwear" index-refers-to="$global.world.raws.itemdefs.gloves[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="legwear" index-refers-to="$global.world.raws.itemdefs.pants[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="prepared_food" index-refers-to="$global.world.raws.itemdefs.food[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="wood" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="thread_cloth" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="bone" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="tooth" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="horn" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="pearl" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="shell" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="leather" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="silk" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="yarn" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="inorganic" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="meat" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="fish" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="plants" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="drinks" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="extract_animal" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="extract_plant" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="mill_animal" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="mill_plant" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="cheese_animal" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="cheese_plant" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="pets" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:field>
            <ld:field name="price_setter" ld:level="2" ld:meta="compound" ld:typedef-name="T_price_setter">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="general_items" index-enum="item_type" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="weapons" index-refers-to="$global.world.raws.itemdefs.weapons[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="armor" index-refers-to="$global.world.raws.itemdefs.armor[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="handwear" index-refers-to="$global.world.raws.itemdefs.helms[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="footwear" index-refers-to="$global.world.raws.itemdefs.shoes[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="headwear" index-refers-to="$global.world.raws.itemdefs.gloves[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="legwear" index-refers-to="$global.world.raws.itemdefs.pants[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="prepared_food" index-refers-to="$global.world.raws.itemdefs.food[$]" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="wood" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="thread_cloth" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="bone" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="tooth" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="horn" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pearl" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="shell" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="leather" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="silk" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="yarn" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="inorganic" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="meat" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="fish" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="plants" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="drinks" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="extract_animal" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="extract_plant" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="mill_animal" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="mill_plant" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="cheese_animal" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="cheese_plant" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="pets" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            </ld:field>
        </ld:field>

        <ld:field name="stockpile" ld:level="1" ld:meta="compound" ld:typedef-name="T_stockpile">
            <ld:field name="reserved_bins" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="reserved_barrels" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="custom_settings" type-name="stockpile_settings" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="unk2a8c" count="4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="768" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk2a8c">
                <ld:field name="unk1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_mapedge_x" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_mapedge_y" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_mapedge_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="map_edge" ld:level="1" ld:meta="compound" ld:typedef-name="T_map_edge">
            <ld:field ld:level="2" ld:meta="static-array" name="layer_x" count="5" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="surface_x" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="layer_y" count="5" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="surface_y" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="layer_z" count="5" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="surface_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="unk5b88" count="7" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/>
        </ld:field>

        <ld:field name="waypoints" ld:level="1" ld:meta="compound" ld:typedef-name="T_waypoints">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="points" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_points">
                    <ld:field name="id" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="tile" ld:level="4" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
                    <ld:field name="fg_color" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    <ld:field name="bg_color" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                    <ld:field name="name" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                    <ld:field name="comment" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                    <ld:field name="pos" type-name="coord" ld:level="4" ld:meta="global"/>
                </ld:item>
                    
                    
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="routes" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_routes">
                    <ld:field name="id" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="name" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="points" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:field>
                </ld:item>
                    
                    
                    
                </ld:item>
            </ld:field>
            <ld:field name="sym_selector" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
            <ld:field name="cur_point_index" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="in_edit_name_mode" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
            <ld:field name="sym_tile" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
            <ld:field name="sym_fg_color" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="sym_bg_color" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk5c04" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
            <ld:field name="next_point_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="next_route_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="sel_route_idx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="sel_route_waypt_idx" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="in_edit_waypts_mode" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="burrows" ld:level="1" ld:meta="compound" ld:typedef-name="T_burrows">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" pointer-type="burrow" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="burrow"><ld:item ld:level="4" ld:meta="global" type-name="burrow"/></ld:item></ld:field>
            <ld:field name="next_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="sel_index" refers-to="$$._parent.list[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="sel_id" ref-target="burrow" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="in_confirm_delete" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="in_add_units_mode" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list_units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="sel_units" index-refers-to="$$._parent.list_units[$]" ld:is-container="true"/>
            <ld:field name="unit_cursor_pos" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="in_define_mode" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="rect_start" type-name="coord" ld:level="2" ld:meta="global"/>
            <ld:field name="brush_mode" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="in_edit_name_mode" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="sym_selector" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="sym_tile" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="sym_fg_color" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="sym_bg_color" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="alerts" ld:level="1" ld:meta="compound" ld:typedef-name="T_alerts">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_list">
                    <ld:field name="id" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="name" ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="burrows" type-name="int32_t" ref-target="burrow" ld:is-container="true"><ld:item ref-target="burrow" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                </ld:item>
                    
                    
                    
                </ld:item>
            </ld:field>
            <ld:field name="next_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="civ_alert_idx" refers-to="$$._parent.list[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="equipment" ld:level="1" ld:meta="compound" ld:typedef-name="T_equipment">
            <ld:field ld:level="2" ld:meta="static-array" name="items_by_type1" count="112" index-enum="item_type" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="items_unassigned" count="112" index-enum="item_type" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="items_assigned" count="112" index-enum="item_type" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:subtype="bitfield" name="update" ld:level="2" ld:meta="compound" ld:typedef-name="T_update">
                <ld:field name="weapon" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="armor" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="shoes" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="shield" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="helm" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="gloves" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="ammo" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="pants" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

                <ld:field name="backpack" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="quiver" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="flask" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="buildings" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="work_weapons" comment="i.e. woodcutter axes, and miner picks" ld:is-container="true">
                <ld:item ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="work_units" ld:is-container="true">
                <ld:item ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="hunter_ammunition" pointer-type="squad_ammo_spec" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad_ammo_spec"><ld:item ld:level="4" ld:meta="global" type-name="squad_ammo_spec"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_items" ld:is-container="true">
                <ld:item ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="ammo_units" ld:is-container="true">
                <ld:item ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="training_assignments" comment="v0.34.06, sorted by animal_id" pointer-type="training_assignment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="training_assignment"><ld:item ld:level="4" ld:meta="global" type-name="training_assignment"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="hauling" comment="v0.34.08" ld:level="1" ld:meta="compound" ld:typedef-name="T_hauling">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="routes" pointer-type="hauling_route" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="hauling_route"><ld:item ld:level="4" ld:meta="global" type-name="hauling_route"/></ld:item></ld:field>
            <ld:field name="next_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="view_routes" pointer-type="hauling_route" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="hauling_route"><ld:item ld:level="4" ld:meta="global" type-name="hauling_route"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="view_stops" pointer-type="hauling_stop" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="hauling_stop"><ld:item ld:level="4" ld:meta="global" type-name="hauling_stop"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="view_bad" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field name="cursor_top" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="in_stop" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="cursor_stop" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="stop_conditions" pointer-type="stop_depart_condition" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stop_depart_condition"><ld:item ld:level="4" ld:meta="global" type-name="stop_depart_condition"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="stop_links" pointer-type="route_stockpile_link" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="route_stockpile_link"><ld:item ld:level="4" ld:meta="global" type-name="route_stockpile_link"/></ld:item></ld:field>
            <ld:field name="in_advanced_cond" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

            <ld:field name="in_assign_vehicle" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="cursor_vehicle" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="vehicles" pointer-type="vehicle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="vehicle"><ld:item ld:level="4" ld:meta="global" type-name="vehicle"/></ld:item></ld:field>

            <ld:field name="in_name" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="old_name" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
        </ld:field>

        <ld:field name="main" ld:level="1" ld:meta="compound" ld:typedef-name="T_main">
            <ld:field ld:level="2" ld:meta="static-array" name="hotkeys" type-name="ui_hotkey" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="ui_hotkey"/></ld:field>

            <ld:field name="traffic_cost_high" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="traffic_cost_normal" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="traffic_cost_low" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="traffic_cost_restricted" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="dead_citizens" comment="?" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_dead_citizens">
                    <ld:field name="unit_id" ref-target="unit" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="histfig_id" ref-target="historical_figure" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="death_year" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="death_time" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="timer" comment="+1 per 10" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field ld:subtype="enum" base-type="int16_t" name="ghost_type" type-name="ghost_type" ld:level="4" ld:meta="global"/>
                </ld:item>
                    
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="pointer" name="fortress_entity" type-name="historical_entity" comment="entity pointed to by group_id" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:field>

            <ld:field ld:subtype="enum" base-type="int16_t" name="mode" type-name="ui_sidebar_mode" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>

            <ld:field name="unk1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field name="selected_traffic_cost" comment="For changing the above costs." ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field name="autosave_request" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="autosave_unk" comment="set to 0 when a_rq set to 1" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

            <ld:field name="unk6df4" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="selected_hotkey" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="in_rename_hotkey" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="squads" ld:level="1" ld:meta="compound" ld:typedef-name="T_squads">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" has-bad-pointers="true" comment="valid only when ui is displayed" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk6e08" ld:is-container="true"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="sel_squads" index-refers-to="$$._parent.list[$]" ld:is-container="true"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="indiv_selected" ld:is-container="true">
                <ld:item ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>
            <ld:field name="in_select_indiv" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="sel_indiv_squad" refers-to="$$._parent.list[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field size="8" ld:level="2" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>

            <ld:field name="unk48" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" name="unk4c" type-name="squad" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="squad"/></ld:field>

            <ld:field name="in_move_order" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="point_list_scroll" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="in_kill_order" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="kill_rect_targets" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>

            <ld:field size="4" ld:level="2" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_2"/>

            <ld:field name="in_kill_list" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="kill_targets" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="sel_kill_targets" index-refers-to="$$._parent.kill_target[$]" ld:is-container="true"/>
            <ld:field size="4" ld:level="2" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_3"/>

            <ld:field name="in_kill_rect" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="rect_start" type-name="coord" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="follow_unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="follow_item" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="timed_event_type" base-type="int16_t">
        <enum-item name="Caravan"/>
        <enum-item name="Migrants"/>
        <enum-item name="Diplomat"/>
        <enum-item name="CivAttack"/>
        <enum-item name="FeatureAttack" comment="unused, does nothing"/>
        <enum-item name="Megabeast"/>
        <enum-item name="WildlifeCurious"/>
        <enum-item name="WildlifeMischievous"/>
        <enum-item name="WildlifeFlier"/>
        <enum-item name="NightCreature"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="timed_event">
        <ld:field ld:subtype="enum" type-name="timed_event_type" name="type" ld:level="1" ld:meta="global"/>
        <ld:field name="season" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="season_ticks" comment="1 tick = 10 frames" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="map_viewport">
        <ld:field name="adv_mode" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="map_rotation" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="min_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="min_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="window_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="window_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="window_z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="map_renderer">
        <ld:field ld:level="1" ld:meta="static-array" name="entity" count="256" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="256" type-name="uint8_t" comment="|=1 building, |=2 ramp/stair" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="cursor_units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_guts" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="multiple_guts" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_corpse" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_corpse_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_corpsepiece" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_corpsepiece_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_bones" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_bones_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="cursor_other" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="cursor_other_cnt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10034" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_10035" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="cur_tick_count" comment="GetTickCount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tick_phase" comment="cur_year_tick%10080" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dim_colors" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_thought_type">
        <enum-attr name="value"/>
        <enum-attr name="caption"/>

        <enum-item name="Miscarriage">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="had a miscarriage recently"/>
        </enum-item>
        <enum-item name="Evicted">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="has been evicted lately"/>
        </enum-item>
        <enum-item name="Tired">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has been tired lately"/>
        </enum-item>
        <enum-item name="Exhausted">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has been exhausted lately"/>
        </enum-item>
        <enum-item name="Hunger">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has complained of hunger lately"/>
        </enum-item>
        <enum-item name="Thirst">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has complained of thirst lately"/>
        </enum-item>
        <enum-item name="Starving">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has been starving lately"/>
        </enum-item>
        <enum-item name="Dehydrated">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has been dehydrated lately"/>
        </enum-item>
        <enum-item name="ScarceTaxCollectionEscorts">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried by the scarcity of tax collection escorts lately"/>
        </enum-item>
        <enum-item name="ScarceGuards">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried by the scarcity of guards lately"/>
        </enum-item>
        <enum-item name="ScarceCageChain">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried by the scarcity of cages and chains lately"/>
        </enum-item>
        <enum-item name="Attacked">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="has been attacked lately"/>
        </enum-item>
        <enum-item name="AttackedByDead">
            <item-attr name="value" value="-100/-60/-40/-20"/>
            <item-attr name="caption" value="has been attacked by a dead (pet/spouse/mother/...) lately"/>
        </enum-item>
        <enum-item name="TaxRoomUnreachable">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was unable to reach a room for tax collection lately"/>
        </enum-item>
        <enum-item name="TaxRoomMisinformed">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was misinformed about a room for tax collection lately"/>
        </enum-item>
        <enum-item name="TaxCollectionRough">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was upset that the tax collection didnt go smoothly lately"/>
        </enum-item>
        <enum-item name="Taxed">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has been taxed recently"/>
        </enum-item>
        <enum-item name="TaxedLostProperty">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="has lost property to the tax collectors escorts recently"/>
        </enum-item>
        <enum-item name="DisappointedNoble">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was upset to have disappointed a noble lately"/>
        </enum-item>
        <enum-item name="LackChairs">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="has complained of the lack of chairs lately"/>
        </enum-item>
        <enum-item name="CrowdedTables">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="has complained of the crowded tables lately"/>
        </enum-item>
        <enum-item name="LackTables">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="has complained of the lack of dining tables lately"/>
        </enum-item>
        <enum-item name="EatVermin">
            <item-attr name="value" value="-30/-20/-10"/>
            <item-attr name="caption" value="was forced to eat vermin to survive lately"/>
        </enum-item>
        <enum-item name="EatLikedCreature">
            <item-attr name="value" value="-50"/>
            <item-attr name="caption" value="was forced to eat a beloved creature to survive lately"/>
        </enum-item>
        <enum-item name="EatPet">
            <item-attr name="value" value="-1000"/>
            <item-attr name="caption" value="was forced to eat a treasured pet to survive lately"/>
        </enum-item>
        <enum-item name="LackWell">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="has complained of the lack of a well lately"/>
        </enum-item>
        <enum-item name="NastyWater">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="has complained of the nasty water lately"/>
        </enum-item>
        <enum-item name="DrinkSlime">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink slime lately"/>
        </enum-item>
        <enum-item name="DrinkVomit">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink vomit lately"/>
        </enum-item>
        <enum-item name="DrinkBlood">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink bloody water lately"/>
        </enum-item>
        <enum-item name="DrinkGoo">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink gooey water lately"/>
        </enum-item>
        <enum-item name="DrinkIchor">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink ichorous water lately"/>
        </enum-item>
        <enum-item name="DrinkPus">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="was forced to drink purulent water lately"/>
        </enum-item>
        <enum-item name="SleepNoise">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="slept uneasily due to noise lately"/>
        </enum-item>
        <enum-item name="SleepNoiseMajor">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="slept very uneasily due to noise lately"/>
        </enum-item>
        <enum-item name="SleepNoiseWake">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was woken by noise while sleeping lately"/>
        </enum-item>
        <enum-item name="LackProtection">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was worried not to have adequate protection lately"/>
        </enum-item>
        <enum-item name="Drafted">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="has complained about the draft lately"/>
        </enum-item>
        <enum-item name="Relieved">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="was upset about being relieved from duty"/>
        </enum-item>
        <enum-item name="ArtDefacement">
            <item-attr name="value" value="-200/x"/>
            <item-attr name="caption" value="has suffered the travesty of art defacement"/>
        </enum-item>
        <enum-item name="AnnoyedFlies">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="has been annoyed by flies"/>
        </enum-item>
        <enum-item name="AnnoyedVermin">
            <item-attr name="value" value="-30/-20/-10"/>
            <item-attr name="caption" value="has been accosted by terrible vermin"/>
        </enum-item>
        <enum-item name="AnnoyedCage">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="saw something unpleasant in a cage recently"/>
        </enum-item>
        <enum-item name="AnnoyedPond">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="saw something unpleasant in a pond recently"/>
        </enum-item>
        <enum-item name="WitnessDeath">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="has witnessed death"/>
        </enum-item>
        <enum-item name="LostPet">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a pet recently"/>
        </enum-item>
        <enum-item name="LostPet2">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a pet recently"/>
        </enum-item>
        <enum-item name="RageKill">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="accidentally killed somebody in a fit of rage recently"/>
        </enum-item>
        <enum-item name="SparringAccident">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="killed somebody by accident while sparring recently"/>
        </enum-item>
        <enum-item name="LostSpouse">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a spouse to tragedy recently"/>
        </enum-item>
        <enum-item name="LostFriend">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a friend to tragedy recently"/>
        </enum-item>
        <enum-item name="LostSibling">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a sibling to tragedy recently"/>
        </enum-item>
        <enum-item name="LostChild">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a child to tragedy recently"/>
        </enum-item>
        <enum-item name="LostMother">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a mother to tragedy recently"/>
        </enum-item>
        <enum-item name="LostFather">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a father to tragedy recently"/>
        </enum-item>
        <enum-item name="Decay">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="was forced to endure the decay of a (pet/spouse/mother..)"/>
        </enum-item>
        <enum-item name="AteRotten">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="ate rotten food lately"/>
        </enum-item>
        <enum-item name="DrankSpoiled">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="drank something spoiled lately"/>
        </enum-item>
        <enum-item name="LongPatrol">
            <item-attr name="value" value="-2/-3/-5-/10"/>
            <item-attr name="caption" value="was (grumbling/depressed/angered/enraged) about long patrol duty lately"/>
        </enum-item>
        <enum-item name="Miasma">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="was disgusted by a miasma lately"/>
        </enum-item>
        <enum-item name="Smoke">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="choked on smoke underground lately"/>
        </enum-item>
        <enum-item name="Dust">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="choked on dust underground lately"/>
        </enum-item>
        <enum-item name="Cavein">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="was knocked out during a cave-in lately"/>
        </enum-item>
        <enum-item name="MeetingInDiningRoom">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was embarrassed to have to conduct an official meeting in a dining room"/>
        </enum-item>
        <enum-item name="MeetingInBedroom">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was very embarrassed to have to conduct an official meeting in a bedroom"/>
        </enum-item>
        <enum-item name="NoRooms">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was incredibly embarrassed not to have any rooms lately"/>
        </enum-item>
        <enum-item name="MajorInjuries">
            <item-attr name="value" value="-30/-20/-10/-5"/>
            <item-attr name="caption" value="sustained major injuries recently"/>
        </enum-item>
        <enum-item name="MinorInjuries">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="sustained minor injuries recently"/>
        </enum-item>
        <enum-item name="SleptMud">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept in the mud recently"/>
        </enum-item>
        <enum-item name="SleptGrass">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept in the grass recently"/>
        </enum-item>
        <enum-item name="SleptDirt">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept in the dirt recently"/>
        </enum-item>
        <enum-item name="SleptRocks">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on rocks recently"/>
        </enum-item>
        <enum-item name="SleptRoughFloor">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on a rough cave floor recently"/>
        </enum-item>
        <enum-item name="SleptFloor">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on the floor recently"/>
        </enum-item>
        <enum-item name="SleptIce">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on ice recently"/>
        </enum-item>
        <enum-item name="SleptDriftwood">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept on a pile of driftwood recently"/>
        </enum-item>
        <enum-item name="BedroomNone">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="slept without a proper room recently"/>
        </enum-item>
        <enum-item name="BedroomBad5">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="slept in a horribly substandard bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad4">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="slept in a horrible bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad3">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="slept in an awful bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad2">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="slept in a very poor bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomBad1">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="slept in a poor bedroom recently"/>
        </enum-item>
        <enum-item name="OfficeBad5">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="conducted a meeting in a horribly substandard setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad4">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="conducted a meeting in a horrible setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad3">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="conducted a meeting in an awful setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad2">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="conducted a meeting in a very poor setting recently"/>
        </enum-item>
        <enum-item name="OfficeBad1">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="conducted a meeting in a poor setting recently"/>
        </enum-item>
        <enum-item name="DiningBad5">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="dined in a horribly substandard dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad4">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="dined in a horrible dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad3">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="dined in an awful dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad2">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="dined in a very poor dining room recently"/>
        </enum-item>
        <enum-item name="DiningBad1">
            <item-attr name="value" value="-2"/>
            <item-attr name="caption" value="dined in a poor dining room recently"/>
        </enum-item>
        <enum-item name="DiningNone">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="dined without a proper dining room recently"/>
        </enum-item>
        <enum-item name="TombNone">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="worried greatly about not having a tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad5">
            <item-attr name="value" value="-30"/>
            <item-attr name="caption" value="worried about having a horribly substandard tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad4">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="worried about having a horrible tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad3">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="worried about having an awful tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad2">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="worried about having a very poor tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombBad1">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="worried about having a poor tomb after gaining another year"/>
        </enum-item>
        <enum-item name="DemandsAngry3">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was greatly angered at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsAngry2">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was very angered at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsAngry1">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was angered at the state of demands recently"/>
        </enum-item>
        <enum-item name="MoreChests">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough chests lately"/>
        </enum-item>
        <enum-item name="MoreCabinets">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough cabinets lately"/>
        </enum-item>
        <enum-item name="MoreArmorStands">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough armor stands lately"/>
        </enum-item>
        <enum-item name="MoreWeaponRacks">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by not having enough weapon racks lately"/>
        </enum-item>
        <enum-item name="OldClothing">
            <item-attr name="value" value="-3/-2"/>
            <item-attr name="caption" value="was upset to be wearing old clothing lately"/>
        </enum-item>
        <enum-item name="TatteredClothing">
            <item-attr name="value" value="-5/-3/-2"/>
            <item-attr name="caption" value="was upset to be wearing tattered clothing lately"/>
        </enum-item>
        <enum-item name="RottedClothing">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="was very upset to have worn clothes rot away lately"/>
        </enum-item>
        <enum-item name="Uncovered">
            <item-attr name="value" value="-20/-10/-5"/>
            <item-attr name="caption" value="was very embarrassed to be uncovered lately"/>
        </enum-item>
        <enum-item name="NoShirt">
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="was embarrassed to have no shirt lately"/>
        </enum-item>
        <enum-item name="NoShoes"> and i still get service
            <item-attr name="value" value="-10/-5/-3"/>
            <item-attr name="caption" value="was embarrassed to have no shoes lately"/>
        </enum-item>
        <enum-item name="NoCloak">
            <item-attr name="value" value="-20/-10/-5"/>
            <item-attr name="caption" value="was very embarrassed to be uncloaked lately"/>
        </enum-item>
        <enum-item name="Rain">
            <item-attr name="value" value="-3/-2"/>
            <item-attr name="caption" value="was caught in the rain recently"/>
        </enum-item>
        <enum-item name="SnowStorm">
            <item-attr name="value" value="-3/-2"/>
            <item-attr name="caption" value="was caught in a snow storm recently"/>
        </enum-item>
        <enum-item name="FreakishWeather">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was caught in freakish weather recently"/>
        </enum-item>
        <enum-item name="RoomPretension">
            <item-attr name="value" value="-4*x"/>
            <item-attr name="caption" value="was (put off/flustered/upset/very upset/greatly upset/angered/enraged/shattered/traumatized/utterly traumatized) by a lessers pretentious (office/sleeping/dining/burial) arrangements lately"/>
        </enum-item>
        <enum-item name="NoHammer">
            <item-attr name="value" value="-50"/>
            <item-attr name="caption" value="was unable to find an available hammer lately"/>
        </enum-item>
        <enum-item name="MandateIgnored">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset by having a mandate ignored lately"/>
        </enum-item>
        <enum-item name="MandateDeadlineMissed">
            <item-attr name="value" value="-3"/>
            <item-attr name="caption" value="was upset by having a mandate deadline missed lately"/>
        </enum-item>
        <enum-item name="RequestIgnored">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset by having a request ignored lately"/>
        </enum-item>
        <enum-item name="NoPunishment">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was angered that nobody could be punished for a recent failure"/>
        </enum-item>
        <enum-item name="ImproperPunishment">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset that a criminal could not be properly punished"/>
        </enum-item>
        <enum-item name="DelayedPunishment">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="was upset by the delayed punishment of a criminal"/>
        </enum-item>
        <enum-item name="GotBeaten">
            <item-attr name="value" value="-10/-5/-3/-2"/>
            <item-attr name="caption" value="was beaten recently"/>
        </enum-item>
        <enum-item name="GotHammered">
            <item-attr name="value" value="-20/-10/-5/-3"/>
            <item-attr name="caption" value="was beaten with a hammer recently"/>
        </enum-item>
        <enum-item name="Jailed">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="is depressed about being confined"/>
        </enum-item>
        <enum-item name="LackWork">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was unhappy with the lack of work last season"/>
        </enum-item>
        <enum-item name="Nightmare">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="had a terrifying nightmare about an army of the dead"/>
        </enum-item>
        <enum-item name="AdmireBuilding">
            <item-attr name="value" value="+x"/>
            <item-attr name="caption" value="admired a (fine/very fine/splendid/wonderful/completely sublime) (building) lately"/>
        </enum-item>
        <enum-item name="AdmireOwnBuilding">
            <item-attr name="value" value="+2x"/>
            <item-attr name="caption" value="admired own (fine/very fine/splendid/wonderful/completely sublime) (building) lately"/>
        </enum-item>
        <enum-item name="AdmireArrangedBuilding">
            <item-attr name="value" value="+2x"/>
            <item-attr name="caption" value="admired a (fine/very fine/splendid/wonderful/completely sublime) tastefully arranged (building) lately"/>
        </enum-item>
        <enum-item name="AdmireOwnArrangedBuilding">
            <item-attr name="value" value="+4x"/>
            <item-attr name="caption" value="admired own (fine/very fine/splendid/wonderful/completely sublime) tastefully arranged (building) lately"/>
        </enum-item>
        <enum-item name="ComfortedCage">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="was comforted by a wonderful creature in a cage recently"/>
        </enum-item>
        <enum-item name="ComfortedPond">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="was comforted by a wonderful creature in a pond recently"/>
        </enum-item>
        <enum-item name="RequestApproved">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was pleased by having a request approved lately"/>
        </enum-item>
        <enum-item name="PunishmentReduced">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="was glad to have punishment reduced recently"/>
        </enum-item>
        <enum-item name="PunishmentDelayed">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="was glad to have punishment delayed recently"/>
        </enum-item>
        <enum-item name="GaveBeating">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="beat somebody recently"/>
        </enum-item>
        <enum-item name="GaveHammering">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="beat somebody with a hammer recently"/>
        </enum-item>
        <enum-item name="SatisfiedAtWork">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="has been satisfied at work lately"/>
        </enum-item>
        <enum-item name="PleasedNoble">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was happy to have pleased a noble lately"/>
        </enum-item>
        <enum-item name="MadeArtifact">
            <item-attr name="value" value="+1000"/>
            <item-attr name="caption" value="is quite pleased with making an artifact"/>
        </enum-item>
        <enum-item name="AcquiredItem">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="made a satisfying acquisition lately"/>
        </enum-item>
        <enum-item name="AdoptedPet">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="adopted a new pet recently"/>
        </enum-item>
        <enum-item name="JoyInSlaughter">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="took joy in slaughter lately"/>
        </enum-item>
        <enum-item name="GoodFood1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="ate a pretty decent meal lately"/>
        </enum-item>
        <enum-item name="GoodFood2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="ate a fine dish lately"/>
        </enum-item>
        <enum-item name="GoodFood3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="ate a wonderful dish lately"/>
        </enum-item>
        <enum-item name="GoodFood4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="ate a truly decadent dish lately"/>
        </enum-item>
        <enum-item name="GoodFood5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="ate a legendary meal lately"/>
        </enum-item>
        <enum-item name="GoodDrink1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="had a pretty decent drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="had a fine drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="had a wonderful drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="had a truly decadent drink lately"/>
        </enum-item>
        <enum-item name="GoodDrink5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="had a legendary drink lately"/>
        </enum-item>
        <enum-item name="ComfortedPet">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was comforted by a pet lately"/>
        </enum-item>
        <enum-item name="ComfortedCreature">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="saw a beloved creature lately"/>
        </enum-item>
        <enum-item name="MandateDeadlineMet">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was pleased to have a mandate deadline met lately"/>
        </enum-item>
        <enum-item name="Talked">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="talked with (somebody/a pet/a spouse/...) lately"/>
        </enum-item>
        <enum-item name="MadeFriend">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="made a friend recently"/>
        </enum-item>
        <enum-item name="TaxCollectionSmooth">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was pleased that the tax collection went smoothly lately"/>
        </enum-item>
        <enum-item name="Waterfall">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was comforted by a lovely waterfall lately"/>
        </enum-item>
        <enum-item name="OfficeGood5">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="conducted a meeting in a setting worthy of legends recently"/>
        </enum-item>
        <enum-item name="OfficeGood4">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="conducted a meeting in a fantastic setting recently"/>
        </enum-item>
        <enum-item name="OfficeGood3">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="conducted a meeting in a great setting recently"/>
        </enum-item>
        <enum-item name="OfficeGood2">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="conducted a meeting in a very good setting recently"/>
        </enum-item>
        <enum-item name="OfficeGood1">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="conducted a meeting in a good setting recently"/>
        </enum-item>
        <enum-item name="DiningGood5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="dined in a legendary dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="dined in a fantastic dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="dined in a great dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="dined in a very good dining room recently"/>
        </enum-item>
        <enum-item name="DiningGood1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="dined in a good dining room recently"/>
        </enum-item>
        <enum-item name="BedroomGood5">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="slept in a bedroom like a personal palace recently"/>
        </enum-item>
        <enum-item name="BedroomGood4">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="slept in a fantastic bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomGood3">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="slept in a great bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomGood2">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="slept in a very good bedroom recently"/>
        </enum-item>
        <enum-item name="BedroomGood1">
            <item-attr name="value" value="+2"/>
            <item-attr name="caption" value="slept in a good bedroom recently"/>
        </enum-item>
        <enum-item name="DemandsPleased3">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was greatly pleased at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsPleased2">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="was very pleased at the state of demands recently"/>
        </enum-item>
        <enum-item name="DemandsPleased1">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="was pleased at the state of demands recently"/>
        </enum-item>
        <enum-item name="TombGood5">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="celebrated having a legendary tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood4">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="celebrated having a fantastic tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood3">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="celebrated having a great tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood2">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="celebrated having a very good tomb after gaining another year"/>
        </enum-item>
        <enum-item name="TombGood1">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="celebrated having a good tomb after gaining another year"/>
        </enum-item>
        <enum-item name="FistFight">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="enjoyed starting a fist fight recently"/>
        </enum-item>
        <enum-item name="SmashedBuilding">
            <item-attr name="value" value="+20"/>
            <item-attr name="caption" value="enjoyed smashing up a building recently"/>
        </enum-item>
        <enum-item name="ToppledStuff">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="enjoyed toppling something over recently"/>
        </enum-item>
        <enum-item name="ThrownStuff">
            <item-attr name="value" value="+5"/>
            <item-attr name="caption" value="enjoyed throwing something recently"/>
        </enum-item>
        <enum-item name="Spar">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="had a satisfying sparring session recently"/>
        </enum-item>
        <enum-item name="Free">
            <item-attr name="value" value="+1000"/>
            <item-attr name="caption" value="is happy to be free"/>
        </enum-item>
        <enum-item name="SunNausea">
            <item-attr name="value" value="-20"/>
            <item-attr name="caption" value="was nauseated by the sun lately"/>
        </enum-item>
        <enum-item name="SunIrritated">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was irritated by the sun lately"/>
        </enum-item>
        <enum-item name="Rest">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was able to rest and recuperate lately"/>
        </enum-item>
        <enum-item name="ReceivedWater">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="received water recently"/>
        </enum-item>
        <enum-item name="ReceivedFood">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="received food recently"/>
        </enum-item>
        <enum-item name="Rescued">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was rescued recently"/>
        </enum-item>
        <enum-item name="UnableComplain">
            <item-attr name="value" value="-10"/>
            <item-attr name="caption" value="was unable to find somebody to complain to about job scarcity lately"/>
        </enum-item>
        <enum-item name="ReceivedComplaint">
            <item-attr name="value" value="-6/-4/-3/-2"/>
            <item-attr name="caption" value="was yelled at by an unhappy citizen lately"/>
        </enum-item>
        <enum-item name="Complained">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="was satisfied to bring up job scarcity in a meeting lately"/>
        </enum-item>
        <enum-item name="ElectedMayor">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="was very happy to be elected mayor recently"/>
        </enum-item>
        <enum-item name="ReelectedMayor">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="was very happy to be re-elected mayor recently"/>
        </enum-item>
        <enum-item name="BecomeExpeditionLeader">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="was very satisfied to be chosen as the expedition leader recently"/>
        </enum-item>
        <enum-item name="NoblePromotion">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="was very pleased to receive a higher rank of nobility recently"/>
        </enum-item>
        <enum-item name="BecomeNoble">
            <item-attr name="value" value="+50"/>
            <item-attr name="caption" value="was greatly pleased to enter the nobility recently"/>
        </enum-item>
        <enum-item name="BecomeMayor">
            <item-attr name="value" value="+30"/>
            <item-attr name="caption" value="was proud to have become a mayor recently"/>
        </enum-item>
        <enum-item name="GaveWater">
            <item-attr name="value" value="+20/+10/+5/+3/0/-3/-5/-10/-20"/>
            <item-attr name="caption" value="was (overjoyed to be/happy to have been/pleased to have been) able to give somebody water lately"/>
        </enum-item>
        <enum-item name="GaveFood">
            <item-attr name="value" value="+20/+10/+5/+3/0/-3/-5/-10/-20"/>
            <item-attr name="caption" value="was (overjoyed to be/happy to have been/pleased to have been) able to give somebody food lately"/>
        </enum-item>
        <enum-item name="RescuedOther">
            <item-attr name="value" value="+20/+10/+5/+3/0/-3/-5/-10/-20"/>
            <item-attr name="caption" value="was (overjoyed to be/happy to have been/pleased to have been) able to help somebody to bed lately"/>
        </enum-item>
        <enum-item name="GaveBirth">
            <item-attr name="value" value="+1000"/>
            <item-attr name="caption" value="gave birth to (children) recently"/>
        </enum-item>
        <enum-item name="Family">
            <item-attr name="value" value="+250"/>
	    <item-attr name="caption" value="got (married/new romance/new sibling) recently"/>
        </enum-item>
        <enum-item name="FormedGrudge">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="formed a grudge recently"/>
        </enum-item>
        <enum-item name="LostLover">
            <item-attr name="value" value="-50/-30/-20/-10"/>
            <item-attr name="caption" value="has lost a lover to tragedy recently"/>
        </enum-item>
        <enum-item name="LostGrudge">
            <item-attr name="value" value="-10/-5/-3/-2"/>
            <item-attr name="caption" value="(has lost/was just a little happy to lose/was happy to lose/was thrilled to lose) an annoying acquaintance to tragedy recently"/>
        </enum-item>
        <enum-item name="SameFood">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has been tired of eating the same old food lately"/>
        </enum-item>
        <enum-item name="SameBooze">
            <item-attr name="value" value="-5"/>
            <item-attr name="caption" value="has been tired of drinking the same old booze lately"/>
        </enum-item>
        <enum-item name="TalkToNoble">
            <item-attr name="value" value="-5/-3/-2/+5/+10/+20"/>
            <item-attr name="caption" value="was (disgusted/upset/irritated) to be forced to talk to a pillar of society recently"/>
        </enum-item>
        <enum-item name="SoapyBath">
            <item-attr name="value" value="+10"/>
            <item-attr name="caption" value="had a wonderful soapy bath recently"/>
        </enum-item>
        <enum-item name="Bath">
            <item-attr name="value" value="+3"/>
            <item-attr name="caption" value="had a nice bath recently"/>
        </enum-item>
        <enum-item name="GhostHaunt">
            <item-attr name="value" value="-20/-50/-100/-200"/>
            <item-attr name="caption" value="has been (haunted/tormented/possessed/tortured) by the (dead/dead pet/...) lately"/>
        </enum-item>
        <enum-item name="GhostNightmare">
            <item-attr name="value" value="-20/-50/-100/-200"/>
            <item-attr name="caption" value="has been tormented in nightmares by the (dead/dead pet/...) lately"/>
        </enum-item>
        <enum-item name="Conviction">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="was outraged at the ridiculous conviction of X recently/was pleased to have received justice recently"/>
        </enum-item>
        <enum-item name="LostTrainingAnimal">
            <item-attr name="value" value="-?"/>
            <item-attr name="caption" value="has lost an animal training partner to tragedy recently"/>
        </enum-item>
        <enum-item name="BondTrainingAnimal">
            <item-attr name="value" value="+?"/>
            <item-attr name="caption" value="formed a bond with an animal training partner recently"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_flags1" base-type="uint32_t">
        <ld:field name="move_state" comment="Can the dwarf move or are they waiting for their movement timer" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dead" comment="Dead (might also be set for incoming/leaving critters that are alive)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_mood" comment="Currently in mood" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="had_mood" comment="Had a mood already" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="marauder" comment="wide class of invader/inside creature attackers" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="drowning" comment="Is currently drowning" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="merchant" comment="An active merchant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="forest" comment="used for units no longer linked to merchant/diplomacy, they just try to leave mostly" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="left" comment="left the map" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rider" comment="Is riding an another creature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="incoming" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="diplomat" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="zombie" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="skeleton" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="can_swap" comment="Can swap tiles during movement (prevents multiple swaps)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="on_ground" comment="The creature is laying on the floor, can be conscious" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="projectile" comment="Launched into the air? Funny." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="active_invader" comment="Active invader (for organized ones)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden_in_ambush" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="invader_origin" comment="Invader origin (could be inactive and fleeing)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="coward" comment="Will flee if invasion turns around" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hidden_ambusher" comment="Active marauder/invader moving inward?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="invades" comment="Marauder resident/invader moving in all the way" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="check_flows" comment="Check against flows next time you get a chance" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="ridden" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="caged" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tame" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="chained" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="royal_guard" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fortress_guard" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="suppress_wield" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="important_historical_figure" comment="Is an important historical figure" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_flags2" base-type="uint32_t">
        <ld:field name="swimming" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sparring" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="no_notify" comment="Do not notify about level gains (for embark etc)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unused" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="calculated_nerves" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="calculated_bodyparts" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="important_historical_figure" comment="Is important historical figure (slight variation)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="killed" comment="Has been killed by kill function (slightly different from dead, not necessarily violent death)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="cleanup_1" comment="Must be forgotten by forget function (just cleanup)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cleanup_2" comment="Must be deleted (cleanup)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="cleanup_3" comment="Recently forgotten (cleanup)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="for_trade" comment="Offered for trade" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="trade_resolved" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="has_breaks" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="gutted" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="circulatory_spray" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="locked_in_for_trading" comment="Locked in for trading (it's a projectile on the other set of flags, might be what the flying was)" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="slaughter" comment="marked for slaughter" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="underworld" comment="Underworld creature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="resident" comment="Current resident" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="cleanup_4" comment="Marked for special cleanup as unused load from unit block on disk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="calculated_insulation" comment="Insulation from clothing calculated" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="visitor_uninvited" comment="Uninvited guest" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="visitor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="calculated_inventory" comment="Inventory order calculated" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_good" comment="Vision -- have good part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_damaged" comment="Vision -- have damaged part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_missing" comment="Vision -- have missing part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="breathing_good" comment="Breathing -- have good part" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="breathing_problem" comment="Breathing -- having a problem" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="roaming_wilderness_population_source" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="roaming_wilderness_population_source_not_a_map_feature" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_flags3" base-type="uint32_t">
        <ld:field name="body_part_relsize_computed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="size_modifier_computed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stuck_weapon_computed" comment="cleared if removing StuckIn item to recompute wound flags." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="compute_health" comment="causes the health structure to be created or updated" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="announce_titan" comment="Announces creature like an FB or titan." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk5" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="on_crutch" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="weight_computed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="body_temp_in_range" comment="Is set to 1 every tick for non-dead creatures." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="wait_until_reveal" comment="Blocks all kind of things until tile is revealed." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="scuttle" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1">
            <comment>
                Scuttle creature: causes creature to be killed, leaving a behind
                corpse and generating negative thoughts like a real kill.
            </comment>
        </ld:field>
        <ld:field name="unk11" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="ghostly" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk13" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk14" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk15" comment="dropped when znew &gt;= zold" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="unk16" comment="something to do with werewolves?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="no_meandering" comment="for active_invaders" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="floundering" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="exit_vehicle1" comment="trapavoid" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="exit_vehicle2" comment="trapavoid" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dangerous_terrain" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk22" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="unk23" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="personality_facet_type">
        <enum-item name="ANXIETY"/>
        <enum-item name="ANGER"/>
        <enum-item name="DEPRESSION"/>
        <enum-item name="SELF_CONSCIOUSNESS"/>
        <enum-item name="IMMODERATION"/>
        <enum-item name="VULNERABILITY"/>
        <enum-item name="FRIENDLINESS"/>
        <enum-item name="GREGARIOUSNESS"/>
        <enum-item name="ASSERTIVENESS"/>
        <enum-item name="ACTIVITY_LEVEL"/>
        <enum-item name="EXCITEMENT_SEEKING"/>
        <enum-item name="CHEERFULNESS"/>
        <enum-item name="IMAGINATION"/>
        <enum-item name="ARTISTIC_INTEREST"/>
        <enum-item name="EMOTIONALITY"/>
        <enum-item name="ADVENTUROUSNESS"/>
        <enum-item name="INTELLECTUAL_CURIOSITY"/>
        <enum-item name="LIBERALISM"/>
        <enum-item name="TRUST"/>
        <enum-item name="STRAIGHTFORWARDNESS"/>
        <enum-item name="ALTRUISM"/>
        <enum-item name="COOPERATION"/>
        <enum-item name="MODESTY"/>
        <enum-item name="SYMPATHY"/>
        <enum-item name="SELF_EFFICACY"/>
        <enum-item name="ORDERLINESS"/>
        <enum-item name="DUTIFULNESS"/>
        <enum-item name="ACHIEVEMENT_STRIVING"/>
        <enum-item name="SELF_DISCIPLINE"/>
        <enum-item name="CAUTIOUSNESS"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="physical_attribute_type">
        <enum-item name="STRENGTH"/>
        <enum-item name="AGILITY"/>
        <enum-item name="TOUGHNESS"/>
        <enum-item name="ENDURANCE"/>
        <enum-item name="RECUPERATION"/>
        <enum-item name="DISEASE_RESISTANCE"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="mental_attribute_type">
        <enum-item name="ANALYTICAL_ABILITY"/>
        <enum-item name="FOCUS"/>
        <enum-item name="WILLPOWER"/>
        <enum-item name="CREATIVITY"/>
        <enum-item name="INTUITION"/>
        <enum-item name="PATIENCE"/>
        <enum-item name="MEMORY"/>
        <enum-item name="LINGUISTIC_ABILITY"/>
        <enum-item name="SPATIAL_SENSE"/>
        <enum-item name="MUSICALITY"/>
        <enum-item name="KINESTHETIC_SENSE"/>
        <enum-item name="EMPATHY"/>
        <enum-item name="SOCIAL_AWARENESS"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="mood_type" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="Fey"/>
        <enum-item name="Secretive"/>
        <enum-item name="Possessed"/>
        <enum-item name="Macabre"/>
        <enum-item name="Fell"/>
        <enum-item name="Melancholy"/>
        <enum-item name="Raving"/>
        <enum-item name="Berserk"/>
        <enum-item name="Baby"/>
        <enum-item name="Traumatized"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ghost_type" base-type="int16_t">
        <enum-item name="MurderousGhost"/>
        <enum-item name="SadisticGhost"/>
        <enum-item name="SecretivePoltergeist"/>
        <enum-item name="EnergeticPoltergeist"/>
        <enum-item name="AngryGhost"/>
        <enum-item name="ViolentGhost"/>
        <enum-item name="MoaningSpirit"/>
        <enum-item name="HowlingSpirit"/>
        <enum-item name="TroublesomePoltergeist"/>
        <enum-item name="RestlessHaunt"/>
        <enum-item name="ForlornHaunt"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="animal_training_level" base-type="int32_t">
        <enum-item name="SemiWild"/>
        <enum-item name="Trained"/>
        <enum-item name="WellTrained"/>
        <enum-item name="SkilfullyTrained"/>
        <enum-item name="ExpertlyTrained"/>
        <enum-item name="ExceptionallyTrained"/>
        <enum-item name="MasterfullyTrained"/>
        <enum-item name="Domesticated"/>
        <enum-item name="Unk8"/>
        <enum-item name="WildUntamed" comment="Seems to be used as default when not flags1.tame"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_report_type" base-type="int16_t">
        <enum-item name="Combat"/>
        <enum-item name="Sparring"/>
        <enum-item name="Hunting"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="skill_rating" base-type="int32_t">
        <enum-attr name="xp_threshold" type-name="uint32_t"/>
        <enum-attr name="caption"/>

        <enum-item name="Dabbling">
            <item-attr name="xp_threshold" value="500"/>
            <item-attr name="caption" value="Dabbling"/>
        </enum-item>
        <enum-item name="Novice">
            <item-attr name="xp_threshold" value="600"/>
            <item-attr name="caption" value="Novice"/>
        </enum-item>
        <enum-item name="Adequate">
            <item-attr name="xp_threshold" value="700"/>
            <item-attr name="caption" value="Adequate"/>
        </enum-item>
        <enum-item name="Competent">
            <item-attr name="xp_threshold" value="800"/>
            <item-attr name="caption" value="Competent"/>
        </enum-item>
        <enum-item name="Skilled">
            <item-attr name="xp_threshold" value="900"/>
            <item-attr name="caption" value="Skilled"/>
        </enum-item>
        <enum-item name="Proficient">
            <item-attr name="xp_threshold" value="1000"/>
            <item-attr name="caption" value="Proficient"/>
        </enum-item>
        <enum-item name="Talented">
            <item-attr name="xp_threshold" value="1100"/>
            <item-attr name="caption" value="Talented"/>
        </enum-item>
        <enum-item name="Adept">
            <item-attr name="xp_threshold" value="1200"/>
            <item-attr name="caption" value="Adept"/>
        </enum-item>
        <enum-item name="Expert">
            <item-attr name="xp_threshold" value="1300"/>
            <item-attr name="caption" value="Expert"/>
        </enum-item>
        <enum-item name="Professional">
            <item-attr name="xp_threshold" value="1400"/>
            <item-attr name="caption" value="Professional"/>
        </enum-item>
        <enum-item name="Accomplished">
            <item-attr name="xp_threshold" value="1500"/>
            <item-attr name="caption" value="Accomplished"/>
        </enum-item>
        <enum-item name="Great">
            <item-attr name="xp_threshold" value="1600"/>
            <item-attr name="caption" value="Great"/>
        </enum-item>
        <enum-item name="Master">
            <item-attr name="xp_threshold" value="1700"/>
            <item-attr name="caption" value="Master"/>
        </enum-item>
        <enum-item name="HighMaster">
            <item-attr name="xp_threshold" value="1800"/>
            <item-attr name="caption" value="High Master"/>
        </enum-item>
        <enum-item name="GrandMaster">
            <item-attr name="xp_threshold" value="1900"/>
            <item-attr name="caption" value="Grand Master"/>
        </enum-item>
        <enum-item name="Legendary">
            <item-attr name="xp_threshold" value="2000"/>
            <item-attr name="caption" value="Legendary"/>
        </enum-item>
        <enum-item name="Legendary1">
            <item-attr name="xp_threshold" value="2100"/>
            <item-attr name="caption" value="Legendary+1"/>
        </enum-item>
        <enum-item name="Legendary2">
            <item-attr name="xp_threshold" value="2200"/>
            <item-attr name="caption" value="Legendary+2"/>
        </enum-item>
        <enum-item name="Legendary3">
            <item-attr name="xp_threshold" value="2300"/>
            <item-attr name="caption" value="Legendary+3"/>
        </enum-item>
        <enum-item name="Legendary4">
            <item-attr name="xp_threshold" value="2400"/>
            <item-attr name="caption" value="Legendary+4"/>
        </enum-item>
        <enum-item name="Legendary5">
            <item-attr name="caption" value="Legendary+5"/>
        </enum-item>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="unit_relationship_type" base-type="int16_t" comment="Used in unit.relations">
        <enum-item name="Pet"/>
        <enum-item name="Spouse"/>
        <enum-item name="Mother"/>
        <enum-item name="Father"/>
        <enum-item name="LastAttacker"/>
        <enum-item name="GroupLeader"/>
        <enum-item name="Dragee"/>
        <enum-item name="Dragger"/>
        <enum-item name="RiderMount"/>
        <enum-item name="Lover"/>
        <enum-item name="unk10"/>
        <enum-item name="unk11"/>
        <enum-item name="Child"/>
        <enum-item name="Friend"/>
        <enum-item name="Grudge"/>
        <enum-item name="Worship"/>
        <enum-item name="AcquaintanceLong"/>
        <enum-item name="AcquaintancePassing"/>
        <enum-item name="Bonded"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit" key-field="id" instance-vector="$global.world.units.all">
        <ld:field type-name="language_name" name="name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (awhen (find-creature $.race)
            (fmt "~:(~A ~A~)" $it.caste[$.caste].caste_id $it.creature_id))
        </code-helper>

        <ld:field name="custom_profession" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="profession" type-name="profession" init-value="STANDARD" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="profession2" type-name="profession" init-value="STANDARD" ld:level="1" ld:meta="global"/>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="idle_area" type-name="coord" ld:level="1" ld:meta="global">
            <comment>
                E.g. for a dead miner, holds the place where he
                was likely hanging around when he got the command
                to mine in an aquifer.
            </comment>
        </ld:field>
        <ld:field name="idle_area_threshold" init-value="3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="idle_area_type" type-name="unit_station_type" ld:level="1" ld:meta="global"/>

        <ld:field name="follow_distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="path" ld:level="1" ld:meta="compound" ld:typedef-name="T_path">
            <ld:field name="dest" type-name="coord" ld:level="2" ld:meta="global"/>

            <ld:field ld:subtype="enum" base-type="int16_t" name="goal" type-name="unit_path_goal" ld:level="2" ld:meta="global"/>

            <ld:field name="path" type-name="coord_path" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="flags1" type-name="unit_flags1" ld:level="1" ld:meta="global"/>
        <ld:field name="flags2" type-name="unit_flags2" ld:level="1" ld:meta="global"/>
        <ld:field name="flags3" type-name="unit_flags3" ld:level="1" ld:meta="global"/>

        <ld:field name="meeting" ld:level="1" ld:meta="compound" ld:typedef-name="T_meeting">
            <ld:field ld:subtype="enum" name="state" base-type="int8_t" ld:level="2" ld:meta="compound" ld:typedef-name="T_state">
                <enum-item name="SelectNoble" value="0"/>
                <enum-item name="FollowNoble" value="1"/>
                <enum-item name="DoMeeting" value="2"/>
                <enum-item name="LeaveMap" value="3"/>
            </ld:field>
            <ld:field name="target_entity" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:subtype="enum" name="target_role" type-name="entity_position_responsibility" base-type="int16_t" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
            <ld:field size="2" ld:level="2" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>
        </ld:field>

        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="sex" init-value="-1" comment="-1 n/a, 0 female, 1 male" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_100" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:subtype="enum" name="training_level" base-type="int32_t" type-name="animal_training_level" init-value="WildUntamed" ld:level="1" ld:meta="global"/>
        <ld:field name="schedule_id" ref-target="schedule_info" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="population_id" ref-target="entity_population" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_c0" comment="v0.34.01" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="invasion_id" ref-target="invasion_info" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="patrol_route" type-name="coord_path" comment="used by necromancers for corpse locations, siegers etc" ld:level="1" ld:meta="global"/>
        <ld:field name="patrol_index" comment="from 23a" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="specific_refs" pointer-type="specific_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="specific_ref"><ld:item ld:level="3" ld:meta="global" type-name="specific_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="general_refs" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>

        <ld:field name="military" ld:level="1" ld:meta="compound" ld:typedef-name="T_military">
            <ld:field name="squad_id" ref-target="squad" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="squad_position" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="patrol_cooldown" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="patrol_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="cur_uniform" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_items" type-name="int32_t" ref-target="item" comment="v0.34.06" ld:is-container="true"><ld:item ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="uniforms" count="4" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>

            <ld:field ld:subtype="bitfield" name="pickup_flags" ld:level="2" ld:meta="compound" ld:typedef-name="T_pickup_flags">
                <ld:field name="update" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="uniform_pickup" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="uniform_drop" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="individual_drills" type-name="int32_t" ref-target="activity_entry" ld:is-container="true"><ld:item ref-target="activity_entry" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="animal" ld:level="1" ld:meta="compound" ld:typedef-name="T_animal">
            <ld:field name="population" type-name="world_population_ref" ld:level="2" ld:meta="global"/>

            <ld:field name="leave_countdown" comment="once 0, it heads for the edge and leaves" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="vanish_countdown" comment="once 0, it vanishes in a puff of smoke" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field ld:subtype="enum" base-type="int16_t" name="mood" type-name="mood_type" init-value="None" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_18e" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="relations" ld:level="1" ld:meta="compound" ld:typedef-name="T_relations">
            <ld:field name="pregnancy_timer" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" name="pregnancy_genes" type-name="unit_genes" comment="genes from mate" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_genes"/></ld:field>
            <ld:field name="pregnancy_caste" init-value="-1" comment="caste of mate" ref-target="caste_raw" aux-value="$$._global.race" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:subtype="enum" base-type="int16_t" name="mood_copy" type-name="mood_type" init-value="None" comment="copied from mood type upon entering strange mood" ld:level="2" ld:meta="global"/>
            <ld:field ld:level="2" ld:meta="pointer" name="ghost_info" type-name="unit_ghost_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_ghost_info"/></ld:field>

            <ld:field init-value="-1" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

            <ld:field name="birth_year" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="birth_time" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="curse_year" init-value="-1" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="curse_time" init-value="-1" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="birth_year_bias" init-value="0" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="birth_time_bias" init-value="0" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="old_year" init-value="-1" comment="could there be a death of old age time??" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="old_time" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="following" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field name="unk_238" comment="invalid unless following" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>


            This should be a static-array, size 10, with index-enum unit_relationship_type; will likely need to fix plugins and scripts
            <ld:field name="pet_owner_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="spouse_id" ref-target="unit" comment="not used in relationship screen.." ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="mother_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="father_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="last_attacker_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="group_leader_id" ref-target="unit" comment="used by goblins, adv mode companions etc" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="draggee_id" ref-target="unit" comment="unit being dragged by this one" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="dragger_id" ref-target="unit" comment="unit that drags this one" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="rider_mount_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="lover_id" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="mount_type" comment="0 = riding, 1 = being carried, 2/3 = wagon horses, 4 = wagon merchant" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="last_hit" type-name="history_hit_item" ld:level="1" ld:meta="global"/>

        <ld:field name="riding_item_id" ref-target="item" comment="v0.34.08" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inventory" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_inventory_item"><ld:item ld:level="3" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="owned_items" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="traded_items" comment="items brought to trade depot" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="owned_buildings" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="corpse_parts" comment="entries remain even when items are destroyed" type-name="int32_t" ref-target="item" ld:is-container="true"><ld:item ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="job" ld:level="1" ld:meta="compound" ld:typedef-name="T_job">
            <ld:field name="account" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="satisfaction" comment="amount earned recently for jobs" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="pointer" type-name="unit" name="hunt_target" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" type-name="building" name="destroy_target" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:field>
            <ld:field name="last_attack_dir" type-name="coord2d" ld:level="2" ld:meta="global"/>
            <ld:field name="unk_2ec" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/> reset to 0 together with x,y on job_counter reroll, so maybe z
            <ld:field name="siege_morale" init-value="100" comment="guess" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="morale_recovery_timer" comment="0-1000" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="pointer" comment="df_job" name="current_job" type-name="job" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:field>
            <ld:field ld:subtype="enum" base-type="int16_t" type-name="job_skill" name="mood_skill" ld:level="2" ld:meta="global"/>
            <ld:field name="unk_2fc" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/> in advmode, lets non-player unit have job_counter update if nonzero
            <ld:field name="mood_timeout" comment="counts down from 50000, insanity upon reaching zero" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_304" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        </ld:field>

        <ld:field name="body" ld:level="1" ld:meta="compound" ld:typedef-name="T_body">
            <ld:field name="components" type-name="body_component_info" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wounds" pointer-type="unit_wound" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_wound"><ld:item ld:level="4" ld:meta="global" type-name="unit_wound"/></ld:item></ld:field>
            <ld:field name="wound_next_id" init-value="1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" name="unk_39c" count="10" ld:is-container="true">
                <ld:item init-value="-1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:field>

            <ld:field ld:level="2" ld:meta="pointer" name="body_plan" type-name="caste_body_info" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="caste_body_info"/></ld:field>

            <ld:field name="weapon_bp" refers-to="$$._parent.body_plan.body_parts[$]" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:level="2" ld:meta="static-array" type-name="unit_attribute" name="physical_attrs" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_attribute"/></ld:field>

            <ld:field name="size_info" type-name="body_size_info" ld:level="2" ld:meta="global"/>

            <ld:field name="blood_max" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="blood_count" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field name="infection_level" comment="GETS_INFECTIONS_FROM_ROT sets; DISEASE_RESISTANCE reduces; &gt;=300 causes bleeding" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="spatters" pointer-type="unit_spatter" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_spatter"><ld:item ld:level="4" ld:meta="global" type-name="unit_spatter"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="appearance" ld:level="1" ld:meta="compound" ld:typedef-name="T_appearance">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_modifiers" type-name="int32_t" index-refers-to="$$._global.caste.ref-target.body_appearance_modifiers[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bp_modifiers" type-name="int32_t" index-refers-to="$$._global.caste.ref-target.bp_appearance.modifier_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="size_modifier" comment="product of all H/B/LENGTH body modifiers, in %" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            -- Something for bp_appearance.layers_*
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="tissue_style" index-refers-to="$$._global.caste.ref-target.bp_appearance.style_layer_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="tissue_style_civ_id" ref-target="historical_entity" index-refers-to="$$._parent.tissue_style.index-refers-to[$]" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="tissue_style_id" ref-target="entity_tissue_style" aux-value="$$._parent.tissue_style_civ_id[$._key]" index-refers-to="$$._parent.tissue_style.index-refers-to[$]" ld:is-container="true"><ld:item ref-target="entity_tissue_style" aux-value="$$._parent.tissue_style_civ_id[$._key]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="tissue_style_type" refers-to="(find-by-id $$._global.caste.ref-target.tissue_styles $id $)" index-refers-to="$$._parent.tissue_style.index-refers-to[$]" ld:is-container="true"><ld:item refers-to="(find-by-id $$._global.caste.ref-target.tissue_styles $id $)" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="tissue_length" index-refers-to="$$._parent.tissue_style.index-refers-to[$]" comment="description uses bp_modifiers[style_list_idx[index]]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="genes" type-name="unit_genes" ld:level="2" ld:meta="global"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="colors" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="counters" ld:level="1" ld:meta="compound" ld:typedef-name="T_counters">
            <ld:field name="think_counter" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> // 53c decrements every job_counter reroll, set when changing jobs
            <ld:field name="job_counter" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> // 540 current_job unit/walk done when reach -1, decremented every tick
            <ld:field name="swap_counter" comment="dec per job_counter reroll, can_swap if 0" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:subtype="enum" name="death_cause" base-type="int16_t" type-name="death_type" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
            <ld:field name="death_id" ref-target="death_info" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="winded" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="stunned" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> // 54c decrements every tick, unstun at 0
            <ld:field name="unconscious" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="suffocation" comment="counts up while winded, results in death" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="webbed" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            -- When gutted:
            <ld:field name="guts_trail1" type-name="coord" ld:level="2" ld:meta="global"/>
            <ld:field name="guts_trail2" type-name="coord" ld:level="2" ld:meta="global"/>

            <ld:field name="soldier_mood_countdown" init-value="300" comment="plus a random amount" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:subtype="enum" name="soldier_mood" base-type="int16_t" init-value="None" ld:level="2" ld:meta="compound" ld:typedef-name="T_soldier_mood">
                <enum-item name="None" value="-1"/>
                <enum-item name="MartialTrance"/>
                <enum-item name="Enranged"/>
                <enum-item name="Tantrum"/>
            </ld:field>

            <ld:field name="pain" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="nausea" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="dizziness" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        </ld:field>

        <ld:field name="curse" ld:level="1" ld:meta="compound" ld:typedef-name="T_curse">
            <ld:field name="add_tags1" type-name="cie_add_tag_mask1" ld:level="2" ld:meta="global"/>
            <ld:field name="rem_tags1" type-name="cie_add_tag_mask1" ld:level="2" ld:meta="global"/>
            <ld:field name="add_tags2" type-name="cie_add_tag_mask2" ld:level="2" ld:meta="global"/>
            <ld:field name="rem_tags2" type-name="cie_add_tag_mask2" ld:level="2" ld:meta="global"/>

            <ld:field name="name_visible" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="name" comment="v0.34.01" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="name_plural" comment="v0.34.01" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="name_adjective" comment="v0.34.01" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>

            <ld:field name="sym_and_color1" comment="v0.34.01" init-value="0x400" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="sym_and_color2" comment="v0.34.01" init-value="0x400" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="flash_period" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="flash_time2" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_appearance" type-name="int32_t" index-refers-to="$$._global.caste.ref-target.body_appearance_modifiers[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bp_appearance" type-name="int32_t" comment="v0.34.01; guess!" index-refers-to="$$._global.caste.ref-target.bp_appearance.modifier_idx[$].refers-to" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="speed_add" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="speed_mul_percent" comment="v0.34.01" init-value="100" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="pointer" name="attr_change" type-name="curse_attr_change" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="curse_attr_change"/></ld:field>
            <ld:field name="luck_mul_percent" comment="v0.34.01" init-value="100" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interaction_id" type-name="int32_t" comment="v0.34.01" ref-target="creature_interaction_effect" ld:is-container="true"><ld:item ref-target="creature_interaction_effect" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interaction_time" type-name="int32_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interaction_delay" type-name="int32_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="time_on_site" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="own_interaction" type-name="int32_t" comment="v0.34.01" refers-to="$$._global.body.body_plan.interactions[$]" ld:is-container="true"><ld:item refers-to="$$._global.body.body_plan.interactions[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="own_interaction_delay" type-name="int32_t" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="counters2" ld:level="1" ld:meta="compound" ld:typedef-name="T_counters2">
            <ld:field name="paralysis" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="numbness" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="fever" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="exhaustion" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field name="hunger_timer" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="thirst_timer" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="sleepiness_timer" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field name="stomach_content" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="stomach_food" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="vomit_timeout" comment="blocks nausea causing vomit" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field name="stored_fat" comment="hunger leads to death only when 0" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
            <ld:field name="undead_hitpoints" comment="collapses once &gt;= area_cur" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        </ld:field>

        <ld:field name="status" ld:level="1" ld:meta="compound" ld:typedef-name="T_status">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="misc_traits" pointer-type="unit_misc_trait" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_misc_trait"><ld:item ld:level="4" ld:meta="global" type-name="unit_misc_trait"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="pointer" name="eat_history" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_eat_history">
                <ld:field name="food" ld:level="3" ld:meta="compound" ld:typedef-name="T_food">
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
                        <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="5" ld:meta="global"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_subtype" type-name="int16_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                    <ld:field name="material" type-name="material_vec_ref" ld:level="4" ld:meta="global"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="year_time" type-name="int32_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                </ld:field>
                <ld:field name="drink" ld:level="3" ld:meta="compound" ld:typedef-name="T_drink">
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
                        <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="5" ld:meta="global"/>
                    </ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="item_subtype" type-name="int16_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                    <ld:field name="material" type-name="material_vec_ref" ld:level="4" ld:meta="global"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="year" type-name="int32_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="year_time" type-name="int32_t" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                </ld:field>
            </ld:item>
                
                
            </ld:field>

            <ld:field name="demand_timeout" init-value="1000" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="mandate_timeout" init-value="1000" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="attacker_ids" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="attacker_cntdn" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="face_direction" comment="for wagons" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

            <ld:field type-name="language_name" name="artifact_name" ld:level="2" ld:meta="global"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="souls" pointer-type="unit_soul" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_soul"><ld:item ld:level="4" ld:meta="global" type-name="unit_soul"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="current_soul" type-name="unit_soul" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit_soul"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="demands" pointer-type="unit_demand" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_demand"><ld:item ld:level="4" ld:meta="global" type-name="unit_demand"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="labors" index-enum="unit_labor" count="94" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="wrestle_items" pointer-type="unit_item_wrestle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_item_wrestle"><ld:item ld:level="4" ld:meta="global" type-name="unit_item_wrestle"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="observed_traps" type-name="int32_t" ref-target="building" ld:is-container="true"><ld:item ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="recent_events" pointer-type="unit_thought" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_thought"><ld:item ld:level="4" ld:meta="global" type-name="unit_thought"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="dreams" pointer-type="unit_thought" comment="moved into recent_events upon waking up" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_thought"><ld:item ld:level="4" ld:meta="global" type-name="unit_thought"/></ld:item></ld:field>

            <ld:field name="happiness" init-value="100" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="insanity_chance" comment="increases gradually when miserable" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>


            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="complaints" pointer-type="unit_complaint" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_complaint"><ld:item ld:level="4" ld:meta="global" type-name="unit_complaint"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="requests" pointer-type="unit_request" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_request"><ld:item ld:level="4" ld:meta="global" type-name="unit_request"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="acquaintances" pointer-type="unit_acquaintance" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_acquaintance"><ld:item ld:level="4" ld:meta="global" type-name="unit_acquaintance"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="coin_debts" pointer-type="unit_coin_debt" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_coin_debt"><ld:item ld:level="4" ld:meta="global" type-name="unit_coin_debt"/></ld:item></ld:field>

            <ld:field name="adv_sleep_timer" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            -- average of the following vector
            <ld:field name="recent_job_area" type-name="coord" ld:level="2" ld:meta="global"/>

            -- up to 50 locations where jobs were performed recently by the unit
            <ld:field name="recent_jobs" type-name="coord_path" ld:level="2" ld:meta="global"/>
        </ld:field>

        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hist_figure_id2" ref-target="historical_figure" comment="used for ghost in AttackedByDead thought" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="status2" ld:level="1" ld:meta="compound" ld:typedef-name="T_status2">
            <ld:field name="limbs_stand_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_stand_count" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_grasp_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_grasp_count" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_fly_max" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="limbs_fly_count" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_temperature" pointer-type="temperaturest" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="temperaturest"><ld:item ld:level="4" ld:meta="global" type-name="temperaturest"/></ld:item></ld:field>

            <ld:field name="add_path_flags" comment="pathing flags to OR, set to 0 after move" ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

            <ld:field type-name="tile_designation" name="liquid_type" ld:level="2" ld:meta="global"/>
            <ld:field name="liquid_depth" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

            <ld:field name="unk_7c0" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="unknown7" ld:level="1" ld:meta="compound" ld:typedef-name="T_unknown7">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_7c4" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_1"/>
        </ld:field>

        <ld:field name="syndromes" ld:level="1" ld:meta="compound" ld:typedef-name="T_syndromes">
            -- Sorted by type:
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="active" pointer-type="unit_syndrome" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit_syndrome"><ld:item ld:level="4" ld:meta="global" type-name="unit_syndrome"/></ld:item></ld:field>

            -- Seems to be incremented every new infection:
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="reinfection_type" type-name="int32_t" ref-target="syndrome" ld:is-container="true"><ld:item ref-target="syndrome" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="reinfection_count" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field name="reports" ld:level="1" ld:meta="compound" ld:typedef-name="T_reports">
            <ld:field ld:level="2" ld:meta="static-array" name="log" count="3" index-enum="unit_report_type" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ref-target="report" ld:is-container="true"><ld:item ref-target="report" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
            </ld:field>

            -- Garbage when the matching vector is empty:
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="last_year" count="3" index-enum="unit_report_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="last_year_tick" count="3" index-enum="unit_report_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="health" type-name="unit_health_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit_health_info"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="used_items" pointer-type="unit_item_use" comment="Contains worn clothes, armor, weapons, arrows fired by archers" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_item_use"><ld:item ld:level="3" ld:meta="global" type-name="unit_item_use"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="adventurer_knows" comment="if not, no names" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="enemy" ld:level="1" ld:meta="compound" ld:typedef-name="T_enemy">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="sound_cooldown" type-name="int32_t" comment="v0.34.01" index-refers-to="$$._global.caste.ref-target.sound[$]" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field ld:level="2" ld:meta="pointer" name="undead" comment="v0.34.01" ld:is-container="true">
                <ld:item ld:anon-compound="true" ld:level="3" ld:meta="compound" ld:typedef-name="T_undead">
                    <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                    <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                    <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                    <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                    <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                    <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
                    <ld:field ld:level="3" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_7"/>
                </ld:item>
            </ld:field>
            <ld:field name="were_race" ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="were_caste" ref-target="caste_raw" aux-value="$$.were_race" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="normal_race" ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="normal_caste" ref-target="caste_raw" aux-value="$$.normal_race" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="interaction" refers-to="$$._global.body.body_plan.interactions[$]" comment="v0.34.01" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_850" ld:is-container="true"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="witness_reports" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_witness_reports">
                    <ld:field name="death_id" ref-target="death_info" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="crime_id" ref-target="criminal_case" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="unk1" comment="0 accuses, 1 corpse" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="year" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="year_tick" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="unk2" comment="bit 0 accuses" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                </ld:item>
                    
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>

            <ld:field name="enemy_status_slot" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_874_cntr" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> // age ? incremented every tick

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_878" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_888" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field> 0 blocks pains, nausea
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_relsize" type-name="int32_t" comment="with modifiers" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_8a8" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_base_ins" type-name="uint16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_clothing_ins" type-name="uint16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="body_part_8d8" type-name="uint16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_8e8" ld:is-container="true"/> // items ids?

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="uint16_t" name="unk_8f8" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field> // same size as 8e8, soldier related?
        </ld:field>

        <ld:field name="recuperation" ld:level="1" ld:meta="compound" ld:typedef-name="T_recuperation">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="healing_rate" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            <ld:field name="effective_rate" init-value="-1" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="tendons_heal" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="ligaments_heal" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="weight_fraction" comment="1e-6" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="burrows" type-name="int32_t" ref-target="burrow" ld:is-container="true"><ld:item ref-target="burrow" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="combat_side_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="ghost_goal" base-type="int16_t">
        <enum-item name="None" value="-1"/>
        <enum-item name="ScareToDeath"/>
        <enum-item name="Stun"/>
        <enum-item name="Batter"/>
        <enum-item name="Possess"/>
        <enum-item name="MisplaceItem"/>
        <enum-item name="Haunt"/>
        <enum-item name="Torment"/>
        <enum-item name="ToppleBuilding"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_ghost_info">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="ghost_type" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="type2" type-name="ghost_type" comment="seems to have same value as type" ld:level="1" ld:meta="global"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="goal" type-name="ghost_goal" ld:level="1" ld:meta="global"/>

        <ld:field name="target" is-union="true" ld:level="1" ld:meta="compound" ld:typedef-name="T_target" ld:in-union="true">
            <ld:field name="unit" ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="item" ref-target="item" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="building" ref-target="building" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="misplace_pos" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field name="action_timer" init-value="403200" comment="time since last action" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_18" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="announced" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="was_at_rest" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="death_x" comment="in tiles, global to world" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="death_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="death_z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_genes">
        
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-array" name="appearance" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-array" name="colors" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_inventory_item">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <code-helper name="describe">$.mode (describe-obj $.item)</code-helper>

        <ld:field ld:subtype="enum" base-type="int16_t" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="Hauled"/>
            <enum-item name="Weapon" comment="also shield, crutch"/>
            <enum-item name="Worn" comment="quiver"/>
            <enum-item name="Piercing"/>
            <enum-item name="Flask" comment="attached to clothing"/>
            <enum-item name="WrappedAround" comment="e.g. bandage"/>
            <enum-item name="StuckIn"/>
            <enum-item name="InMouth" comment="string descr like Worn"/>
            <enum-item name="Pet" comment="Left shoulder, right shoulder, or head, selected randomly using pet_seed"/>
            <enum-item name="SewnInto"/>
        </ld:field>

        <ld:field name="body_part_id" refers-to="$$._global._parent._global.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="pet_seed" comment="RNG seed for Pet mode" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="wound_id" init-value="-1" comment="-1 unless suture" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_spatter">
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" type-name="matter_state" base-type="int16_t" name="mat_state" ld:level="1" ld:meta="global"/>
        <ld:field name="temperature" type-name="temperaturest" ld:level="1" ld:meta="global"/>

        <ld:field name="size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="body_part_id" refers-to="$$._global._parent._global.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_16" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_attribute">
        <ld:field name="value" comment="effective = value - soft_demotion" init-value="1000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_value" init-value="2000" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="improve_counter" comment="counts to PHYS_ATT_RATES improve cost; then value++" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unused_counter" comment="counts to PHYS_ATT_RATES unused rate; then rust_counter++" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="soft_demotion" comment="0-100; when not 0 blocks improve_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rust_counter" comment="counts to PHYS_ATT_RATES rust; then demotion_counter++" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="demotion_counter" comment="counts to PHYS_ATT_RATES demotion; then value--; soft_demotion++" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_syndrome" key-field="type">
        <ld:field name="type" ref-target="syndrome" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="year_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="ticks" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="wounds" type-name="int32_t" comment="refers to unit_wound by id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="wound_id" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="symptoms" index-refers-to="$$._global.type.ref-target.ce[$]" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_symptoms">
                <ld:field name="quantity" comment="from spatter size" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="delay" comment="for SIZE_DELAYS" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="ticks" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                -- When not cie.isUntargeted():
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="target_bp" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="target_layer" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="target_quantity" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="target_delay" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="target_ticks" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:subtype="bitfield" name="flags" ld:level="3" ld:meta="compound" ld:typedef-name="T_flags">
                    <ld:field name="disabled" comment="if PROB roll fails, or all symptoms expire" ld:level="4" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                    <ld:field name="active" ld:level="4" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                </ld:field>
            </ld:item>
                
                
                
                -- When not cie.isUntargeted():
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="reinfection_count" comment="set from unit.reinfection_count[i]++" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            cause rq_diagnosis:
            <ld:field name="is_sick" comment="causes health.flags.needs_healthcare" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="is_sick_low" comment="less sick? fever: 5-19 low, 20-* full" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            prevent rq_diagnosis or needs_healthcare:
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk4" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="wound_effect_type" base-type="int16_t">
        <enum-item name="Bruise"/>
        <enum-item name="Burn"/>
        <enum-item name="Frostbite"/>
        <enum-item/>
        <enum-item name="Melting"/>
        <enum-item/>
        <enum-item name="Freezing"/>
        <enum-item/>
        <enum-item name="Necrosis"/>
        <enum-item name="Blister"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="wound_damage_flags1">
        <ld:field name="cut" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="smashed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="scar_cut" comment="straight scar" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="scar_smashed" comment="huge dent" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="tendon_bruised" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tendon_strained" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tendon_torn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ligament_bruised" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="ligament_sprained" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ligament_torn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="motor_nerve_severed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sensory_nerve_severed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="edged_damage" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="smashed_apart" comment="?" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="major_artery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="guts_spilled" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="edged_shake1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="scar_edged_shake1" comment="jagged scar" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="edged_shake2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="broken" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="scar_broken" comment="huge dent" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="gouged" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blunt_shake1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="scar_blunt_shake1" comment="jagged scar" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="blunt_shake2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="joint_bend1" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="scar_joint_bend1" comment="jagged scar" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="joint_bend2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="compound_fracture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="diagnosed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="artery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="overlapping_fracture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="wound_damage_flags2">
        <ld:field name="needs_setting" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="entire_surface" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_wound" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="parts" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_parts">
                <ld:field name="global_layer_idx" refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="body_part_id" refers-to="$$._global._upglobal.caste.ref-target.body_info.body_parts[$]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="layer_idx" refers-to="$$._parent.body_part_id.refers-to.layers[$]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

                Contact area of the wound. Is initially the lesser of the weapon or body
                part contact areas. It grows with cumulative hits. Body parts and non-weapon
                items have contact=(size/10)^(2/3).
                <ld:field name="contact_area" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="surface_perc" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

                This is strain. For skin/muscle/fat it is usually around 50000, and for
                bone 100-113. This number heals over time towards 0. A wound that only
                has strain is called "dented".
                <ld:field name="strain" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="effect_perc1" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="effect_perc2" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="effect_type" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="wound_effect_type" ld:level="4" ld:meta="global"/>
                </ld:field>

                A random percentage from 0-100, only for edged damage cases. Otherwise 0.
                Values above 50 turn straight_scar description into curving scar.
                <ld:field name="edged_curve_perc" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

                <ld:field name="flags1" type-name="wound_damage_flags1" ld:level="3" ld:meta="global"/>
                <ld:field name="flags2" type-name="wound_damage_flags2" ld:level="3" ld:meta="global"/>

                <ld:field name="bleeding" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="pain" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="nausea" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dizziness" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="paralysis" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="numbness" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="swelling" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="impaired" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                This 0-100 percentage is related to cumulative damage. In cases where
                multiple axe hacks are necessary for severing a limb, it must reach 100
                before severing occurs. In cases where a weapon can't completely penetrate
                a tissue, it is related to the weapon's penetration number. This percentage
                heals towards 0 over time.
                <ld:field name="cur_penetration_perc" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="max_penetration_perc" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

                <ld:field name="jammed_layer_idx" comment="in compound fracture" refers-to="$$._global._upglobal.caste.ref-target.body_info.layer_idx[$].refers-to" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                

                Contact area of the wound. Is initially the lesser of the weapon or body
                part contact areas. It grows with cumulative hits. Body parts and non-weapon
                items have contact=(size/10)^(2/3).
                
                

                This is strain. For skin/muscle/fat it is usually around 50000, and for
                bone 100-113. This number heals over time towards 0. A wound that only
                has strain is called "dented".
                

                
                
                

                A random percentage from 0-100, only for edged damage cases. Otherwise 0.
                Values above 50 turn straight_scar description into curving scar.
                

                
                

                
                
                
                
                
                
                
                

                This 0-100 percentage is related to cumulative damage. In cases where
                multiple axe hacks are necessary for severing a limb, it must reach 100
                before severing occurs. In cases where a weapon can't completely penetrate
                a tissue, it is related to the weapon's penetration number. This percentage
                heals towards 0 over time.
                
                

                
            </ld:item>
        </ld:field>

        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="hist_figure_id" ref-target="historical_figure" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="severed_part" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="mortal_wound" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="stuck_weapon" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="diagnosed" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="sutured" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="infection" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="syndrome_id" ref-target="syndrome" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="pain" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="nausea" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dizziness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="paralysis" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="numbness" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="fever" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="curse" type-name="wound_curse_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="wound_curse_info"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="curse_attr_change">
        <ld:field ld:level="1" ld:meta="static-array" name="phys_att_perc" type-name="int32_t" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="phys_att_add" type-name="int32_t" count="6" index-enum="physical_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="ment_att_perc" type-name="int32_t" count="13" index-enum="mental_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="ment_att_add" type-name="int32_t" count="13" index-enum="mental_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="wound_curse_info">
        <ld:field name="add_tags1" type-name="cie_add_tag_mask1" ld:level="1" ld:meta="global"/>
        <ld:field name="rem_tags1" type-name="cie_add_tag_mask1" ld:level="1" ld:meta="global"/>
        <ld:field name="add_tags2" type-name="cie_add_tag_mask2" ld:level="1" ld:meta="global"/>
        <ld:field name="rem_tags2" type-name="cie_add_tag_mask2" ld:level="1" ld:meta="global"/>

        <ld:field name="name_visible" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_plural" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="name_adjective" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>

        <ld:field name="sym_and_color1" init-value="0x400" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="sym_and_color2" init-value="0x400" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="flash_period" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="flash_time2" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="speed_add" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="speed_mul_percent" init-value="100" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" name="attr_change" type-name="curse_attr_change" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="curse_attr_change"/></ld:field>
        <ld:field name="luck_mul_percent" init-value="100" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="interaction_id" type-name="int32_t" ref-target="creature_interaction_effect" ld:is-container="true"><ld:item ref-target="creature_interaction_effect" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="interaction_time" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="time_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="were_race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="were_caste" ref-target="caste_raw" aux-value="$$.were_race" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_appearance" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bp_appearance" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" base-type="int16_t" type-name="misc_trait_type">
        <enum-attr name="tag"/>

        <enum-item name="RequestWaterCooldown"/> for thirsty patients
        <enum-item name="RequestFoodCooldown"/> for hungry patients
        <enum-item name="RequestRescueCooldown"/>
        <enum-item name="RequestHealthcareCooldown"/>
        <enum-item name="GetDrinkCooldown"/>
        <enum-item name="GetFoodCooldown"/>
        <enum-item name="CleanSelfCooldown"/>
        <enum-item name="Migrant"/>

        <enum-item name="RoomComplaint"/>
        <enum-item name="UnnamedResident" comment="upon reaching zero, resident creature gets named"/>
        <enum-item name="RentBedroomCooldown"/>
        <enum-item name="ClaimTrinketCooldown"/>
        <enum-item name="ClaimClothingCooldown"/>
        <enum-item name="WantsDrink">
            <item-attr name="tag" value="ALCOHOLIC"/>
        </enum-item>
        <enum-item name="LikesOutdoors">
            <item-attr name="tag" value="MOUNTAIN"/>
        </enum-item>
        <enum-item name="Hardened">
            <item-attr name="tag" value="COMBATHARDNESS"/>
        </enum-item>

        <enum-item name="TimeSinceBreak">
            <item-attr name="tag" value="TIME_SINCE_BREAK"/>
        </enum-item>
        <enum-item name="OnBreak">
            <item-attr name="tag" value="ON_BREAK"/>
        </enum-item>
        <enum-item name="PrepareToDie"/>
        <enum-item name="CaveAdapt">
            <item-attr name="tag" value="CAVE_ADAPT"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>

        <enum-item name="FollowUnitCooldown" comment="0-20, 200 on failed path"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="DangerousTerrainCooldown" comment="created at 200, blocks repath?"/>
        <enum-item name="Beaching" comment="triggered by BEACH_FREQUENCY"/>
        <enum-item name="IdleAreaCooldown"/>
        <enum-item/>

        <enum-item name="PartiedOut">
            <item-attr name="tag" value="PARTIED_OUT"/>
        </enum-item>
        <enum-item name="DiagnosePatientCooldown" comment="0-2000"/>
        <enum-item name="DressWoundCooldown"/>
        <enum-item name="CleanPatientCooldown"/>
        <enum-item name="SurgeryCooldown"/>
        <enum-item name="SutureCooldown"/>
        <enum-item name="SetBoneCooldown"/>
        <enum-item name="PlaceInTractionCooldown"/>

        <enum-item name="ApplyCastCooldown"/>
        <enum-item name="ImmobilizeBreakCooldown"/>
        <enum-item name="BringCrutchCooldown"/>
        <enum-item/>
        <enum-item name="MilkCounter">
            <item-attr name="tag" value="MILK_COUNTER"/>
        </enum-item>
        <enum-item name="HadDrill"/>
        <enum-item name="CompletedDrill"/>
        <enum-item name="EggSpent">
            <item-attr name="tag" value="EGG_SPENT"/>
        </enum-item>

        <enum-item name="GroundedAnimalAnger">
            <item-attr name="tag" value="GROUNDED_ANIMAL_ANGER"/>
        </enum-item>
        <enum-item/>
        <enum-item name="TimeSinceSuckedBlood">
            <item-attr name="tag" value="TIME_SINCE_SUCKED_BLOOD"/>
        </enum-item>
        <enum-item name="DrinkingBlood">
            <item-attr name="tag" value="DRINKING_BLOOD"/>
        </enum-item>
        <enum-item/>
        <enum-item/>
        <enum-item name="RevertWildTimer" comment="one trigger =&gt; --training_level"/>
        <enum-item/>

        <enum-item name="NoPantsAnger"/>
        <enum-item name="NoShirtAnger"/>
        <enum-item name="NoShoesAnger"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_misc_trait">
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="misc_trait_type" name="id" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">(fmt "id=~A value=~A" $.id $.value)</code-helper>

        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_acquaintance">
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="strength" comment="&gt;= 30 -&gt; long-term" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="timer" comment="+1 per 10 frames; limit at 1 year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="is_friend" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="is_grudge" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="is_bonded" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_thought">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="unit_thought_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="age" comment="+1 per frame" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="subtype" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="severity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_item_wrestle">
        <ld:field name="unit" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="self_bp" refers-to="$$._parent._upglobal.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="other_bp" refers-to="$$._parent.unit.ref-target.body.body_plan.body_parts[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_c" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item1" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item2" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1c" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_1e" comment="1 grabs, -1 grabbed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_20" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_item_use" key-field="id">
        <ld:field name="id" ref-target="item" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="time_in_use" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="has_grown_attached" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="affection_level" comment="min 50 for attached, 1000 for name" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_health_flags">
        <ld:field name="rq_diagnosis" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="needs_recovery" comment="needs diagnosis but cannot walk" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="needs_healthcare" comment="???; set when rq_diagnosis is, and not blocked by having a diagnosis" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_immobilize" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="rq_dressing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_cleaning" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_surgery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_suture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="rq_setting" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_traction" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_crutch" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        due to a field initialization bug, higher bits contain garbage
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="unit_bp_health_flags">
        <ld:field name="rq_immobilize" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_dressing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_cleaning" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_surgery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_suture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_setting" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_traction" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="inoperable_rot" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="needs_bandage" comment="used to remove once not needed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="needs_cast" comment="used to remove once not needed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_health_info">
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="flags" type-name="unit_health_flags" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_part_flags" type-name="unit_bp_health_flags" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit_bp_health_flags"/></ld:field>

        <ld:field name="unk_18_cntdn" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="immobilize_cntdn" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="dressing_cntdn" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="suture_cntdn" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="crutch_cntdn" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="op_history" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_op_history">
                <ld:field ld:subtype="enum" base-type="int16_t" name="job_type" type-name="job_type" ld:level="3" ld:meta="global"/>

                <ld:field name="info" is-union="true" ld:level="3" ld:meta="compound" ld:typedef-name="T_info" ld:in-union="true">
                    <ld:field name="crutch" ld:level="4" ld:meta="compound" ld:typedef-name="T_crutch" ld:in-union="true">
                        <ld:field name="item_type" refers-to="(enum-to-key $item_type $)" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="item_subtype" init-value="-1" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="mat_index" init-value="-1" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="item_id" ref-target="item" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:field>

                    <ld:field name="bed_id" ref-target="building" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                    <ld:field name="bandage" ld:level="4" ld:meta="compound" ld:typedef-name="T_bandage" ld:in-union="true">
                        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="mat_index" init-value="-1" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                        <ld:field name="body_part_id" init-value="-1" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="item_id" ref-target="item" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:field>
                </ld:field>

                <ld:field name="year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="year_time" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                <ld:field name="doctor_id" ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                

                

                
                

                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_34" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_soul">
        <ld:field name="unit_id" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="sex" comment="-1 n/a, 0 female, 1 male" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>

        <code-helper name="describe">
            (describe-obj $.name)
            (awhen (find-creature $.race)
            (fmt "~:(~A ~A~)" $it.caste[$.caste].caste_id $it.creature_id))
        </code-helper>

        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk3" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>

        <ld:field ld:level="1" ld:meta="static-array" type-name="unit_attribute" name="mental_attrs" count="13" index-enum="mental_attribute_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit_attribute"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="skills" pointer-type="unit_skill" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_skill"><ld:item ld:level="3" ld:meta="global" type-name="unit_skill"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="preferences" pointer-type="unit_preference" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_preference"><ld:item ld:level="3" ld:meta="global" type-name="unit_preference"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="uint16_t" name="traits" count="30" index-enum="personality_facet_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk5" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk5">
                <ld:field name="unk1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk6" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_skill">
        <ld:field ld:subtype="enum" base-type="int16_t" name="id" type-name="job_skill" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">$.id</code-helper>

        <ld:field ld:subtype="enum" base-type="int32_t" name="rating" type-name="skill_rating" ld:level="1" ld:meta="global"/>
        <ld:field name="experience" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unused_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rusty" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rust_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="demotion_counter" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_preference">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="LikeMaterial"/>
            <enum-item name="LikeCreature"/>
            <enum-item name="LikeFood"/>
            <enum-item name="HateCreature"/>
            <enum-item name="LikeItem"/>
            <enum-item name="LikePlant"/>
            <enum-item name="LikeTree" comment="holdover from 40d and earlier"/>
            <enum-item name="LikeColor"/>
            <enum-item name="LikeShape"/>
        </ld:field>

        <code-helper name="describe">$.type</code-helper>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
            <ld:field name="creature_id" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="color_id" ref-target="descriptor_color" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="shape_id" ref-target="descriptor_shape" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="plant_id" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="mattype" ref-target="material" aux-value="$$.matindex" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="matindex" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="prefstring_seed" comment="feeds into a simple RNG to choose which prefstring to use" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_complaint">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="SelfUnemployed"/>
            <enum-item name="GuildUnemployed"/>
            <enum-item name="NeedWeapons" comment="no longer used"/>
            <enum-item name="IsAngry"/>
            <enum-item name="IsSad"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="guild_id" name="guild" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="age" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_request">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="DoGuildJobs"/>
        </ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" type-name="guild_id" name="guild" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_coin_debt">
        <ld:field name="recipient" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="amount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="unit_chunk" instance-vector="$global.world.unit_chunks" key-field="id">
        <ld:field name="id" comment="unit_*.dat" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="units" count="100" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_units">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
        </ld:item>
            
            
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="vermin_flags">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="is_colony" comment="A vermin colony. For example an anthill or bee hive." ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="vermin" instance-vector="$global.world.vermin.all">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="pos" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="visible" comment="1 = visible vermin" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="countdown" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field name="flags" type-name="vermin_flags" ld:level="1" ld:meta="global"/>
        <ld:field name="amount" comment="The total number of vermin in this object. Decimal constant 10000001 means infinity (probably)." ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="population" type-name="world_population_ref" ld:level="1" ld:meta="global"/>

        <ld:field name="unk_34" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="id" comment="assigned during Save" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="interface_breakdown_types" base-type="int8_t">
        <enum-item name="NONE"/>
        <enum-item name="QUIT"/>
        <enum-item name="STOPSCREEN"/>
        <enum-item name="TOFIRST"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen" original-name="viewscreenst" custom-methods="true">
        <ld:field ld:level="1" ld:meta="pointer" name="child" type-name="viewscreen" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="parent" type-name="viewscreen" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="viewscreen"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int8_t" name="breakdown_level" type-name="interface_breakdown_types" init-value="NONE" ld:level="1" ld:meta="global"/>
        <ld:field name="option_key_pressed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <virtual-methods>
            <vmethod ld:level="1" name="feed">
                <ld:field ld:level="2" ld:meta="pointer" name="events" ld:is-container="true"> <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-set" ld:is-container="true">
                    <ld:item ld:subtype="enum" type-name="interface_key" base-type="int32_t" ld:level="4" ld:meta="global"/>
                </ld:item> </ld:field>
            </vmethod>
            <vmethod ld:level="1" name="logic"/>
            <vmethod ld:level="1" name="render"/>
            <vmethod ld:level="1" name="resize"> <ld:field name="w" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> <ld:field name="h" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="help"/>
            <vmethod ld:level="1" ret-type="int8_t" name="movies_okay"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int8_t" name="is_option_screen"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int8_t" name="is_save_screen"><ret-type ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" ret-type="bool" name="key_conflict">
                <ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field ld:subtype="enum" type-name="interface_key" base-type="int32_t" ld:level="2" ld:meta="global"/>
            </vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer" original-name="viewscreen_layerst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="layer_object" name="layer_objects" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="layer_object"><ld:item ld:level="3" ld:meta="global" type-name="layer_object"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="interfacest">
        <ld:field name="original_fps" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="view" type-name="viewscreen" ld:level="1" ld:meta="global"/>

        <ld:field name="flag" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="shutdown_interface_tickcount" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="shutdown_interface_for_ms" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="supermovie_on" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="supermovie_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="supermovie_delayrate" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="supermovie_delaystep" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="supermovie_sound" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="supermovie_sound_time" count="16" comment="SOUND_CHANNELNUM" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="200" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field name="supermoviebuffer" size="800000" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>
        <ld:field name="supermoviebuffer_comp" size="1000000" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>

        <ld:field name="currentblocksize" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="nextfilepos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="first_movie_write" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="movie_file" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="layer_object" original-name="layer_objectst">
        <ld:field name="enabled" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="active" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <virtual-methods>
            No destructor anywhere:
            <vmethod ld:level="1" ret-type="int32_t" name="getFirstVisible"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getLastVisible"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getX1"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getY1"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getX2"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ret-type="int32_t" name="getY2"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" comment="list 1; button,base -1" ld:anon-name="anon_vmethod_6"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getListCursor"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setListCursor"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" name="feed">
                <ld:field ld:level="2" ld:meta="pointer" name="events" ld:is-container="true"> <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-set" ld:is-container="true">
                    <ld:item ld:subtype="enum" type-name="interface_key" base-type="int32_t" ld:level="4" ld:meta="global"/>
                </ld:item> </ld:field>
            </vmethod>

            <vmethod ld:level="1" ret-type="bool" name="isSetMouseLRCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSetMouseLCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" name="isSetMouseRCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMouseLCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getMouseRCur"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ld:anon-name="anon_vmethod_15"> <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> </vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_16"> <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> <ld:field ld:level="2" ld:meta="pointer" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" name="getListLength"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" name="setListLength"> <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> </vmethod>
            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_19"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>

            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_20"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_21"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_22"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="layer_object_listst" inherits-from="layer_object">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_entries" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="page_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_l_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_r_cur" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="rclick_scrolls" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="flag" comment="for standardscrolling" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" name="key_lclick" base-type="int32_t" type-name="interface_key" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="key_rclick" base-type="int32_t" type-name="interface_key" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="layer_object_buttonst" inherits-from="layer_object">
        <ld:field name="x1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="x2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="has_mouse_lclick" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="has_mouse_rclick" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_lclick_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_lclick_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_rclick_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_rclick_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_x_old" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mouse_y_old" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="handle_mouselbtndown" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="handle_mouserbtndown" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_adventure_logst" inherits-from="viewscreen">
        <ld:field ld:subtype="enum" base-type="int8_t" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="Info"/>
            <enum-item name="Map"/>
        </ld:field>
        <ld:field name="map_islocalview" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="map_hidden" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="player_region_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="player_region_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="player_local_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="player_local_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_8" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_9" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_10" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_11" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="cursor_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="index" comment="cursor position in info mode" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="map_draw_line" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="info_mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_info_mode">
            <enum-item name="Tasks"/>
            <enum-item name="Entities"/>
            <enum-item name="Sites"/>
            <enum-item name="Regions"/>
        </ld:field>
        <ld:field name="local_area_x1" comment="rectangle of 0 in local view" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="local_area_x2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="local_area_y1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="local_area_y2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="tasks" pointer-type="adv_task" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="adv_task"><ld:item ld:level="3" ld:meta="global" type-name="adv_task"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_entity"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="regions" pointer-type="world_region" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_region"><ld:item ld:level="3" ld:meta="global" type-name="world_region"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layers" pointer-type="world_geo_layer" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_geo_layer"><ld:item ld:level="3" ld:meta="global" type-name="world_geo_layer"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_announcelistst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:subtype="enum" type-name="unit_report_type" base-type="int16_t" name="report_type" ld:level="1" ld:meta="global"/>
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="report" name="reports" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="report"><ld:item ld:level="3" ld:meta="global" type-name="report"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_barterst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="static-array" count="2" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="2" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="2" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="static-array" count="2" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_10"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_11"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_12"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_13"/>
        <ld:field name="max_ask" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_offer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_ask" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_offer" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_14"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_15"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_buildingst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_buildinglistst" inherits-from="viewscreen">
        <ld:field name="cursor" refers-to="$$._parent.buildings[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="alt_right_panel" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings2" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="building"><ld:item ld:level="3" ld:meta="global" type-name="building"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_value" type-name="int32_t" index-refers-to="$$._parent.buildings[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="room_value2" type-name="int32_t" index-refers-to="$$._parent.buildings2[$]" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="embark_finder_option">
        <enum-item name="DimensionX"/>
        <enum-item name="DimensionY"/>
        <enum-item name="Savagery"/>
        <enum-item name="Evil"/>
        <enum-item name="Elevation"/>
        <enum-item name="Temperature"/>
        <enum-item name="Rain"/>
        <enum-item name="Drainage"/>
        <enum-item name="FluxStone"/>
        <enum-item name="Aquifer"/>
        <enum-item name="River"/>
        <enum-item name="UndergroundRiver"/>
        <enum-item name="UndergroundPool"/>
        <enum-item name="MagmaPool"/>
        <enum-item name="MagmaPipe"/>
        <enum-item name="Chasm"/>
        <enum-item name="BottomlessPit"/>
        <enum-item name="OtherFeatures"/>
        <enum-item name="ShallowMetal"/>
        <enum-item name="DeepMetal"/>
        <enum-item name="Soil"/>
        <enum-item name="Clay"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_choose_start_sitest" inherits-from="viewscreen">
        <ld:field ld:subtype="enum" base-type="int32_t" name="page" ld:level="1" ld:meta="compound" ld:typedef-name="T_page">
            <enum-item name="Biome"/>
            <enum-item name="Neighbors"/>
            <enum-item name="Civilization"/>
            <enum-item name="Elevation"/>
            <enum-item name="Cliffs"/>
            <enum-item name="Reclaim"/>
            <enum-item name="Reclaim2"/>
            <enum-item name="Find"/>
            <enum-item name="Notes"/>
        </ld:field>

        <ld:field name="region_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="reclaim_site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="biome_rgn" type-name="coord2d_path" ld:level="1" ld:meta="global"/>
        <ld:field name="embark_pos_min" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="embark_pos_max" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="embark_biome_rgn" type-name="coord2d" comment="Valid only after e pressed." ld:level="1" ld:meta="global"/>

        <ld:field name="biome_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="biome_highlighted" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="in_embark_aquifer" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="in_embark_salt" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="in_embark_large" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="in_embark_normal" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="highlighted_sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="local_sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
        <ld:field name="unk_74" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="civ_idx" refers-to="$$._global.available_civs[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="available_civs" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_entity"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>

        <ld:field name="finder" ld:level="1" ld:meta="compound" ld:typedef-name="T_finder">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field name="search_x" init-value="-1" comment="to world width / 16" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="search_y" comment="to world height / 16" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="cursor" refers-to="$$._parent.enabled_options[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="options" count="22" index-enum="embark_finder_option" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="bool" name="unmatched" count="22" index-enum="embark_finder_option" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="visible_options" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int32_t" type-name="embark_finder_option" ld:level="3" ld:meta="global"/>
            </ld:field>

            <ld:field name="finder_state" init-value="-1" comment="0=find, 1=none, 2=partial, 3=suitable" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field name="unk_11e" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_120" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_122" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_124" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_126" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_128" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_12c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_13c" ld:is-container="true"/>
        <ld:field name="unk_14c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_150" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_154" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_156" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_158" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_15a" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_15c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_civlistst" inherits-from="viewscreen">
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="historical_entity" name="entities" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_entity"><ld:item ld:level="3" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_conversationst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="conversation" type-name="conversation" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="conversation"/></ld:field>
        <ld:field name="cursor_speech_line" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="current_question" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor_line" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_createquotast" inherits-from="viewscreen">
        <ld:field name="str_filter" size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="top_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orders" pointer-type="manager_order_template" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="manager_order_template"><ld:item ld:level="3" ld:meta="global" type-name="manager_order_template"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pages" type-name="int32_t" comment="first index for each page" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="want_quantity" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_customize_unitst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field name="editing_nickname" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing_profession" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="previous_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/> previous value of the string, for Abort Edit
        <ld:field name="has_name" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeon_monsterstatusst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>

        <ld:field name="inventory_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="body_part_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="body_part" ld:is-container="true">
            <ld:item refers-to="$$._global.unit.body.body_plan.body_parts[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="view_skills" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inventory" pointer-type="unit_inventory_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_inventory_item"><ld:item ld:level="3" ld:meta="global" type-name="unit_inventory_item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="spatters" pointer-type="unit_spatter" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_spatter"><ld:item ld:level="3" ld:meta="global" type-name="unit_spatter"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeon_wrestlest" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
        <ld:field name="unk1" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk1">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_4"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_5"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_10"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_11"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_12"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_13"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_14"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_15"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_16"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_17"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_18"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dungeonmodest" inherits-from="viewscreen">
        <ld:field name="x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="z" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="announce_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> screen y of first announce shown
        <ld:field name="announce_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> idx of first announcement currently displayed
        <ld:field name="announce_more" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> 0 [DONE] 1 [MORE]
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_dwarfmodest" inherits-from="viewscreen">
        <ld:field name="shown_site_name" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> display site name next frame

        <ld:field name="jeweler_mat_count" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/> jewelers workshop orders
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="jeweler_cutgem" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> number of free items for job
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="jeweler_encrust" index-refers-to="(material-by-id 0 $)" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> index list +3 (green/clear/crystal glass)

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit_labors_sidemenu" ld:is-container="true"> For sidemenu unit/prefs/labor
            <ld:item ld:subtype="enum" type-name="unit_labor" base-type="int32_t" ld:level="2" ld:meta="global"/> When negative, labor category
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit_labors_sidemenu_uplevel" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="unit_labor" base-type="int32_t" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="unit_labors_sidemenu_uplevel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="sideSubmenu" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/> determine if ESC is Done or Back

        <ld:field name="keyRepeat" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trained_animals" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field name="trained_animal_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number_assigned_hunt" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> for current unit
        <ld:field name="number_assigned_war" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_entityst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>?
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="nemesis_record" name="important_leader_nemesis" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="nemesis_record"><ld:item ld:level="3" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="start_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreements" pointer-type="meeting_event" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="meeting_event"><ld:item ld:level="3" ld:meta="global" type-name="meeting_event"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="agreement_status" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field name="agreement_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_export_graphical_mapst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_12"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_export_regionst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_game_cleanerst" inherits-from="viewscreen">
        <ld:field ld:subtype="enum" base-type="int32_t" name="state" ld:level="1" ld:meta="compound" ld:typedef-name="T_state">
            <enum-item name="CleaningGameObjects"/>
            <enum-item name="CleaningStrandedObjects"/>
            <enum-item name="CleaningPlayObjects"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_itemst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entry_ref" pointer-type="general_ref" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="general_ref"><ld:item ld:level="3" ld:meta="global" type-name="general_ref"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entry_indent" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_34" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" comment="NULL" ld:is-container="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entry_string" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entry_reaction" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="cursor_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="caption_uses" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="caption_contents" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_jobst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_joblistst" inherits-from="viewscreen">
        <ld:field name="allow_zoom" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="cursor_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="jobs" pointer-type="job" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="job"><ld:item ld:level="3" ld:meta="global" type-name="job"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_jobmanagementst" inherits-from="viewscreen">
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> index into world.manager_orders, curpage = sel_idx/16
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_justicest" inherits-from="viewscreen">
        <ld:field name="jails_needed" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="jails_present" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_11"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_13"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_kitchenprefst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_subtype" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._global.group_item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mat_type" ld:is-container="true">
            <ld:item ref-target="material" aux-value="$$._global.group_mat_index[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mat_index" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="forbidden" type-name="uint8_t" comment="1 cook, 2 brew" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="possible" type-name="uint8_t" comment="1 cook, 2 brew" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_arena_creaturest" inherits-from="viewscreen_layer">
        <ld:field name="unk_1c" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_1e" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_20" size="8" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>
        <ld:field name="cur_side" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_interaction" refers-to="$global.world.arena_spawn.interactions[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="assign_trade_status">
        <ld:field ld:level="1" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="item"/></ld:field>
        <ld:field name="distance" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int8_t" name="status" ld:level="1" ld:meta="compound" ld:typedef-name="T_status">
            <enum-item name="RemoveTrading" value="-2"/>
            <enum-item name="RemovePending"/>
            <enum-item name="None"/>
            <enum-item name="AddPending"/>
            <enum-item name="Pending"/>
            <enum-item name="Trading"/>
        </ld:field>
        <ld:field name="unk" comment="mandate?" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="value" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="weight" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_assigntradest" inherits-from="viewscreen_layer">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="info" pointer-type="assign_trade_status" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="assign_trade_status"><ld:item ld:level="3" ld:meta="global" type-name="assign_trade_status"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="depot" type-name="building_tradedepotst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_tradedepotst"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="lists" count="61" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" refers-to="$$._global.info[$]" ld:is-container="true"><ld:item refers-to="$$._global.info[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="visible_lists" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="sort_distance" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="pending_on_top" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="filter_mandates" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="filter" comment="v0.34.10" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_choose_language_namest" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>?
        <ld:field name="unk1" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk1">
            <ld:field ld:level="2" ld:meta="static-array" count="6" ld:is-container="true" ld:anon-name="anon_1">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="6" ld:is-container="true" ld:anon-name="anon_2">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:field>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_currencyst" inherits-from="viewscreen_layer">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_export_play_mapst" inherits-from="viewscreen_layer">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int8_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_militaryst" inherits-from="viewscreen_layer">
        <ld:field name="squads" ld:level="1" ld:meta="compound" ld:typedef-name="T_squads">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="leader_positions" pointer-type="entity_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position"><ld:item ld:level="4" ld:meta="global" type-name="entity_position"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="leader_assignments" pointer-type="entity_position_assignment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_position_assignment"><ld:item ld:level="4" ld:meta="global" type-name="entity_position_assignment"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-bit-vector" name="can_appoint" ld:is-container="true"/>
        </ld:field>

        <ld:field name="positions" ld:level="1" ld:meta="compound" ld:typedef-name="T_positions">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="assigned" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="skill" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="job_skill" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_84" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="candidates" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:subtype="enum" name="page" ld:level="1" ld:meta="compound" ld:typedef-name="T_page">
            <enum-item name="Positions"/>
            <enum-item name="Alerts"/>
            <enum-item name="Equip"/>
            <enum-item name="Uniforms"/>
            <enum-item name="Supplies"/>
            <enum-item name="Ammunition"/>
        </ld:field>

        <ld:field name="num_squads" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_soldiers" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_active" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="squad_members" ld:level="1" ld:meta="compound" ld:typedef-name="T_squad_members">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="profession" ld:is-container="true">
                <ld:item ld:subtype="enum" base-type="int16_t" type-name="profession" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="max_count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="in_create_squad" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="in_new_squad" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="unk_e6" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="captain_positions" pointer-type="entity_position" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_position"><ld:item ld:level="3" ld:meta="global" type-name="entity_position"/></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="new_position" type-name="entity_position" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_position"/></ld:field>

        <ld:field name="unk_fc" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="in_rename_alert" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="in_delete_alert" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="alert_squads" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad"><ld:item ld:level="3" ld:meta="global" type-name="squad"/></ld:item></ld:field>

        <ld:field name="equip" ld:level="1" ld:meta="compound" ld:typedef-name="T_equip">
            <ld:field ld:subtype="enum" name="mode" ld:level="2" ld:meta="compound" ld:typedef-name="T_mode">
                <enum-item name="Customize"/>
                <enum-item name="Uniform"/>
                <enum-item name="Priority"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squads" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="units" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="specific_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>
            <ld:field name="prio_in_move" refers-to="$$._parent.squads[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="assigned" ld:level="2" ld:meta="compound" ld:typedef-name="T_assigned">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="spec" pointer-type="squad_uniform_spec" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="squad_uniform_spec"><ld:item ld:level="5" ld:meta="global" type-name="squad_uniform_spec"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="category" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="uniform_category" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="index" type-name="int32_t" comment="spec in category vector" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_178" ld:is-container="true"/>
            <ld:field ld:level="2" ld:meta="pointer" name="edit_spec" type-name="squad_uniform_spec" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="squad_uniform_spec"/></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="uniforms" pointer-type="entity_uniform" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="entity_uniform"><ld:item ld:level="4" ld:meta="global" type-name="entity_uniform"/></ld:item></ld:field>
            <ld:field name="uniform" ld:level="2" ld:meta="compound" ld:typedef-name="T_uniform">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="type" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="subtype" ld:is-container="true">
                    <ld:item refers-to="(item-subtype-target $$._parent._parent.type[$$._key] $)" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="category" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="uniform_category" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="index" type-name="int16_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="info" pointer-type="entity_uniform_item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="entity_uniform_item"><ld:item ld:level="5" ld:meta="global" type-name="entity_uniform_item"/></ld:item></ld:field>
            </ld:field>

            <ld:field ld:subtype="enum" name="edit_mode" ld:level="2" ld:meta="compound" ld:typedef-name="T_edit_mode">
                <enum-item name="Armor"/>
                <enum-item name="Helm"/>
                <enum-item name="Legs"/>
                <enum-item name="Gloves"/>
                <enum-item name="Boots"/>
                <enum-item name="Shield"/>
                <enum-item name="Weapon"/>
                <enum-item name="Material"/>
                <enum-item name="Color"/>
                <enum-item name="SpecificArmor"/>
                <enum-item name="SpecificHelm"/>
                <enum-item name="SpecificLegs"/>
                <enum-item name="SpecificGloves"/>
                <enum-item name="SpecificBoots"/>
                <enum-item name="SpecificShield"/>
                <enum-item name="SpecificWeapon"/>
            </ld:field>
            <ld:field name="unk_1ec" size="4" ld:level="2" ld:meta="bytes" ld:subtype="padding"/>
            <ld:field name="add_item" ld:level="2" ld:meta="compound" ld:typedef-name="T_add_item">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="type" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="subtype" ld:is-container="true">
                    <ld:item refers-to="(item-subtype-target $$._parent._parent.type[$$._key] $)" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_214" ld:is-container="true"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-bit-vector" name="foreign" ld:is-container="true"/>
            </ld:field>
            <ld:field name="material" ld:level="2" ld:meta="compound" ld:typedef-name="T_material">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="generic" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="entity_material_category" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field name="specific" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>
            <ld:field name="color" ld:level="2" ld:meta="compound" ld:typedef-name="T_color">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="id" type-name="int32_t" ref-target="descriptor_color" ld:is-container="true"><ld:item ref-target="descriptor_color" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-bit-vector" name="dye" ld:is-container="true"/>
            </ld:field>
            <ld:field name="in_name_uniform" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        </ld:field>

        <ld:field name="ammo" ld:level="1" ld:meta="compound" ld:typedef-name="T_ammo">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="squads" pointer-type="squad" comment="null for hunters" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field name="in_add_item" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="in_set_material" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="add_item" ld:level="2" ld:meta="compound" ld:typedef-name="T_add_item">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="type" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="subtype" ld:is-container="true">
                    <ld:item refers-to="(item-subtype-target $$._parent._parent.type[$$._key] $)" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-bit-vector" name="foreign" ld:is-container="true"/>
            </ld:field>
            <ld:field name="material" ld:level="2" ld:meta="compound" ld:typedef-name="T_material">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="generic" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="entity_material_category" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field name="specific" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
            </ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="supplies_squads" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="squad"><ld:item ld:level="3" ld:meta="global" type-name="squad"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_musicsoundst" inherits-from="viewscreen_layer"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_noblelistst" inherits-from="viewscreen_layer">
        <ld:field ld:subtype="enum" name="mode" base-type="int16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="List"/>
            <enum-item name="Appoint"/>
            <enum-item name="Settings"/>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="info" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_info">
                <ld:field ld:level="3" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="nemesis" type-name="nemesis_record" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="nemesis_record"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="unk_8" ld:is-container="true"/>
                <ld:field ld:level="3" ld:meta="pointer" name="position" type-name="entity_position" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="entity_position"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="assignment" type-name="entity_position_assignment" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="entity_position_assignment"/></ld:field>
                <ld:field name="group" ref-target="historical_entity" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="precedence" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="candidates" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_candidates">
                <ld:field ld:level="3" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field name="weight" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="assignments" pointer-type="entity_position_assignment" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_position_assignment"><ld:item ld:level="3" ld:meta="global" type-name="entity_position_assignment"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfigs" type-name="int32_t" ref-target="historical_figure" ld:is-container="true"><ld:item ref-target="historical_figure" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="groups" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="health_view_bits1">
        <ld:field name="bleeding_heavy" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="bleeding" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pale" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood_loss_severe" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="faint" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="blood_loss" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="paralyzed" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="paralyzed_partially" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="sluggish" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="numb_completely" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="numb_partially" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="numb_slightly" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fever_serious" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fever_moderate" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fever_slight" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pain_extreme" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="pain_moderate" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pain_slight" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="exhausted" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="overexerted" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tired" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stunned" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dizzy" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="drowning" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="winded" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="nauseous" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="drowsy_very" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="drowsy" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="dehydrated" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="thirsty" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="starving" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="hungry" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="health_view_bits2">
        <ld:field name="breathe_cant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="breathe_trouble" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_lost" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_impaired" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="vision_impaired2" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stand_cant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="stand_impaired" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="grasp_cant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="grasp_impaired" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fly_cant" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fly_impaired" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="motor_nerve" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="sensory_nerve" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="spilled" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="artery_major" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="artery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="tendon_torn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tendon_strain" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tendon_bruise" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ligament_torn" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ligament_sprain" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="ligament_bruise" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fracture_compound" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="fracture_overlap" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="need_setting" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tissue_broken" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="tissue_part_broken" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="damage_heavy" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="damage_moderate" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="damage_light" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pain_extreme" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="pain_moderate" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="bitfield-type" ld:level="0" type-name="health_view_bits3">
        <ld:field name="pain_minor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="swell_extreme" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="swell_medium" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="swell_minor" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="infection" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>

        <ld:field name="rq_diagnosis" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_crutch" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="inoperable_rot" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_cleaning" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_surgery" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_suture" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_setting" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_dressing" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_traction" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        <ld:field name="rq_immobilize" ld:level="1" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_overall_healthst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bits1" ld:is-container="true">
            <ld:item type-name="health_view_bits1" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bits2" ld:is-container="true">
            <ld:item type-name="health_view_bits2" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="bits3" ld:is-container="true">
            <ld:item type-name="health_view_bits3" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="x_cursor_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_reactionst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_squad_schedulest" inherits-from="viewscreen_layer">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>?4c
        <ld:field name="unk1" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk1">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_14"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_15"/>?7c
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_17"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_stockpilest" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="pointer" name="settings" type-name="stockpile_settings" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="stockpile_settings"/></ld:field>
        <ld:field ld:subtype="enum" name="cur_group" type-name="stockpile_list" base-type="int32_t" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" name="cur_list" type-name="stockpile_list" base-type="int32_t" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_ids" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="stockpile_list" base-type="int32_t" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_bits" ld:is-container="true">
            <ld:item type-name="stockpile_group_set" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="list_ids" ld:is-container="true">
            <ld:item ld:subtype="enum" type-name="stockpile_list" base-type="int32_t" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_names" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="item_status" pointer-type="bool" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="bool"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:item></ld:field>
        <ld:field name="title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_stone_restrictionst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="static-array" count="2" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="2" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_unit_actionst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="held_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reactions" pointer-type="reaction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="reaction"><ld:item ld:level="3" ld:meta="global" type-name="reaction"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="choice_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sel_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sel_reagents" type-name="int32_t" refers-to="$$._global.cur_reaction[$]" ld:is-container="true"><ld:item refers-to="$$._global.cur_reaction[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="cur_reaction" type-name="reaction" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="reaction"/></ld:field>
        <ld:field name="reagent" refers-to="$$.cur_reaction.reagents[$]" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="reagent_amnt_left" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_4"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_5"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_unit_healthst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="static-array" count="4" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="stl-string"><ld:item ld:level="4" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:item></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="4" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="4" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="4" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_unit_relationshipst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="relation_textline" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>1st column text (name, prof)
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="unit_relationship_type" name="relation_unit_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit_relationship_type"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="histfig_relationship_type" name="relation_histfig_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="histfig_relationship_type"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="unit" name="relation_unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>0 for deity and other non-units
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="historical_figure" name="relation_hg" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="historical_figure"><ld:item ld:level="3" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="level" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>5000 for deity, 330 for friend, 30 for acquaintance
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_workshop_profilest" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="pointer" name="profile" type-name="workshop_profile" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="workshop_profile"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="workers" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_world_gen_paramst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field name="unk1" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk1">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_8"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_14"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_15"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_17"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_18"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_19"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_20"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_21"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_22"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_23"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_24"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_25"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_26"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_layer_world_gen_param_presetst" inherits-from="viewscreen_layer">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int16_t" count="24" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" type-name="int8_t" count="24" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_10"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_legendsst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>10?
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>18?
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>1c?
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>20?
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="histfigs" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="artifacts" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="regions" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entities" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="structures" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_10"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_11"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_12"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_14"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_15"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_17"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_18"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_19"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_20"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_21"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_22"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_23"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_24"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_25"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_26"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_27"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_28"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_29"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_30"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_31"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_33"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_34"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_35"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_36"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_37"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_38"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_39"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_40"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_41"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_42"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_43"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_loadgamest" inherits-from="viewscreen">
        <ld:field name="loading" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="saves" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_saves">
                <ld:field ld:level="3" ld:meta="static-array" name="save_info" type-name="int32_t" count="27" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field> misc data read from savefile
                <ld:field ld:subtype="enum" base-type="int16_t" name="game_type" type-name="game_type" ld:level="3" ld:meta="global" ld:enum-size-forced="true"/> only 0 (fort) 1 (adv) 3(reclaim) are valid
                <ld:field name="fort_name" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="world_name" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="folder_name" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
            </ld:item>
                 misc data read from savefile
                 only 0 (fort) 1 (adv) 3(reclaim) are valid
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_meetingst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="dipscript_popup" name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="activity_info" name="activity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="activity_info"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="unit" name="holder" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_movieplayerst" inherits-from="viewscreen">
        <ld:field name="saving" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="loading" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="text_mode" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing_char" ld:level="1" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>
        <ld:field name="editing_copy_from" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="editing_screenf" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="editing_screenb" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="editing_screenbright" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="editing_selected_sound" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="editing_menu" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="savename" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="force_file" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="is_playing" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="is_forced_play" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="quit_if_no_play" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="maxmoviepos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="end_frame_pos" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="selfile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="filelist" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_new_regionst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="worldgen_presets" ld:is-container="true"/> LARGE_ISLAND etc

        advanced settings
        <ld:field name="unk_2" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="in_worldgen" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="cursor_paramset" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="random_seed" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="editing_randseed" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing_customname" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="editing_title" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="popup_deleteset" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="popup_changedimensions" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_11" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="custom_size_x" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="custom_size_y" ld:level="1" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
        <ld:field name="popup_abort" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="popup_goon" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unsaved_changes" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="simple_mode" comment="0=advanced params, 1=create new world" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_20" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_21" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

        create new world
        <ld:field name="cursor_line" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="world_size" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="history" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number_civs" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number_sites" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="number_beasts" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="savagery" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mineral_occurence" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="worldgen_paused" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="worldgen_rejected" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_32" pointer-type="stl-string" comment="rejection related" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_33" pointer-type="stl-string" comment="fullscreen popup" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_noblest" inherits-from="viewscreen">
        <ld:field name="become_capital_offerings" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_optionst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_overallstatusst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="visible_pages" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field name="page_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_petst" inherits-from="viewscreen">
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animal" ld:is-container="true">
            <ld:item ld:anon-compound="true" is-union="true" ld:level="2" ld:meta="compound" ld:typedef-name="T_animal" ld:in-union="true">
                <ld:field ld:level="2" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:field>     item_verminst
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="is_vermin" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="pet_info" pointer-type="pet_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="pet_info"><ld:item ld:level="3" ld:meta="global" type-name="pet_info"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="is_tame" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="is_adopting" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>

        <ld:field ld:subtype="enum" name="mode" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="List"/>
            <enum-item name="TrainingKnowledge"/>
            <enum-item name="SelectTrainer"/>
        </ld:field>

        <ld:field name="knowledge_page" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="known" type-name="int32_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="trainer_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trainer_unit" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit"><ld:item ld:level="3" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trainer_mode" ld:is-container="true">
            <ld:item comment="0 any, 1 any unassigned, 2 none, 3 specific" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_pricest" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_reportlistst" inherits-from="viewscreen">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_requestagreementst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_buy_prices" name="requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_buy_prices"/></ld:field>
        <ld:field ref-target="historical_entity" name="civ_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field size="256" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="historical_entity" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_savegamest" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_selectitemst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="static-array" count="105" ld:is-container="true" ld:anon-name="anon_7">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true"/>
        </ld:field>
        <ld:field size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string" ld:anon-name="anon_8"/>
        <ld:field size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string" ld:anon-name="anon_9"/>
        <ld:field size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_13"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_14"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_15"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_setupadventurest" inherits-from="viewscreen">
        <ld:field name="editing_name" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="saved_firstname" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>    restore this as firstname on cancel
        <ld:field name="index_col1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>    cursor position
        <ld:field name="index_skills" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="skill_points_remaining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="subscreen" ld:level="1" ld:meta="compound" ld:typedef-name="T_subscreen">
            <enum-item name="Nemesis" value="1"/>
            <enum-item name="Skills"/>
            <enum-item name="Name"/>
        </ld:field>
        <ld:field name="adventurer" ld:level="1" ld:meta="compound" ld:typedef-name="T_adventurer">
            <ld:field type-name="language_name" name="name" ld:level="2" ld:meta="global"/>
            <ld:field name="race" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="caste" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" count="116" index-enum="job_skill" name="skills" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="entity" ref-target="historical_entity" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="histfig" refers-to="$global.world.nemesis.all[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="unk_7" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>?
            <ld:field name="unk_8" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>?
            <ld:field name="unk_9" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" count="19" name="attributes" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:subtype="enum" base-type="int16_t" name="status" ld:level="2" ld:meta="compound" ld:typedef-name="T_status">
                <enum-item name="Peasant"/>
                <enum-item name="Hero"/>
                <enum-item name="Demigod"/>
            </ld:field>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="race_list" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="entity_list" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="nemesis_list" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" name="skill_list" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="focus_column" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>  0 = skill, 1 = attr
        <ld:field name="attribute_points_remaining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="index_attributes" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>  cursor index in the attributes list
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_setupdwarfgamest" inherits-from="viewscreen">
        <ld:field size="256" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="embark_skills" type-name="job_skill" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_skill"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="reclaim_professions" type-name="profession" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="profession"/></ld:field>
        <ld:field name="mode" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dwarf_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dwarf_page_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="skill_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="animal_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="dwarf_column" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="supply_column" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="display_row" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="show_play_now" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_5"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_10"/>
        <ld:field name="unk1" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk1">
            <ld:field ld:level="2" ld:meta="static-array" count="105" ld:is-container="true" ld:anon-name="anon_1">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_4"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_11"/>
        <ld:field type-name="language_name" ld:level="1" ld:meta="global" ld:anon-name="anon_12"/>
        <ld:field type-name="language_name" ld:level="1" ld:meta="global" ld:anon-name="anon_13"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_14"/>
        <ld:field name="unk2" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk2">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_5"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_15"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_17"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_18"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_19"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_20"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_21"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_22"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_23"/>
        <ld:field name="points_remaining" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_24"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_25"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_26"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_27"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_28"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_29"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_30"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_storesst" inherits-from="viewscreen">
        <ld:field name="title" size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="category_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="in_right_list" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="in_group_mode" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="category_total" type-name="int32_t" index-enum="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="category_busy" type-name="int32_t" index-enum="item_type" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_item_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_item_subtype" ld:is-container="true">
            <ld:item refers-to="(item-subtype-target $$._global.group_item_type[$$._key] $)" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_mat_type" ld:is-container="true">
            <ld:item ref-target="material" aux-value="$$._global.group_mat_index[$._key]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_mat_index" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="group_count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="category_order" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="2" ld:meta="global"/>
        </ld:field>
        <ld:field name="can_zoom" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_textviewerst" inherits-from="viewscreen">
        <ld:field name="title" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="title_colors" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>   same length as title, changes fg/bg
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="src_text" pointer-type="stl-string" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field name="outvar_type" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="outvar_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="meeting_context" type-name="meeting_context" ld:level="1" ld:meta="global"/>
        <ld:field name="help_filename" comment="relative to data/help" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="page_filename" comment="relative to root" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="formatted_text" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_formatted_text">
                <ld:field name="text" ld:level="3" ld:meta="pointer" ld:subtype="ptr-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="bytes" ld:subtype="static-string"/></ld:field>   NULL for empty lines
                <ld:field name="format" ld:level="3" ld:meta="pointer" ld:subtype="ptr-string" ld:is-container="true"><ld:item ld:level="4" ld:meta="bytes" ld:subtype="static-string"/></ld:field>
                <ld:field ld:subtype="bitfield" base-type="uint16_t" name="flags" ld:level="3" ld:meta="compound" ld:typedef-name="T_flags">
                    <ld:field name="hyperlink" ld:level="4" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                    <ld:field name="no_newline" ld:level="4" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                </ld:field>
                <ld:field name="pause_depth" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="return_val" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="indent" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                   NULL for empty lines
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="hyperlinks" pointer-type="static-string" comment="link targets, same length as text_display" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="static-string"><ld:item ld:level="3" ld:meta="bytes" ld:subtype="static-string"/></ld:item></ld:field>
        <ld:field name="logged_error" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="scroll_pos" comment="vertical scrollbar position" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cursor_line" comment="on hyperlink lines" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="pause_depth" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_titlest" inherits-from="viewscreen">
        <ld:field name="str_histories" size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="menu_items" size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="sel_subpage" ld:level="1" ld:meta="compound" ld:typedef-name="T_sel_subpage">
            <enum-item name="None"/>
            <enum-item name="StartSelectWorld"/>
            <enum-item name="StartSelectMode"/> adventurer/fortmode/legends
            <enum-item name="Arena"/>
            <enum-item name="About"/>
        </ld:field>
        <ld:field name="sel_menu_line" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="sel_submenu_line" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="loading" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="menu_line_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" name="submenu_line_id" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="submenu_line_text" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="start_savegames" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" pointer-type="stl-string" name="continue_savegames" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="stl-string"><ld:item ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/></ld:item></ld:field>
        <ld:field name="str_slaves" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_chapter" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_copyright" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_version" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_unk" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_programmed" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_designed" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_visit" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="str_site" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_topicmeetingst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_topicmeeting_fill_land_holder_positionst" inherits-from="viewscreen">
        <ld:field size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_topicmeeting_takerequestsst" inherits-from="viewscreen">
        <ld:field size="256" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:level="1" ld:meta="pointer" name="popup" type-name="dipscript_popup" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="dipscript_popup"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="meeting" type-name="meeting_diplomat_info" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="meeting_diplomat_info"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" comment="likely entity_sell_category values" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="type_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="good_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_tradeagreementst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" type-name="entity_sell_prices" name="requests" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="entity_sell_prices"/></ld:field>
        <ld:field ref-target="historical_entity" name="civ_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="type_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="good_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field size="256" name="title" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field ld:level="1" ld:meta="pointer" type-name="historical_entity" name="civ" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_tradegoodsst" inherits-from="viewscreen">
        <ld:field name="title" size="256" ld:level="1" ld:meta="bytes" ld:subtype="static-string"/>
        <ld:field name="merchant_name" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="merchant_entity" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field ld:level="1" ld:meta="pointer" name="depot" type-name="building_tradedepotst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_tradedepotst"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="caravan" type-name="caravan_state" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="caravan_state"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="entity" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="historical_entity"/></ld:field>
        <ld:field name="is_unloading" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="has_traders" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:level="1" ld:meta="pointer" name="trader" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="broker" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trader_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="broker_items" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="item"><ld:item ld:level="3" ld:meta="global" type-name="item"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trader_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="broker_selected" type-name="bool" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="trader_count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="broker_count" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="trader_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="broker_cursor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="in_right_pane" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="trade_reply" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="has_offer" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1d8" ld:is-container="true"/>
        <ld:field name="in_edit_count" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="edit_count" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_tradelistst" inherits-from="viewscreen">
        <ld:field name="unk_10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="depot" type-name="building_tradedepotst" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building_tradedepotst"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="caravans" pointer-type="caravan_state" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="caravan_state"><ld:item ld:level="3" ld:meta="global" type-name="caravan_state"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_treasurelistst" inherits-from="viewscreen"> list artifacts in fort mode
        <ld:field name="sel_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/> screen selection, in items.other[ANY_ARTIFACT]
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_unitst" inherits-from="viewscreen">
        <ld:field ld:level="1" ld:meta="pointer" name="unit" type-name="unit" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="unit"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="viewscreen_unitlist_page" base-type="int32_t">
        <enum-item name="Citizens"/>
        <enum-item name="Livestock"/>
        <enum-item name="Others"/>
        <enum-item name="Dead"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_unitlistst" inherits-from="viewscreen">
        <ld:field name="allow_zoom" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field ld:subtype="enum" base-type="int32_t" name="page" type-name="viewscreen_unitlist_page" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="static-array" name="cursor_pos" count="4" index-enum="viewscreen_unitlist_page" ld:is-container="true">
            <ld:item refers-to="$$._global.units[$$._key][$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="jobs" count="4" index-enum="viewscreen_unitlist_page" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="job" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="job"><ld:item ld:level="4" ld:meta="global" type-name="job"/></ld:item></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="units" count="4" index-enum="viewscreen_unitlist_page" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="viewscreen_wagesst" inherits-from="viewscreen">
        <ld:field name="profession_category" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_site_unk130">
        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="static-array" name="unk_4" count="4" ld:is-container="true">
            <ld:item ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_unk_4">
                    <ld:field name="unk_0" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="index" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="unk_8" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="unk_c" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:field>
                </ld:item>
                    
                    
                    
                    
                </ld:item>
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="world_population_type">
        <enum-item name="Animal"/>
        <enum-item name="Vermin"/>
        <enum-item name="Unk2"/>
        <enum-item name="VerminInnumerable"/>
        <enum-item name="ColonyInsect"/>
        <enum-item name="Tree"/>
        <enum-item name="Grass"/>
        <enum-item name="Bush"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_population_ref">
        <ld:field name="region_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="region_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="feature_idx" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="cave_id" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_28" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="population_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32">
            <code-helper name="refers-to">
                (let* ((info $$._global)
                       (wdata $global.world.world_data)
                       (x $info.region_x)
                       (y $info.region_y)
                       (reg (or (when (/= $info.feature_idx -1)
                                  (let* ((rip $wdata.feature_map[(floor x 16)][(floor y 16)])
                                         (flst $rip.features.feature_init[(logand x 15)][(logand y 15)]))
                                    $flst[$info.feature_idx].feature))
                                (awhen $info.cave_id.ref-target
                                  $it.feature_init.feature)
                                (find-instance $world_region ;
                                               $wdata.region_map[x][y].region_id))))
                  $reg.population[$])
            </code-helper>
        </ld:field>

        <ld:field name="depth" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="local_population">
        <ld:field ld:subtype="enum" base-type="int8_t" name="type" type-name="world_population_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="plant" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="quantity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="bitfield" name="flags" base-type="uint8_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="discovered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="extinct" comment="guessed, based on 23a" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="already_removed" comment="no longer in world.populations" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="unk3" comment="prevents it from showing up, related to world.unk_59dc4" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="population" type-name="world_population_ref" ld:level="1" ld:meta="global"/>

        <ld:field name="wp_unk_10" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="wp_unk_18" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="wp_unk_1c" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_population">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="world_population_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>

        <ld:field ld:anon-compound="true" is-union="true" ld:level="1" ld:meta="compound">
            <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="plant" ref-target="plant_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="count_min" init-value="10000001" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="count_max" init-value="10000001" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="owner" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_14" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_18" init-value="-1" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1c" init-value="-1" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_landmass" instance-vector="$global.world.world_data.landmasses">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="area" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_74" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_84" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="world_region_type" base-type="int16_t">
        <enum-item name="Swamp"/>
        <enum-item name="Desert"/>
        <enum-item name="Jungle"/>
        <enum-item name="Mountains"/>
        <enum-item name="Ocean"/>
        <enum-item name="Lake"/>
        <enum-item name="Glacier"/>
        <enum-item name="Tundra"/>
        <enum-item name="Steppe"/>
        <enum-item name="Hills"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_region" instance-vector="$global.world.world_data.regions">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="world_region_type" ld:level="1" ld:meta="global"/>

        <ld:field name="region_coords" type-name="coord2d_path" ld:level="1" ld:meta="global"/>

        <ld:field name="unk_94" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_98" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_9c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_a0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_a4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="population" pointer-type="world_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_population"><ld:item ld:level="3" ld:meta="global" type-name="world_population"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="unk_118" count="51" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_184" ld:is-container="true">
            <ld:item refers-to="$$._global.unk_118[$]" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_194" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1a4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1b4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1c4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1d4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="unk_1e4" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_1e6" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_1e8" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="lake_surface" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1f0" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="unk_200" size="4" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>

        <ld:field name="mid_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="mid_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_underground_region" instance-vector="$global.world.world_data.underground_regions">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" ld:level="1" ld:meta="compound" ld:typedef-name="T_type">
            <enum-item name="Cavern"/>
            <enum-item name="MagmaSea"/>
            <enum-item name="Underworld"/>
        </ld:field>

        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="layer_depth" comment="0-2 caves, 3 magma sea, 4 hell" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="layer_depth_p1a" comment="+1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="layer_depth_p1b" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_7a" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_7c" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_7e" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_80" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_82" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="passage_density" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="region_coords" type-name="coord2d_path" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="region_min_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="region_max_z" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_c8" ld:is-container="true"/>
        <ld:field ld:level="1" ld:meta="pointer" name="feature_init" type-name="feature_init" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="feature_init"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_river">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="path" type-name="coord2d_path" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_8c" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_9c" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="elevation" type-name="int16_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

        <ld:field name="end_pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="geo_layer_type" base-type="int16_t">
        <enum-attr name="flag" type-name="inorganic_flags" use-key-name="true"/>

        <enum-item name="SOIL"/>
        <enum-item name="SEDIMENTARY"/>
        <enum-item name="METAMORPHIC"/>
        <enum-item name="IGNEOUS_EXTRUSIVE"/>
        <enum-item name="IGNEOUS_INTRUSIVE"/>
        <enum-item name="SOIL_OCEAN"/>
        <enum-item name="SOIL_SAND"/>
        <enum-item name="SEDIMENTARY_OCEAN_SHALLOW"/>
        <enum-item name="SEDIMENTARY_OCEAN_DEEP"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_geo_layer">
        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="geo_layer_type" ld:level="1" ld:meta="global"/>

        <ld:field name="mat_index" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="describe">(describe-obj $.mat_index.ref-target)</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vein_mat" type-name="int32_t" ref-target="inorganic_raw" ld:is-container="true"><ld:item ref-target="inorganic_raw" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vein_nested_in" ld:is-container="true">
            -- Index of the other vein this one is nested in, or -1
            <ld:item refers-to="$$._global.vein_mat[$].ref-target" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vein_type" ld:is-container="true">
            <ld:item ld:subtype="enum" base-type="int8_t" type-name="inclusion_type" ld:level="2" ld:meta="global" ld:enum-size-forced="true"/>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="vein_unk_38" type-name="int8_t" comment="density??" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field name="top_height" comment="negative" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="bottom_height" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_geo_biome" instance-vector="$global.world.world_data.geo_biomes">
        <ld:field name="unk1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <code-helper name="describe">(fmt "~A geo_layers" $.layers.count)</code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="layers" pointer-type="world_geo_layer" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_geo_layer"><ld:item ld:level="3" ld:meta="global" type-name="world_geo_layer"/></ld:item></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_region_feature">
        <ld:field name="feature_idx" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16">
            <code-helper name="refers-to">
                (let* ((info $$._parent._parent._global)
                       (wdata $global.world.world_data)
                       (x $info.pos.x)
                       (y $info.pos.y))
                  (when (/= $ -1)
                    (let* ((rip $wdata.feature_map[(floor x 16)][(floor y 16)])
                           (flst $rip.features.feature_init[(logand x 15)][(logand y 15)]))
                      $flst[$])))
            </code-helper>
        </ld:field>
        <ld:field name="layer" ref-target="world_underground_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_tile_idx" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32">
            <code-helper name="describe">
                (let ((l $$._parent.layer.ref-target))
                  (when l
                    (list (fmt "(~A,~A)-(~A:~A)"
                               $l.region_coords.x[$] $l.region_coords.y[$]
                               $l.region_min_z[$] $l.region_max_z[$]))))
            </code-helper>
        </ld:field>
        <ld:field name="min_z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="max_z" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="static-array" count="6" type-name="coord2d" name="unk_c" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="coord2d"/></ld:field>
        <ld:field name="unk_28" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="seed" comment="looks random" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="unk_30" ld:is-container="true"/>
        <ld:field ld:level="1" ld:meta="static-array" count="15" type-name="int16_t" name="unk_38" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        <ld:field name="top_layer_idx" comment="topmost cave layer the feature reaches" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_region_details">
        <ld:field ld:level="1" ld:meta="static-array" count="17" name="biome" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="int8_t" count="17" comment="lower 4 bits: biome 1..9; |=0x30 if fort" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" count="17" name="elevation" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="int16_t" count="17" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" count="16" name="seed" comment="looks random" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="uint32_t" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:item>
        </ld:field>

        <ld:field name="edges" ld:level="1" ld:meta="compound" ld:typedef-name="T_edges">
            In order to determine how biomes cross embark tile edges,
            the rectangle framing an embark tile is split into 4 corners,
            and 4 straight edge segments, using ranges measured in tiles:

            +-/----/+
            |       /
            /   *   |
            /       /
            +-/-/---+

            <ld:field ld:level="2" ld:meta="static-array" count="16" name="split_x" comment="splits for horizontal edges, x=min y=max" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="coord2d" count="17" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="coord2d"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="17" name="split_y" comment="splits for vertical edges, x=min y=max" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="coord2d" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="coord2d"/></ld:item>
            </ld:field>

            After this, each corner and edge segment is assigned the biome
            of one of the adjoining 4 or 2 embark tiles, based on the values
            in these arrays. It may be necessary to access adjacent details
            objects to collect the full outline:

            c11 x11 | c21
            y11 *** | y21
            -------------
            c12 x12 | c22

            There are also certain rules forcing ocean/lake biomes to lose
            edges to mountains, and both of them to anything else, no matter
            what the original array value is. The actual biomes for tiles in
            the frame are semi-randomly interpolated from this edge spec.

            <ld:field ld:level="2" ld:meta="static-array" name="biome_corner" count="16" comment="upleft=0,upright=1,downleft=2,downright=3??" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="biome_x" count="16" comment="up=0,down=1" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="biome_y" count="16" comment="left=0,right=1" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
        </ld:field>

        <code-helper name="describe"> (describe-obj $.pos) </code-helper>

        <ld:field name="pos" type-name="coord2d" ld:level="1" ld:meta="global"/>
        <ld:field name="unk12e8" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>

        -- Rivers crossing embark tile edges
        <ld:field name="rivers_vertical" ld:level="1" ld:meta="compound" ld:typedef-name="T_rivers_vertical">
            <ld:field ld:level="2" ld:meta="static-array" name="x_min" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int16_t" count="17" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="x_max" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int16_t" count="17" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="active" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="17" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="elevation" count="16" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int16_t" count="17" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="rivers_horizontal" ld:level="1" ld:meta="compound" ld:typedef-name="T_rivers_horizontal">
            <ld:field ld:level="2" ld:meta="static-array" name="y_min" count="17" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int16_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="y_max" count="17" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int16_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="active" count="17" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="elevation" count="17" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int16_t" count="16" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" name="unk11" count="16" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="int8_t" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" count="16" name="features" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="16" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="world_region_feature" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="world_region_feature"><ld:item ld:level="5" ld:meta="global" type-name="world_region_feature"/></ld:item></ld:item>
            </ld:item>
        </ld:field>

        <ld:field name="lava_stone" ref-target="inorganic_raw" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field ld:level="1" ld:meta="static-array" count="16" name="elevation2" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" type-name="int16_t" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>

        <ld:field ld:level="1" ld:meta="static-array" type-name="int32_t" count="256" name="undef13" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="region_map_entry_flags">
        <enum-item name="has_river"/>
        <enum-item name="tile_variant"/>
        <enum-item/>
        <enum-item name="has_site"/>
        <enum-item/>
        <enum-item name="river_up"/>
        <enum-item name="river_down"/>
        <enum-item name="river_right"/>

        <enum-item name="river_left"/>
        <enum-item name="discovered"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item name="is_peak"/>
        <enum-item name="is_lake"/>
        <enum-item name="is_brook"/>

        <enum-item name="has_road"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="region_map_entry">
        <ld:field name="unk_0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="finder_rank" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="region_map_entry_flags" ld:is-container="true"/>
        <ld:field name="elevation" comment="~40 ocean -&gt; ~100 plains -&gt; ~200 mointains" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rainfall" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="vegetation" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="temperature" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="evilness" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="drainage" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="volcanism" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="savagery" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_30" comment="3" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_32" comment="0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_34" comment="0" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="bitfield" name="clouds" base-type="uint16_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_clouds">
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="density" count="2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="striped" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="darkness" count="2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="fog" count="2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field count="4" comment="maybe moisture content" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field ld:subtype="bitfield" name="wind" base-type="uint16_t" comment="blows toward direction in morning" ld:level="1" ld:meta="compound" ld:typedef-name="T_wind">
            <ld:field name="north_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="south_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="east_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="west_1" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="north_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="south_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="east_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="west_2" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>
        <ld:field name="unk_3a" comment="0-5000, humidity?" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="salinity" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_3e" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_44" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_4a" type-name="coord" ld:level="1" ld:meta="global"/>
        <ld:field name="region_id" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="landmass_id" ref-target="world_landmass" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="geo_index" ref-target="world_geo_biome" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="entity_claim_mask">
        <ld:field ld:level="1" ld:meta="pointer" name="map" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_map">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="entities" type-name="int32_t" ref-target="historical_entity" ld:is-container="true"><ld:item ref-target="historical_entity" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="region_masks" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="static-array" count="16" ld:is-container="true" ld:typedef-name="T_region_masks">
                            <ld:item ld:level="6" ld:meta="static-array" count="16" type-name="uint8_t" comment="1 bit per entity" ld:is-container="true"><ld:item ld:level="7" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
                        </ld:item>
                    </ld:item>
                </ld:field>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
        <ld:field name="width" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="height" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="moving_party">
        <ld:field name="pos" type-name="coord2d" comment="global block x/y" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="members" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_members">
                <ld:field name="nemesis_id" ref-target="nemesis_record" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="hunger" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="thirst" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="sleepiness" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="stored_fat" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_14" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_18" init-value="1" comment="maybe type" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_1c" init-value="-1000000" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_20" init-value="-1000000" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_24" init-value="-1000000" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="entity_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_30" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_40" ld:is-container="true"/>
        <ld:field name="unk_70" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_72" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_74" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_7c" init-value="-1" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="region_id" ref-target="world_region" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="beast_id" init-value="-1" comment="for FB" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_object_data" instance-vector="$global.world.world_data.object_data" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="altered_items" type-name="int32_t" comment="world_data_subid" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="offloaded_items" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_offloaded_items">
                <ld:field ld:level="3" ld:meta="pointer" name="item" type-name="item" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:field>
                <ld:field name="global_x" comment="in tiles it seems" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="global_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="global_z" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="container" ref-target="item" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="building" ref-target="building" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_18" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_24" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_34" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_44" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_54" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_64" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="altered_buildings" type-name="int32_t" comment="world_data_subid" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="offloaded_buildings" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_offloaded_buildings">
                <ld:field ld:level="3" ld:meta="pointer" name="building" type-name="building" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:field>
                <ld:field name="global_x" comment="in tiles it seems" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="global_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="global_z" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_10" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_94" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_94">
                <ld:field name="global_x" comment="in tiles it seems" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="global_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="global_z" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="year_tick" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_data">
        <ld:field name="name" type-name="language_name" comment="name of the world" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="static-array" name="unk1" count="15" type-name="int8_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>

        <ld:field name="next_site_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_site_unk136_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_unk_140_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="next_unk_150_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>

        <ld:field name="world_width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="world_height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="travel" pointer-type="moving_party" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="moving_party"><ld:item ld:level="3" ld:meta="global" type-name="moving_party"/></ld:item></ld:field>

        <ld:field name="unk_78" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="moon_phase" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="flip_latitude" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="flip_longitude" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_84" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_86" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_88" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_8a" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
        <ld:field comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>

        <ld:field name="world_width2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="world_height2" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:level="1" ld:meta="pointer" type-name="uint32_t" is-array="true" comment="align(width,4)*height" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint32_t" is-array="true" comment="align(width,4)*height" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint32_t" is-array="true" comment="width*height" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" type-name="uint8_t" is-array="true" comment="align(width,4)*height" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="region_details" pointer-type="world_region_details" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_region_details"><ld:item ld:level="3" ld:meta="global" type-name="world_region_details"/></ld:item></ld:field>

        <ld:field name="adv_region_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="adv_region_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="adv_emb_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="adv_emb_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_x1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_y1" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_x2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_y2" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="constructions" ld:level="1" ld:meta="compound" ld:typedef-name="T_constructions">
            <ld:field name="width" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="height" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field ld:level="2" ld:meta="pointer" name="map" is-array="true" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" is-array="true" ld:is-container="true">
                    <ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="world_construction_square" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="world_construction_square"><ld:item ld:level="6" ld:meta="global" type-name="world_construction_square"/></ld:item></ld:item>
                </ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="list" pointer-type="world_construction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="world_construction"><ld:item ld:level="4" ld:meta="global" type-name="world_construction"/></ld:item></ld:field>
            <ld:field name="next_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="entity_claims1" type-name="entity_claim_mask" ld:level="1" ld:meta="global"/>
        <ld:field name="entity_claims2" type-name="entity_claim_mask" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="sites" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="site_unk130" pointer-type="world_site_unk130" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site_unk130"><ld:item ld:level="3" ld:meta="global" type-name="world_site_unk130"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_140" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_140">
                <ld:field name="index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="static-array" name="resource_allotments" count="100" ld:is-container="true">
                    <ld:item ld:meta="container" ld:level="4" ld:subtype="stl-vector" pointer-type="resource_allotment_specifier" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="5" type-name="resource_allotment_specifier"><ld:item ld:level="6" ld:meta="global" type-name="resource_allotment_specifier"/></ld:item></ld:item>
                </ld:field>
                <ld:field name="unk1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk3" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_650" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_654" ld:is-container="true"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_150" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_150">
                <ld:field name="index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_8" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:meta="compound" ld:level="4" ld:typedef-name="T_unk_8">
                        <ld:field name="index" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_4" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_8" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:item>
                        
                        
                        
                    </ld:item>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_18" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:meta="compound" ld:level="4" ld:typedef-name="T_unk_18">
                        <ld:field name="index" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_4" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_8" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:item>
                        
                        
                        
                    </ld:item>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_28" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:meta="compound" ld:level="4" ld:typedef-name="T_unk_28">
                        <ld:field name="unk_0" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_4" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:item>
                        
                        
                    </ld:item>
                </ld:field>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_170" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_170">
                <ld:field name="index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_4" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:meta="compound" ld:level="4" ld:typedef-name="T_unk_4">
                        <ld:field name="unk_0" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_4" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_8" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_c" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_10" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_14" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_18" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:item>
                        
                        
                        
                        
                        
                        
                        
                    </ld:item>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_14" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field name="unk_24" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_28" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_2c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_30" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_34" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_38" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:item>
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="freakish_weather" comment="v0.34.01" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_freakish_weather">
                <ld:field name="unk_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_10" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="region_x" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="region_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_1c" init-value="-30000" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_20" init-value="-30000" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_24" init-value="-30000" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_28" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_2c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_30" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_34" init-value="-1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="object_data" pointer-type="world_object_data" comment="v0.34.01" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_object_data"><ld:item ld:level="3" ld:meta="global" type-name="world_object_data"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="landmasses" pointer-type="world_landmass" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_landmass"><ld:item ld:level="3" ld:meta="global" type-name="world_landmass"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="regions" pointer-type="world_region" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_region"><ld:item ld:level="3" ld:meta="global" type-name="world_region"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="underground_regions" pointer-type="world_underground_region" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_underground_region"><ld:item ld:level="3" ld:meta="global" type-name="world_underground_region"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="geo_biomes" pointer-type="world_geo_biome" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_geo_biome"><ld:item ld:level="3" ld:meta="global" type-name="world_geo_biome"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mountain_peaks" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_mountain_peaks">
                <ld:field name="name" type-name="language_name" ld:level="3" ld:meta="global"/>
                <ld:field name="pos" type-name="coord2d" ld:level="3" ld:meta="global"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
                <ld:field name="height" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="rivers" pointer-type="world_river" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_river"><ld:item ld:level="3" ld:meta="global" type-name="world_river"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="region_map" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" type-name="region_map_entry" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="region_map_entry"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unk_1c4" ld:is-container="true"/>
        <ld:field name="unk_1c8" size="4" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_1cc" ld:is-container="true"/>

        <ld:field ld:level="1" ld:meta="pointer" name="unk_1dc" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unk_1e0" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unk_1e4" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unk_1e8" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unk_1ec" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="unk_1f0" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="active_site" pointer-type="world_site" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site"><ld:item ld:level="3" ld:meta="global" type-name="world_site"/></ld:item></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="feature_map" is-array="true" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" is-array="true" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_feature_map">
                <ld:field name="x" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="3" ld:meta="pointer" name="features" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_features">
                    <ld:field ld:level="4" ld:meta="static-array" name="feature_init" count="16" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="static-array" count="16" ld:is-container="true">
                            <ld:item ld:meta="container" ld:level="6" ld:subtype="stl-vector" pointer-type="feature_init" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="7" type-name="feature_init"><ld:item ld:level="8" ld:meta="global" type-name="feature_init"/></ld:item></ld:item>
                        </ld:item>
                    </ld:field>
                    <ld:field ld:level="4" ld:meta="static-array" name="unk" count="16" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="static-array" count="16" ld:is-container="true">
                            <ld:item ld:level="6" ld:meta="static-array" count="30" type-name="int32_t" comment="it might actually be [30][16][16] rather than [16][16][30]" ld:is-container="true"><ld:item ld:level="7" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
                        </ld:item>
                    </ld:field>
                </ld:item>
                    
                    
                </ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="unk_8" type-name="int16_t" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="unk_c" type-name="int32_t" is-array="true" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="old_sites" type-name="int32_t" ref-target="world_site" ld:is-container="true"><ld:item ref-target="world_site" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="old_site_x" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="old_site_y" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="land_rgns" type-name="coord2d_path" ld:level="1" ld:meta="global"/>

        <ld:field name="unk_260" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_264" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_265" size="3" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>
        <ld:field name="unk_268" size="4" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>
        <ld:field name="unk_26c" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_26d" size="3" ld:level="1" ld:meta="bytes" ld:subtype="padding"/>
        <ld:field name="unk_270" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_274" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_274">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_0" pointer-type="historical_figure" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="historical_figure"><ld:item ld:level="5" ld:meta="global" type-name="historical_figure"/></ld:item></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_10" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:meta="compound" ld:level="4" ld:typedef-name="T_unk_10">
                        <ld:field name="unk_0" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_4" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                        <ld:field name="unk_8" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:item>
                        
                        
                        
                    </ld:item>
                </ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="unk_20" type-name="historical_entity" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="historical_entity"/></ld:field>
                <ld:field name="unk_24" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="pointer" name="unk_28" type-name="language_name" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_name"/></ld:field>
                <ld:field name="unk_2c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_30" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="abstract_building_type">
        <enum-item name="STORE"/>
        <enum-item name="MEAD_HALL"/>
        <enum-item name="KEEP"/>
        <enum-item name="HOME_SINGLE"/>
        <enum-item name="HOME_APARTMENT"/>
        <enum-item name="HOME_APARTMENT_ROOM"/>
        <enum-item name="TEMPLE"/>
        <enum-item name="DARK_TOWER"/>
        <enum-item name="MARKET"/>
        <enum-item name="TOMB"/>
        <enum-item name="DUNGEON"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="abstract_building_unk"> used within Tomb and Dungeon
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_1">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building" original-name="abstract_buildingst" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="find-instance">
            (find-by-id $(find-instance $world_site $$).buildings $id $)
        </code-helper>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_1">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" ld:is-container="true"/>
        <ld:field ld:level="1" ld:meta="pointer" ld:is-container="true" ld:anon-name="anon_2">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_anon_2">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
        </ld:item>
            
            
            
            
            
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field comment="not initialized/saved/loaded, assumed member of base class" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>

        <virtual-methods>
            <vmethod ld:level="1" ret-type="abstract_building_type" name="getType"><ret-type ld:level="2" ld:meta="global" type-name="abstract_building_type"/></vmethod>
            <vmethod ld:level="1" ret-type="int16_t" name="getSubtype" comment="for stores"><ret-type ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></vmethod>
            <vmethod ld:level="1" name="getDisplayTile" comment="on navigation minimap">
                <ld:field ld:level="2" ld:meta="pointer" type-name="uint8_t" name="tile" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="uint16_t" name="fg" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="uint16_t" name="bg" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>
                <ld:field ld:level="2" ld:meta="pointer" type-name="uint16_t" name="bright" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/></ld:field>
            </vmethod>
            <vmethod ld:level="1" name="getName"><ret-type ld:level="3" ld:meta="pointer" type-name="language_name" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="language_name"/></ret-type></vmethod>
            <vmethod ld:level="1" name="write_file"> <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/> </vmethod>

            <vmethod ld:level="1" name="read_file">
                <ld:field ld:level="2" ld:meta="pointer" comment="file_compressorst" ld:is-container="true"/>
                <ld:field name="loadversion" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </vmethod>
            <vmethod ld:level="1" is-destructor="true"/>
            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_7"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_8"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>
            <vmethod ld:level="1" ret-type="bool" ld:anon-name="anon_vmethod_9"><ret-type ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/></vmethod>

            <vmethod ld:level="1" ret-type="int32_t" ld:anon-name="anon_vmethod_10"><ret-type ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></vmethod>
            <vmethod ld:level="1" ld:anon-name="anon_vmethod_11"><ret-type ld:level="3" ld:meta="pointer" type-name="abstract_building_unk" ld:is-container="true"><ld:item ld:level="4" ld:meta="global" type-name="abstract_building_unk"/></ret-type></vmethod>
        </virtual-methods>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="abstract_building_store_subtype" base-type="int16_t">
        <enum-item name="Craft"/>
        <enum-item name="Weapon"/>
        <enum-item name="Armor"/>
        <enum-item name="Clothing"/>
        <enum-item name="Food"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_storest" inherits-from="abstract_building">
        <ld:field ld:subtype="enum" type-name="abstract_building_store_subtype" name="subtype" ld:level="1" ld:meta="global"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_mead_hallst" inherits-from="abstract_building">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_keepst" inherits-from="abstract_building">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_home_singlest" inherits-from="abstract_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_home_apartmentst" inherits-from="abstract_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_home_apartment_roomst" inherits-from="abstract_building"/>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_templest" inherits-from="abstract_building">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="returned by the vmethod after the destructor" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_dark_towerst" inherits-from="abstract_building">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_marketst" inherits-from="abstract_building">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_tombst" inherits-from="abstract_building">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <ld:field name="unk" type-name="abstract_building_unk" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field comment="not initialized/saved" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="abstract_building_dungeonst" inherits-from="abstract_building">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="dungeon_type" ld:level="1" ld:meta="compound" ld:typedef-name="T_dungeon_type">
            <enum-item name="DUNGEON"/>
            <enum-item name="SEWERS"/>
            <enum-item name="CATACOMBS"/>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field name="unk" type-name="abstract_building_unk" ld:level="1" ld:meta="global"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field comment="not saved" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field comment="not saved" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="world_site_type" base-type="int16_t">
        <enum-item name="PlayerFortress"/>
        <enum-item name="DarkFortress"/>
        <enum-item name="Cave"/>
        <enum-item name="MountainHalls"/>
        <enum-item name="ForestRetreat"/>
        <enum-item name="Town"/>
        <enum-item name="ImportantLocation"/>
        <enum-item name="LairShrine"/>
        <enum-item name="Fortress"/>
        <enum-item name="Camp"/>
        <enum-item name="Monument"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="world_site_flags">
        <enum-item name="Undiscovered"/>
        <enum-item/>
        <enum-item/>
        <enum-item name="Town" comment="not hamlet"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_site" key-field="id" instance-vector="$global.world.world_data.sites">
        <ld:field name="name" type-name="language_name" ld:level="1" ld:meta="global"/>

        <code-helper name="describe">(describe-obj $.name)</code-helper>

        <ld:field name="civ_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="cur_owner_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="old_owner_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="outcast_id" ref-target="historical_entity" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" base-type="int16_t" name="type" type-name="world_site_type" ld:level="1" ld:meta="global"/>

        <ld:field name="pos" type-name="coord2d" ld:level="1" ld:meta="global"/>

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="nemesis" type-name="int32_t" ref-target="nemesis_record" ld:is-container="true"><ld:item ref-target="nemesis_record" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_94" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="animals" pointer-type="world_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_population"><ld:item ld:level="3" ld:meta="global" type-name="world_population"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inhabitants" pointer-type="world_site_inhabitant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_site_inhabitant"><ld:item ld:level="3" ld:meta="global" type-name="world_site_inhabitant"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_c4" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_d4" ld:is-container="true"/>

        <ld:field name="index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="rgn_min_x" comment="in embark tiles" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rgn_max_x" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rgn_min_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="rgn_max_y" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

        <ld:field name="unk_f0" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="global_min_x" comment="in embark tiles" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="global_min_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="global_max_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="global_max_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="seed1" comment="random" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
        <ld:field name="seed2" comment="random" ld:level="1" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>

        <ld:field name="resident_count" comment="count living in houses and shops" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_110" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_114" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_118" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_11c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_120" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_124" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_128" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_12c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_130" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_134" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_138" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="site_level" comment="v0.34.01" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_13c" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_13c">
                <ld:field name="unk_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_8" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="flags" index-enum="world_site_flags" ld:is-container="true"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings" pointer-type="abstract_building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="abstract_building"><ld:item ld:level="3" ld:meta="global" type-name="abstract_building"/></ld:item></ld:field>

        <ld:field name="next_building_id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="created_tick" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="created_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_170" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_174" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_178" type-name="coord" ld:level="1" ld:meta="global"/>

        <ld:field ld:level="1" ld:meta="pointer" name="realization" type-name="world_site_realization" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="world_site_realization"/></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="subtype_info" ld:is-container="true">
            <ld:item ld:meta="compound" ld:level="1" ld:typedef-name="T_subtype_info">
            <ld:field name="is_tower" comment="1 =&gt; not fortress" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="is_monument" comment="not tomb" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="lair_type" comment="2 monument, 3 shrine" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk_8" ld:is-container="true"/>
            <ld:field name="unk_14" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_18" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="unk_1c" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:item>
            
            
            
            
            
            
            
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="pointer" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="2" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" comment="v0.34.01" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="unk_188" type-name="world_site_unk130" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="world_site_unk130"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_18c" ld:is-container="true"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_19c" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_site_inhabitant">
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="outcast_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="effect" type-name="interaction_effect" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="interaction_effect"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_site_realization">
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="buildings" pointer-type="site_realization_building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="site_realization_building"><ld:item ld:level="3" ld:meta="global" type-name="site_realization_building"/></ld:item></ld:field>
        <ld:field name="num_buildings" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_14" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="num_areas" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="static-array" name="mini_rivers" count="17" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="17" type-name="int8_t" comment="2 for river tiles" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="mini_tiles" count="17" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="17" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="mini_colors" count="17" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="17" type-name="int16_t" comment="bold shl 6|bg shl 3|fg" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>
        2601 = 51*51 = 17*3*17*3
        <ld:field ld:level="1" ld:meta="static-array" name="road_map" count="51" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="51" pointer-type="site_realization_crossroads" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="site_realization_crossroads"><ld:item ld:level="4" ld:meta="global" type-name="site_realization_crossroads"/></ld:item></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unk_2d44" count="51" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="51" type-name="pointer" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="unk_55e8" count="17" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="17" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_55e8">
                <ld:field name="unk_55e8" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_55ec" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_55f0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_55f4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_55f8" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk_55fa" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk_55fc" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5600" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5604" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5608" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_560c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5610" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5614" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk_5618" ld:is-container="true"/>
                <ld:field name="unk_5628" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_562c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5630" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_5634" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="building_map" count="17" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="17" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_building_map">
                <ld:field size="4" ld:level="3" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="buildings" pointer-type="site_realization_building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="site_realization_building"><ld:item ld:level="5" ld:meta="global" type-name="site_realization_building"/></ld:item></ld:field>
                <ld:field name="unk4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk5" ld:level="3" ld:meta="number" ld:subtype="uint32_t" ld:unsigned="true" ld:bits="32"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="unk6" ld:is-container="true"/>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="zoom_tiles" count="51" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="51" type-name="uint8_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="zoom_colors" count="51" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="51" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="zoom_movemask" count="51" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="51" type-name="int8_t" comment="8 left, 4 right, 2 down, 1 up; -1 any dir" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
        </ld:field>
        2704 = 52*52
        <ld:field ld:level="1" ld:meta="static-array" name="area_map" count="52" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="static-array" count="52" type-name="int32_t" refers-to="$$._global.areas[$]" ld:is-container="true"><ld:item refers-to="$$._global.areas[$]" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="areas" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_areas">
                <ld:field name="unk_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_8" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="min_x" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="max_x" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="min_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="max_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="site_realization_crossroads">
        <ld:field ld:level="1" ld:meta="static-array" name="road_min_y" count="48" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="road_max_y" count="48" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="road_min_x" count="48" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="static-array" name="road_max_x" count="48" type-name="int32_t" ld:is-container="true"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field name="idx_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="idx_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tile_width" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="tile_height" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_310" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_314" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_318" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_31c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_320" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_324" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_328" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_32c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="center_x_tile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="center_y_tile" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="up" type-name="site_realization_crossroads" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="site_realization_crossroads"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="down" type-name="site_realization_crossroads" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="site_realization_crossroads"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="right" type-name="site_realization_crossroads" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="site_realization_crossroads"/></ld:field>
        <ld:field ld:level="1" ld:meta="pointer" name="left" type-name="site_realization_crossroads" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="site_realization_crossroads"/></ld:field>
        <ld:field name="unk_348" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_349" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
        <ld:field name="unk_34c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_6"/>
        <ld:field ld:level="1" ld:meta="static-array" name="unk_356" count="32" type-name="coord" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="coord"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="site_building_inhabitant">
        <ld:field name="count" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="outcast_id" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10" init-value="-1" comment="seems to be related to site.animals.*.unk_10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="effect" type-name="interaction_effect" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="interaction_effect"/></ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="site_realization_building" key-field="id">
        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <code-helper name="find-instance">
            (find-by-id $(find-instance $world_site $$).realization.buildings $id $)
        </code-helper>

        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="min_x" comment="in tiles relative to site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="min_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_x" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="max_y" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="unk_18" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="inhabitants" pointer-type="site_building_inhabitant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="site_building_inhabitant"><ld:item ld:level="3" ld:meta="global" type-name="site_building_inhabitant"/></ld:item></ld:field>
        <ld:field name="unk_2c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item" type-name="site_building_item" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_40" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_44" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:level="1" ld:meta="pointer" name="building_info" type-name="site_realization_building_infost" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="site_realization_building_infost"/></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_4c" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_4c">
                <ld:field name="unk_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="owner" ref-target="historical_entity" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_c" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_10" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk_14" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field name="unk_5c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_60" ld:is-container="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="site_realization_building_infost">
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="site_building_item">
        <ld:field name="race" ref-target="creature_raw" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="1" ld:meta="global"/>
        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="mat_index" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="site_realization_building_info_castle_towerst" inherits-from="site_realization_building_infost">
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_14" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_18" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item1" type-name="site_building_item" ld:level="1" ld:meta="global"/>
        <ld:field name="item2" type-name="site_building_item" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_3c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="site_realization_building_info_castle_wallst" inherits-from="site_realization_building_infost">
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_8" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_10" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_14" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_18" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_1c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="item1" type-name="site_building_item" ld:level="1" ld:meta="global"/>
        <ld:field name="item2" type-name="site_building_item" ld:level="1" ld:meta="global"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="site_shop_type">
        <enum-item name="General"/>
        <enum-item name="Food"/>
        <enum-item name="Clothing"/>
        <enum-item name="Cloth"/>
        <enum-item name="Leather"/>
        <enum-item name="WovenClothing"/>
        <enum-item name="LeatherClothing"/>
        <enum-item name="BoneCarver"/>
        <enum-item name="GemCutter"/>
        <enum-item name="Weaponsmith"/>
        <enum-item name="Bowyer"/>
        <enum-item name="Blacksmith"/>
        <enum-item name="Armorsmith"/>
        <enum-item name="MetalCraft"/>
        <enum-item name="LeatherGoods"/>
        <enum-item name="Carpenter"/>
        <enum-item name="StoneFurniture"/>
        <enum-item name="MetalFurniture"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="site_realization_building_info_shop_housest" inherits-from="site_realization_building_infost">
        <ld:field ld:subtype="enum" base-type="int32_t" name="type" type-name="site_shop_type" ld:level="1" ld:meta="global"/>
        <ld:field name="unk_8" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_24" ld:level="1" ld:meta="primitive" ld:subtype="stl-string"/>
        <ld:field name="unk_40" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_44" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_48" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_4c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_50" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_54" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_58" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_5c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_60" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_62" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_64" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_66" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_68" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_6c" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_70" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="unk_72" ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
    </ld:global-type>
    <ld:global-type ld:meta="class-type" ld:level="0" type-name="site_realization_building_info_market_squarest" inherits-from="site_realization_building_infost">
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="worldgen_region_type">
        <enum-item name="SWAMP"/>
        <enum-item name="DESERT"/>
        <enum-item name="FOREST"/>
        <enum-item name="MOUNTAINS"/>
        <enum-item name="OCEAN"/>
        <enum-item name="LAKE"/>
        <enum-item name="GLACIER"/>
        <enum-item name="TUNDRA"/>
        <enum-item name="GRASSLAND"/>
        <enum-item name="HILLS"/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="worldgen_range_type">
        <enum-item name="ELEVATION"/>
        <enum-item name="RAINFALL"/>
        <enum-item/>
        <enum-item name="TEMPERATURE"/>
        <enum-item/>
        <enum-item name="DRAINAGE"/>
        <enum-item name="VOLCANISM"/>
        <enum-item name="SAVAGERY"/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
        <enum-item/>
    </ld:global-type>
    <ld:global-type ld:meta="enum-type" ld:level="0" type-name="units_other_id">
        <enum-item name="ANY_RIDER"/>
        <enum-item name="ANY_ANIMAL"/>
        <enum-item name="ANY_BABY2"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="death_info" instance-vector="$global.world.deaths.all" key-field="id">
        dtor 0x8C1AE10

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="unk_4" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_8" type-name="int32_t" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field name="victim" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="killer" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="crime_id" ref-target="criminal_case" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="event_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="event_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="announced_missing" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="discovered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field ld:subtype="enum" base-type="int16_t" name="death_cause" type-name="death_type" ld:level="1" ld:meta="global" ld:enum-size-forced="true"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="criminal_case" instance-vector="$global.world.criminal_cases.all" key-field="id">
        dtor 0x8C166D0

        <ld:field name="id" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="enum" name="mode" base-type="int32_t" ld:level="1" ld:meta="compound" ld:typedef-name="T_mode">
            <enum-item name="ProductionOrderViolation"/>
            <enum-item name="ExportViolation"/>
            <enum-item name="JobOrderViolation"/>
            <enum-item name="ConspiracyToSlowLabor"/>
            <enum-item name="Murder"/>
            <enum-item name="DisorderlyBehavior"/>
            <enum-item name="BuildingDestruction"/>
            <enum-item name="Vandalism"/>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>

        <ld:field name="criminal" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="convicted" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="victim" ref-target="unit" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:subtype="bitfield" name="flags" ld:level="1" ld:meta="compound" ld:typedef-name="T_flags">
            <ld:field name="sentenced" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="discovered" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            <ld:field name="needs_trial" comment="i.e. the player chooses whom to convict" ld:level="2" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
        </ld:field>

        <ld:field name="death_id" ref-target="death_info" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="event_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="event_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="discovered_year" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="discovered_time" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="site" ref-target="world_site" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        <ld:field name="entity" ref-target="historical_entity" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" comment="reports" ld:is-container="true" ld:anon-name="anon_4">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_4">
                <ld:field name="death_id" ref-target="death_info" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="crime_id" ref-target="criminal_case" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk1" comment="unk1 of witness_reports" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="event_year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="event_time" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="witness" ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="accuses" ref-target="unit" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="report_year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="report_time" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_unk_20">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_7">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_10"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world_unk_c0">
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_7">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_anon_7">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_8"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_9"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_10"/>
    </ld:global-type>
    <ld:global-type ld:meta="struct-type" ld:level="0" type-name="world">
        dtor 89fff80
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="glowing_barriers" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_glowing_barriers">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="buildings" type-name="int32_t" ref-target="building" ld:is-container="true"><ld:item ref-target="building" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field name="pos" type-name="coord" ld:level="3" ld:meta="global"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="deep_vein_hollows" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_deep_vein_hollows">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field name="tiles" type-name="coord_path" ld:level="3" ld:meta="global"/>
                <ld:field name="pos" type-name="coord" comment="seemingly unused" ld:level="3" ld:meta="global"/>
            </ld:item>
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_20" pointer-type="world_unk_20" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_unk_20"><ld:item ld:level="3" ld:meta="global" type-name="world_unk_20"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="engravings" pointer-type="engraving" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="engraving"><ld:item ld:level="3" ld:meta="global" type-name="engraving"/></ld:item></ld:field>

        <ld:field name="vermin" ld:level="1" ld:meta="compound" ld:typedef-name="T_vermin">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="vermin" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="vermin"><ld:item ld:level="4" ld:meta="global" type-name="vermin"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="colonies" pointer-type="vermin" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="vermin"><ld:item ld:level="4" ld:meta="global" type-name="vermin"/></ld:item></ld:field>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_3C" pointer-type="coord" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="coord"><ld:item ld:level="3" ld:meta="global" type-name="coord"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="campfires" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_campfires">
                <ld:field type-name="coord" name="pos" ld:level="3" ld:meta="global"/>
                <ld:field name="timer" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="web_clusters" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_web_clusters">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" name="x" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" name="y" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field name="z" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="race" ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="caste" ref-target="caste_raw" aux-value="$$.race" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field type-name="coord2d" name="pos_min" ld:level="3" ld:meta="global"/>
                <ld:field type-name="coord2d" name="pos_max" ld:level="3" ld:meta="global"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" name="ambushers" ref-target="unit" ld:is-container="true"><ld:item ref-target="unit" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="fires" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_fires">
                <ld:field type-name="coord" name="pos" ld:level="3" ld:meta="global"/>
                <ld:field name="timer" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="temperature" ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
                <ld:field name="unk1" comment="10000" ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
                <ld:field name="unk2" ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
                <ld:field name="unk3" ld:level="3" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_6C" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_6C">
                <ld:field type-name="coord" ld:level="3" ld:meta="global" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="ocean_waves" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_ocean_waves">
                <ld:field name="x1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="x2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="z" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="constructions" pointer-type="construction" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="construction"><ld:item ld:level="3" ld:meta="global" type-name="construction"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_90" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_90">
                <ld:field name="x1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y1" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="x2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y2" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="z" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_9C" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_9C">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_8"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_9"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_10"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_11"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_12"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_A8" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_A8">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
            </ld:item>
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_B4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_B4">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_7"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_8"/>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_C0" pointer-type="world_unk_c0" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="world_unk_c0"><ld:item ld:level="3" ld:meta="global" type-name="world_unk_c0"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_CC" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_CC">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_8"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_9"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_10"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_11"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_D8" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_D8">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_6"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_7"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_8"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_9"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_E4" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_E4">
                <ld:field name="region_x" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="region_y" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk4" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk6" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="local_feature_idx" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="global_feature_idx" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk10" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="unk14" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk16" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk18" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk1a" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="unk1c" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            </ld:item>
                
                
                
                
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_F0" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_F0">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_4"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            </ld:item>
                
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unk_FC" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_unk_FC">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_5"/>
            </ld:item>
                
                
                
                
                
            </ld:item>
        </ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="effects" pointer-type="effect_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="effect_info"><ld:item ld:level="3" ld:meta="global" type-name="effect_info"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="coin_batches" ld:is-container="true">
            <ld:item ld:level="2" ld:meta="pointer" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_coin_batches">
                <ld:field name="year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="mat_type" ref-target="material" aux-value="$$.mat_index" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="mat_index" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="entity" ref-target="historical_entity" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="ruler" ref-target="historical_figure" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="image_front" ld:level="3" ld:meta="compound" ld:typedef-name="T_image_front">
                    <ld:field name="id" ref-target="art_image_chunk" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="subid" ref-target="art_image" aux-value="$$.id" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:field>
                <ld:field name="image_back" ld:level="3" ld:meta="compound" ld:typedef-name="T_image_back">
                    <ld:field name="id" ref-target="art_image_chunk" ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    <ld:field name="subid" ref-target="art_image" aux-value="$$.id" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:field>
            </ld:item>
                
                
                
                
                
                
                
            </ld:item>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="populations" pointer-type="local_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="local_population"><ld:item ld:level="3" ld:meta="global" type-name="local_population"/></ld:item></ld:field>

        --

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="manager_orders" pointer-type="manager_order" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="manager_order"><ld:item ld:level="3" ld:meta="global" type-name="manager_order"/></ld:item></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="mandates" pointer-type="mandate" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="mandate"><ld:item ld:level="3" ld:meta="global" type-name="mandate"/></ld:item></ld:field>

        --  Entities

        <ld:field name="entities" ld:level="1" ld:meta="compound" ld:typedef-name="T_entities">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="historical_entity"><ld:item ld:level="4" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="historical_entity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="historical_entity"><ld:item ld:level="4" ld:meta="global" type-name="historical_entity"/></ld:item></ld:field>
        </ld:field>

        -- Apparently a temporary buffer for world construction stuff

        <ld:field name="worldgen_coord_buf" ld:level="1" ld:meta="compound" ld:typedef-name="T_worldgen_coord_buf">
            <ld:field ld:level="2" ld:meta="static-array" count="20000" type-name="coord2d" name="slots" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="coord2d"/></ld:field>
            <ld:field name="next_slot" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        -- Units

        <ld:field name="units" ld:level="1" ld:meta="compound" ld:typedef-name="T_units">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="active" pointer-type="unit" comment="not sorted, entry 0 is adventurer" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="other" count="3" index-enum="units_other_id" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="unit"><ld:item ld:level="5" ld:meta="global" type-name="unit"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="unit" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="unit"><ld:item ld:level="4" ld:meta="global" type-name="unit"/></ld:item></ld:field>
        </ld:field>

        -- Unit and Art Chunks

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="unit_chunks" pointer-type="unit_chunk" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="unit_chunk"><ld:item ld:level="3" ld:meta="global" type-name="unit_chunk"/></ld:item></ld:field>
        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="art_image_chunks" pointer-type="art_image_chunk" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="art_image_chunk"><ld:item ld:level="3" ld:meta="global" type-name="art_image_chunk"/></ld:item></ld:field>

        -- Nemesis

        <ld:field name="nemesis" ld:level="1" ld:meta="compound" ld:typedef-name="T_nemesis">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="nemesis_record"><ld:item ld:level="4" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="nemesis_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="nemesis_record"><ld:item ld:level="4" ld:meta="global" type-name="nemesis_record"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="unk4" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        -- Items

        <ld:field name="items" ld:level="1" ld:meta="compound" ld:typedef-name="T_items">
            dtor 852f4b0

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="other" count="129" index-enum="items_other_id" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="item"><ld:item ld:level="5" ld:meta="global" type-name="item"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="item" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="item"><ld:item ld:level="4" ld:meta="global" type-name="item"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad_tag" type-name="int32_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        -- Artifacts

        <ld:field name="artifacts" ld:level="1" ld:meta="compound" ld:typedef-name="T_artifacts">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="artifact_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="artifact_record"><ld:item ld:level="4" ld:meta="global" type-name="artifact_record"/></ld:item></ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="artifact_record" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="artifact_record"><ld:item ld:level="4" ld:meta="global" type-name="artifact_record"/></ld:item></ld:field>
        </ld:field>

        -- Jobs and projectiles

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="job_list" type-name="job_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="job_list_link"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="proj_list" type-name="proj_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="proj_list_link"/></ld:field>

        -- Buildings

        <ld:field name="buildings" ld:level="1" ld:meta="compound" ld:typedef-name="T_buildings">
            dtor 85316f0

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item></ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="other" count="87" index-enum="buildings_other_id" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="4" type-name="building"><ld:item ld:level="5" ld:meta="global" type-name="building"/></ld:item></ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="building" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="building"><ld:item ld:level="4" ld:meta="global" type-name="building"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="check_bridge_collapse" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="check_machine_collapse" comment="?" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        -- Machines (connected groups of gears and so on)

        <ld:field name="machines" ld:level="1" ld:meta="compound" ld:typedef-name="T_machines">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="machine" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="machine"><ld:item ld:level="4" ld:meta="global" type-name="machine"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="machine" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="machine"><ld:item ld:level="4" ld:meta="global" type-name="machine"/></ld:item></ld:field>
        </ld:field>

        -- Flow guides (whatever those are)

        <ld:field name="flow_guides" ld:level="1" ld:meta="compound" ld:typedef-name="T_flow_guides">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" type-name="pointer" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" type-name="pointer" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
        </ld:field>

        -- Stockpile classifier

        <ld:field name="stockpile" ld:level="1" ld:meta="compound" ld:typedef-name="T_stockpile">
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="num_jobs" count="10" index-enum="hauler_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" type-name="int32_t" name="num_haulers" count="10" index-enum="hauler_type" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

            -- Pointers used as tokens; data never accessed by the look of it:

            <ld:field name="simple1" ld:level="2" ld:meta="compound" ld:typedef-name="T_simple1">
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field name="food" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="seeds" type-name="int8_t" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="plants" type-name="int8_t" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="cheese" type-name="int8_t" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="meat_fish" type-name="int8_t" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="eggs" type-name="int8_t" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="leaves" type-name="int8_t" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="plant_powder" type-name="int8_t" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field name="simple2" ld:level="2" ld:meta="compound" ld:typedef-name="T_simple2">
                <ld:field name="seeds" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="plants" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="cheese" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="fish" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="meat" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="leaves" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="powder" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="eggs" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="liquid_plant" type-name="int8_t" index-refers-to="(find-plant-raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="liquid_animal" type-name="int8_t" index-refers-to="(find-creature $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="liquid_builtin" type-name="int8_t" index-refers-to="(material-by-id $ -1)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field name="simple3" ld:level="2" ld:meta="compound" ld:typedef-name="T_simple3">
                <ld:field name="glob_fat" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="glob_tallow" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="glob_paste" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="glob_pressed" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

                <ld:field name="weapons" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="shields" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="ammo" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="coins" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

                <ld:field name="bar_blocks" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="gems" comment="not large" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="finished_goods" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field name="tanned_skins" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>

                <ld:field name="thread_cloth" ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_1"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_2"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_3"/>
            </ld:field>
        </ld:field>

        -- Plants

        <ld:field name="plants" ld:level="1" ld:meta="compound" ld:typedef-name="T_plants">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shrub_dry" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="shrub_wet" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tree_dry" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="tree_wet" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="empty" pointer-type="plant" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="plant"><ld:item ld:level="4" ld:meta="global" type-name="plant"/></ld:item></ld:field>
        </ld:field>

        -- Adventure quests

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-linked-list" name="quests" type-name="quest_list_link" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="quest_list_link"/></ld:field>

        -- Unknown

        <ld:field name="enemy_status_cache" comment="?" ld:level="1" ld:meta="compound" ld:typedef-name="T_enemy_status_cache">
            <ld:field ld:level="2" ld:meta="static-array" name="slot_used" type-name="bool" count="500" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="rel_map" count="500" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" type-name="int8_t" count="500" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:item>
            </ld:field>
            <ld:field name="next_slot" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
        </ld:field>

        <ld:field name="schedules" ld:level="1" ld:meta="compound" ld:typedef-name="T_schedules">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="schedule_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="schedule_info"><ld:item ld:level="4" ld:meta="global" type-name="schedule_info"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" pointer-type="schedule_info" has-bad-pointers="true" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="schedule_info"><ld:item ld:level="4" ld:meta="global" type-name="schedule_info"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="squads" ld:level="1" ld:meta="compound" ld:typedef-name="T_squads">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="squad" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="squad"><ld:item ld:level="4" ld:meta="global" type-name="squad"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="unk_518dc" comment="formations?" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk_518dc">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>?
                </ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true"/>
            </ld:field>
        </ld:field>

        -- Drills

        <ld:field name="activities" ld:level="1" ld:meta="compound" ld:typedef-name="T_activities">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="activity_entry" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="activity_entry"><ld:item ld:level="4" ld:meta="global" type-name="activity_entry"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="activity_entry" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="activity_entry"><ld:item ld:level="4" ld:meta="global" type-name="activity_entry"/></ld:item></ld:field>
        </ld:field>

        -- Reports and announcements

        <ld:field name="status" ld:level="1" ld:meta="compound" ld:typedef-name="T_status">
            dtor 85356e0
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="reports" pointer-type="report" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="report"><ld:item ld:level="4" ld:meta="global" type-name="report"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="announcements" pointer-type="report" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="report"><ld:item ld:level="4" ld:meta="global" type-name="report"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="popups" pointer-type="popup_message" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="popup_message"><ld:item ld:level="4" ld:meta="global" type-name="popup_message"/></ld:item></ld:field>

            <ld:field name="next_report_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:subtype="bitfield" name="flags" ld:level="2" ld:meta="compound" ld:typedef-name="T_flags">
                <ld:field name="combat" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="hunting" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
                <ld:field name="sparring" ld:level="3" ld:meta="number" ld:subtype="flag-bit" ld:bits="1"/>
            </ld:field>
            <ld:field name="display_timer" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" name="slots" count="100" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_slots">
                
                <ld:field name="id" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="info" size="24" alignment="4" comment="Weird garbage. Possibly types change for different entries." ld:level="3" ld:meta="bytes" ld:subtype="padding"/>
                <ld:field name="unk3a" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="unk3b" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="unk3c" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="unk3d" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="unk4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                <comment>Written to by code at 0x80fd7b0</comment>
                
                
                
                
                
                
                
            </ld:field>

            <ld:field ld:level="2" ld:meta="static-array" name="slot_id_used" type-name="int16_t" count="34" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="slot_id_idx1" type-name="int16_t" count="34" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="slot_id_idx2" type-name="int16_t" count="34" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="slots_used" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        </ld:field>

        <ld:field name="interaction_instances" comment="v0.34.01" ld:level="1" ld:meta="compound" ld:typedef-name="T_interaction_instances">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="interaction_instance" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interaction_instance"><ld:item ld:level="4" ld:meta="global" type-name="interaction_instance"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="interaction_instance" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="interaction_instance"><ld:item ld:level="4" ld:meta="global" type-name="interaction_instance"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="written_contents" comment="v0.34.01" ld:level="1" ld:meta="compound" ld:typedef-name="T_written_contents">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="written_content" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="written_content"><ld:item ld:level="4" ld:meta="global" type-name="written_content"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="written_content" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="written_content"><ld:item ld:level="4" ld:meta="global" type-name="written_content"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="assumed_identities" comment="v0.34.01 - DF calls these identities" ld:level="1" ld:meta="compound" ld:typedef-name="T_assumed_identities">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="assumed_identity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="assumed_identity"><ld:item ld:level="4" ld:meta="global" type-name="assumed_identity"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="assumed_identity" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="assumed_identity"><ld:item ld:level="4" ld:meta="global" type-name="assumed_identity"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="deaths" comment="v0.34.01 - DF calls these incidents" ld:level="1" ld:meta="compound" ld:typedef-name="T_deaths">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="death_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="death_info"><ld:item ld:level="4" ld:meta="global" type-name="death_info"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="death_info" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="death_info"><ld:item ld:level="4" ld:meta="global" type-name="death_info"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="criminal_cases" comment="v0.34.01 - DF calls these crimes" ld:level="1" ld:meta="compound" ld:typedef-name="T_criminal_cases">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="criminal_case" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="criminal_case"><ld:item ld:level="4" ld:meta="global" type-name="criminal_case"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="criminal_case" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="criminal_case"><ld:item ld:level="4" ld:meta="global" type-name="criminal_case"/></ld:item></ld:field>
        </ld:field>

        <ld:field name="vehicles" comment="v0.34.08" ld:level="1" ld:meta="compound" ld:typedef-name="T_vehicles">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="all" pointer-type="vehicle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="vehicle"><ld:item ld:level="4" ld:meta="global" type-name="vehicle"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="active" pointer-type="vehicle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="vehicle"><ld:item ld:level="4" ld:meta="global" type-name="vehicle"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="bad" has-bad-pointers="true" pointer-type="vehicle" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="vehicle"><ld:item ld:level="4" ld:meta="global" type-name="vehicle"/></ld:item></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="selected_building" type-name="building" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="building"/></ld:field>
        <ld:field ld:subtype="enum" base-type="int16_t" name="selected_stockpile_type" type-name="stockpile_category" ld:level="1" ld:meta="global"/>
        <ld:field name="update_selected_building" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
        <ld:field name="building_width" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field name="building_height" ld:level="1" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
        <ld:field ld:subtype="enum" name="selected_direction" base-type="int8_t" type-name="screw_pump_direction" ld:level="1" ld:meta="global"/>

        <ld:field name="map" ld:level="1" ld:meta="compound" ld:typedef-name="T_map">
            52cdc
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="map_blocks" pointer-type="map_block" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="map_block"><ld:item ld:level="4" ld:meta="global" type-name="map_block"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="block_index" is-array="true" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" is-array="true" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" is-array="true" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="pointer" type-name="map_block" ld:is-container="true"><ld:item ld:level="6" ld:meta="global" type-name="map_block"/></ld:item>
                    </ld:item>
                </ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="map_block_columns" pointer-type="map_block_column" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="map_block_column"><ld:item ld:level="4" ld:meta="global" type-name="map_block_column"/></ld:item></ld:field>
            <ld:field ld:level="2" ld:meta="pointer" name="column_index" is-array="true" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" is-array="true" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" type-name="map_block_column" ld:is-container="true"><ld:item ld:level="5" ld:meta="global" type-name="map_block_column"/></ld:item>
                </ld:item>
            </ld:field>

            <ld:field name="x_count_block" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="y_count_block" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="z_count_block" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="x_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="y_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="z_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="region_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="region_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="region_z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:level="2" ld:meta="static-array" name="distance_lookup" count="53" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="static-array" count="53" type-name="int16_t" comment="Appears to be precomputed rounded integer distances" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:item>
            </ld:field>

            <ld:field name="rotation" ld:level="2" ld:meta="number" ld:subtype="uint8_t" ld:unsigned="true" ld:bits="8"/>

            <ld:field ld:level="2" ld:meta="pointer" type-name="z_level_flags" name="z_level_flags" is-array="true" comment="v0.34.05" ld:is-container="true"><ld:item ld:level="3" ld:meta="global" type-name="z_level_flags"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="pointer" name="world_data" type-name="world_data" ld:is-container="true"><ld:item ld:level="2" ld:meta="global" type-name="world_data"/></ld:field>

        <ld:field name="worldgen_status" ld:level="1" ld:meta="compound" ld:typedef-name="T_worldgen_status">
            <ld:field name="state" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="num_rejects" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="static-array" count="53" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_1"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="53" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field name="rejection_reason" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="lakes_total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_4"/>
            <ld:field name="lakes_cur" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
            <ld:field ld:level="2" ld:meta="static-array" count="100" type-name="int32_t" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="100" type-name="int8_t" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="3" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="100" type-name="int16_t" ld:is-container="true" ld:anon-name="anon_9"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_10"/>
            <ld:field name="finalized_civ_mats" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="finalized_art" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="finalized_uniforms" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="finalized_sites" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_11"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_12"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_13"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_14"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_15"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field name="width" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="height" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_16"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_17"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field name="rivers_total" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="rivers_cur" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_18"/>
            <ld:field name="last_param_set" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="last_seed" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="last_name_seed" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="last_history_seed" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="last_creature_seed" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="placed_caves" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="placed_good_evil" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="placed_megabeasts" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="placed_other_beasts" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="made_cave_pops" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="made_cave_civs" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="placed_civs" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="finished_prehistory" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_19"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_20"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_21"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_22"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_23"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_24"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8" ld:anon-name="anon_25"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_26"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="pointer" ld:is-container="true" ld:anon-name="anon_27"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_28"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_29"/>
            <ld:field ld:level="2" ld:meta="static-array" count="10" ld:is-container="true" ld:anon-name="anon_30">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="10" ld:is-container="true" ld:anon-name="anon_31">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:field>
            <ld:field ld:level="2" ld:meta="static-array" count="10" ld:is-container="true" ld:anon-name="anon_32">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true"/>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_33"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_34"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_35"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_36"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_37"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_38"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_39"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_40"/>
        </ld:field>

        <ld:field name="orphaned_flow_pool" type-name="flow_reuse_pool" ld:level="1" ld:meta="global"/>

        -- RAWs

        <ld:field name="raws" type-name="world_raws" ld:level="1" ld:meta="global"/>

        <ld:field name="unk_59dc4" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk_59dc4">
            <ld:field name="regions" type-name="coord2d_path" ld:level="2" ld:meta="global"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk1" ld:is-container="true">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_unk1">
                    <ld:field name="ref" type-name="world_population_ref" ld:level="4" ld:meta="global"/>
                    <ld:field ld:meta="container" ld:level="4" ld:subtype="stl-vector" name="unk" ld:is-container="true">
                        <ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                    </ld:field>
                </ld:item>
                    
                    
                </ld:item>
            </ld:field>
        </ld:field>

        <ld:field name="flow_engine" ld:level="1" ld:meta="compound" ld:typedef-name="T_flow_engine">
            <ld:field name="rnd_16" ld:level="2" ld:meta="number" ld:subtype="int8_t" ld:bits="8"/>
            <ld:field name="rnd_256" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="rnd_pos" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="static-array" name="rnd_x" type-name="int16_t" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:level="2" ld:meta="static-array" name="rnd_y" type-name="int16_t" count="16" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="block_idx" refers-to="$$._global.map.map_blocks[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk7a" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk7b" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk7c" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="unk7_cntdn" type-name="int16_t" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="busy_buildings" type-name="int32_t" ref-target="building" comment="buildings with nonempty getUsers" ld:is-container="true"><ld:item ref-target="building" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="df-flagarray" name="cavein_flags" comment="flag 0 means process cave columns" ld:is-container="true"/>
        <ld:field name="unk_59e78" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field name="worldgen" ld:level="1" ld:meta="compound" ld:typedef-name="T_worldgen">
            <ld:field name="version" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field name="next_unit_chunk_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="next_unit_chunk_offset" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field name="next_art_image_chunk_id" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="next_art_image_chunk_offset" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            ctor 87ae880
            <ld:field name="worldgen_parms" ld:level="2" ld:meta="compound" ld:typedef-name="T_worldgen_parms">
                <ld:field name="title" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="seed" comment="v0.34.01" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="history_seed" comment="v0.34.01" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="name_seed" comment="v0.34.01" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="creature_seed" comment="v0.34.01" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="dim_x" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="dim_y" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="custom_name" ld:level="3" ld:meta="primitive" ld:subtype="stl-string"/>
                <ld:field name="has_seed" ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="has_history_seed" ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="has_name_seed" ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="has_creature_seed" ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="embark_points" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="peak_number_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="partial_ocean_edge_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="complete_ocean_edge_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="volcano_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="static-array" name="region_counts" count="3" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="static-array" type-name="int32_t" count="10" index-enum="worldgen_region_type" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
                </ld:field>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="river_mins" count="2" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field name="subregion_max" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_count" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_openness_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_openness_max" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_passage_density_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_passage_density_max" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_water_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cavern_layer_water_max" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="have_bottom_layer_1" ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="have_bottom_layer_2" ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
                <ld:field name="levels_above_ground" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="levels_above_layer_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="levels_above_layer_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="levels_above_layer_3" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="levels_above_layer_4" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="levels_above_layer_5" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="levels_at_bottom" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cave_min_size" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cave_max_size" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="mountain_cave_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="non_mountain_cave_min" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="total_civ_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="rain_ranges_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="rain_ranges_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="rain_ranges_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="drainage_ranges_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="drainage_ranges_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="drainage_ranges_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="savagery_ranges_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="savagery_ranges_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="savagery_ranges_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="volcanism_ranges_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="volcanism_ranges_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="volcanism_ranges_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="static-array" count="4" name="ranges" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="static-array" type-name="int32_t" count="24" index-enum="worldgen_range_type" ld:is-container="true"><ld:item ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:item>
                </ld:field>
                <ld:field name="beast_end_year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="end_year" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="beast_end_year_percent" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="total_civ_population" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="site_cap" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="elevation_ranges_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="elevation_ranges_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="elevation_ranges_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="mineral_scarcity" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="megabeast_cap" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="semimegabeast_cap" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="titan_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="titan_attack_trigger" count="3" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field name="demon_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="night_troll_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="bogeyman_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="vampire_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="werebeast_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="secret_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="regional_interaction_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="disturbance_interaction_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="evil_cloud_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="evil_rain_number" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="good_sq_counts_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="evil_sq_counts_0" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="good_sq_counts_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="evil_sq_counts_1" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="good_sq_counts_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="evil_sq_counts_2" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="elevation_frequency" count="6" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="rain_frequency" count="6" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="drainage_frequency" count="6" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="savagery_frequency" count="6" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="temperature_frequency" count="6" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="static-array" type-name="int32_t" name="volcanism_frequency" count="6" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
                <ld:field ld:level="3" ld:meta="pointer" name="ps" ld:is-container="true"/> dtor 83bed90
                <ld:field name="reveal_all_history" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="cull_historical_figures" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="erosion_cycle_count" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="periodically_erode_extremes" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="orographic_precipitation" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="playable_civilization_required" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="all_caves_visible" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="show_embark_tunnel" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field ld:level="3" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_1"/>
            </ld:field>
        </ld:field>

        -- hist figures

        <ld:field name="history" type-name="world_history" ld:level="1" ld:meta="global"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="entity_populations" pointer-type="entity_population" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="entity_population"><ld:item ld:level="3" ld:meta="global" type-name="entity_population"/></ld:item></ld:field>

        <ld:field name="reindex_pathfinding" comment="forces map_block.passable to be recomputed" ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

        <ld:field name="frame_counter" comment="increases by 1 every time . is pressed" ld:level="1" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

        <ld:field ld:meta="container" ld:level="1" ld:subtype="stl-vector" name="orphaned_flows" pointer-type="flow_info" comment="flows that are not tied to a map_block" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="2" type-name="flow_info"><ld:item ld:level="3" ld:meta="global" type-name="flow_info"/></ld:item></ld:field>

        <ld:field name="pathfinder" ld:level="1" ld:meta="compound" ld:typedef-name="T_pathfinder">
            <ld:field ld:level="2" ld:meta="static-array" name="boundary_heap" count="80000" ld:is-container="true">
                <ld:item ld:meta="compound" ld:level="2" ld:typedef-name="T_boundary_heap">
                
                <ld:field name="total_cost" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="local_cost" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
                <ld:field name="x" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="y" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                <ld:field name="z" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            </ld:item>
                <comment>A heap of current boundary tiles.</comment>
                
                
                
                
                
            </ld:field>
            <ld:field name="heap_count" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="pos1" type-name="coord" ld:level="2" ld:meta="global"/>
            <ld:field name="pos2" type-name="coord" ld:level="2" ld:meta="global"/>

            -- Not quite simple distance, it seems:
            <ld:field name="dist_x" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="dist_y" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="dist_z" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field name="next_path_cost" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="wipe_path_cost" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>
            <ld:field name="next_path_tag" ld:level="2" ld:meta="number" ld:subtype="uint16_t" ld:unsigned="true" ld:bits="16"/>
            <ld:field name="wipe_path_tag" ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8"/>

            <ld:field name="next_walkable_id" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

            <ld:field name="plant_update_step" ld:level="2" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_1"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
        </ld:field>

        <ld:field name="cur_savegame" ld:level="1" ld:meta="compound" ld:typedef-name="T_cur_savegame">
            <ld:field name="save_dir" ld:level="2" ld:meta="primitive" ld:subtype="stl-string"/>
            <ld:field size="4" ld:level="2" ld:meta="bytes" ld:subtype="padding" ld:anon-name="anon_1"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="map_features" pointer-type="feature_init" ld:is-container="true"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="feature_init"><ld:item ld:level="4" ld:meta="global" type-name="feature_init"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="feature_x" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="feature_y" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" name="feature_local_idx" comment="same as map_block.local_feature" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" name="feature_global_idx" ref-target="world_underground_region" ld:is-container="true"><ld:item ref-target="world_underground_region" ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" pointer-type="feature_init" comment="from unk_E4" ld:is-container="true" ld:anon-name="anon_2"><ld:item ld:meta="pointer" ld:is-container="true" ld:level="3" type-name="feature_init"><ld:item ld:level="4" ld:meta="global" type-name="feature_init"/></ld:item></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.region_x" ld:is-container="true" ld:anon-name="anon_3"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.region_y" ld:is-container="true" ld:anon-name="anon_4"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk4" ld:is-container="true" ld:anon-name="anon_5"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk6" ld:is-container="true" ld:anon-name="anon_6"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.local_feature_idx" ld:is-container="true" ld:anon-name="anon_7"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" comment="unk_E4.global_feature_idx" ld:is-container="true" ld:anon-name="anon_8"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int32_t" comment="unk_E4.unk10" ld:is-container="true" ld:anon-name="anon_9"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk14" ld:is-container="true" ld:anon-name="anon_10"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk16" ld:is-container="true" ld:anon-name="anon_11"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk18" ld:is-container="true" ld:anon-name="anon_12"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk1a" ld:is-container="true" ld:anon-name="anon_13"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk1a" ld:is-container="true" ld:anon-name="anon_14"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" type-name="int16_t" comment="unk_E4.unk1c" ld:is-container="true" ld:anon-name="anon_15"><ld:item ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
        </ld:field>

        <ld:field ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_1"/>
        <ld:field ld:level="1" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_2"/>

        <ld:field name="arena_spawn" ld:level="1" ld:meta="compound" ld:typedef-name="T_arena_spawn">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="race" type-name="int16_t" ref-target="creature_raw" ld:is-container="true"><ld:item ref-target="creature_raw" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="caste" type-name="int16_t" ref-target="caste_raw" aux-value="$$._parent.race[$._key]" ld:is-container="true"><ld:item ref-target="caste_raw" aux-value="$$._parent.race[$._key]" ld:level="3" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/></ld:field>

            <ld:field name="type" refers-to="$$._parent.caste[$].ref-target" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field comment="v0.34.08" ld:level="2" ld:meta="primitive" ld:subtype="stl-string" ld:anon-name="anon_1"/>

            <ld:field ld:level="2" ld:meta="static-array" name="item_types" count="105" comment="true array" ld:is-container="true">
                <ld:item ld:meta="container" ld:level="3" ld:subtype="stl-vector" ld:is-container="true">
                    <ld:item ld:level="4" ld:meta="pointer" ld:is-container="true">
                        <ld:item ld:meta="compound" ld:level="4" ld:typedef-name="T_item_types">
                        <ld:field ld:subtype="enum" base-type="int16_t" name="item_type" type-name="item_type" ld:level="5" ld:meta="global"/>
                        <ld:field name="item_subtype" refers-to="(item-subtype-target $$._parent.item_type $)" ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>

                        <ld:field name="mattype" ref-target="material" aux-value="$$.matindex" ld:level="5" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                        <ld:field name="matindex" ld:level="5" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

                        <ld:field ld:level="5" ld:meta="number" ld:subtype="bool" ld:bits="8" ld:anon-name="anon_1"/>
                    </ld:item>
                        
                        

                        
                        

                        
                    </ld:item>
                </ld:item>
            </ld:field>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3"/>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_4"/>

            <ld:field name="equipment" ld:level="2" ld:meta="compound" ld:typedef-name="T_equipment">
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="skills" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="job_skill" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="skill_levels" type-name="int32_t" index-refers-to="$$._parent.skills[$]" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>

                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="item_types" ld:is-container="true">
                    <ld:item ld:subtype="enum" base-type="int16_t" type-name="item_type" ld:level="4" ld:meta="global"/>
                </ld:field>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="item_subtypes" ld:is-container="true">
                    <ld:item refers-to="(item-subtype-target $$._parent._parent.item_types[$$._key] $)" ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16"/>
                </ld:field>
                <ld:field name="item_materials" type-name="material_vec_ref" ld:level="3" ld:meta="global"/>
                <ld:field ld:meta="container" ld:level="3" ld:subtype="stl-vector" name="item_counts" type-name="int32_t" ld:is-container="true"><ld:item ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
            </ld:field>

            <ld:field name="side" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>
            <ld:field name="interaction" refers-to="$$._parent.interactions[$]" ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/>

            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="interactions" type-name="pointer" comment="v0.34.01" ld:is-container="true"><ld:item ld:level="3" ld:meta="pointer" ld:subtype="pointer"/></ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" name="creature_cnt" type-name="int32_t" index-refers-to="(find-instance $creature_raw $)" ld:is-container="true"><ld:item ld:level="3" ld:meta="number" ld:subtype="int32_t" ld:bits="32"/></ld:field>
        </ld:field>

        <ld:field name="unk_19325c" ld:level="1" ld:meta="compound" ld:typedef-name="T_unk_19325c">
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_1">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_anon_1">
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_3"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
                </ld:item>
                    
                    
                    
                    
                    
                    
                </ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_2">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_anon_2">
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_1"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                </ld:item>
                    
                    
                </ld:item>
            </ld:field>
            <ld:field ld:meta="container" ld:level="2" ld:subtype="stl-vector" ld:is-container="true" ld:anon-name="anon_3">
                <ld:item ld:level="3" ld:meta="pointer" ld:is-container="true">
                    <ld:item ld:meta="compound" ld:level="3" ld:typedef-name="T_anon_3">
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int16_t" ld:bits="16" ld:anon-name="anon_1"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_2"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_3"/>
                    <ld:field ld:level="4" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
                </ld:item>
                    
                    
                    
                    
                </ld:item>
            </ld:field>

            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_4"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_5"/>
            <ld:field ld:level="2" ld:meta="number" ld:subtype="int32_t" ld:bits="32" ld:anon-name="anon_6"/>
        </ld:field>
    </ld:global-type>
</ld:data-definition>
